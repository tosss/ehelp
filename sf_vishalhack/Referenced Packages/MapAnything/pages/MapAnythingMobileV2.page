<apex:page docType="html-5.0" showheader="false" sidebar="false" controller="sma.MapAnything" action="{!StartUpAction}" extensions="sma.MARemoteFunctions">

    <script>
        var MARemoting = {
            phase_4 : '{!$RemoteAction.MARemoteFunctions.GetRecords}',
            getShapes : '{!$RemoteAction.MARemoteFunctions.GetShapeInfo}',
            placeSearch : '{!$RemoteAction.MARemoteFunctions.googleAPISearch}',
            geocodeRecord : '{!$RemoteAction.MARemoteFunctions.geoCodeRecord}',
            live_phase_4 : '{!$RemoteAction.MARemoteFunctions.GetDevicesCurrentLocation}',
            live_history: '{!$RemoteAction.MARemoteFunctions.GetLiveDeviceHistory}',
            getEsriToken : '{!$RemoteAction.MARemoteFunctions.getEsriToken}',
            getEsriRoute : '{!$RemoteAction.MARemoteFunctions.getEsriRoute}',
            getDriveProfile : '{!$RemoteAction.MARemoteFunctions.getCustomDriveProfile}',
            get_service_area: '{!$RemoteAction.MARemoteFunctions.getServiceArea}',
            processAJAXRequest : '{!$RemoteAction.MARemoteFunctions.processAJAXRequest}',
            processAJAXRequestReadOnly : '{!$RemoteAction.MARemoteFunctions.processAJAXRequestReadOnly}',
            MapAnythingIORequest : '{!$RemoteAction.MARemoteFunctions.MapAnythingIORequest}',
            searchMAObjectsForRecords : '{!$RemoteAction.MARemoteFunctions.searchMAObjectsForRecords}',
            validateMABaseObjectTooltips : '{!$RemoteAction.MARemoteFunctions.validateMABaseObjectTooltips}',
            MapAnythingIORequestPOST : '{!$RemoteAction.MARemoteFunctions.MapAnythingIORequestPOST}',
            getRoute: '{!$RemoteAction.MARemoteFunctions.getRoute}'
        }
        var pageSuffix = '{!pageSuffix}';
    </script>

<head>
    <style>
        /* Fix SF Styles */
        h1, h2, h3, h4, h5, h6 {
            margin : 0;
        }
    </style>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, target-densityDpi=device-dpi" />-->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>MapAnything Salesforce1 Mobile</title>

    <!--<apex:stylesheet value="{!URLFOR($Resource.MAPhone, 's1Mobile/css/ma2-style.css')}"/>-->
    <apex:stylesheet value="{!URLFOR($Resource.sma__MAPhone, 's1Mobile/css/test.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.sma__MAPhone, '/s1Mobile/styles.css')}"/>

    <!-- Lightning Design System 2.3.0 -->
    <link type="text/css" rel="stylesheet" href="{!URLFOR($Resource.MapAnythingJS, 'styles/css/salesforce-lightning-design-system-vf-2.3.0.min.css')}" />

    <!-- Google Maps -->
    <script>
        /*//fix google maps touch events, forced
        navigator = navigator || {};
        if(('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0)) {
            navigator.msPointerEnabled = true;
            navigator.msMaxTouchPoints = navigator.msMaxTouchPoints || 2;
        }*/

    </script>
    <script type='text/javascript' src='https://maps.googleapis.com/maps/api/js?client=gme-cloudbiltinc&libraries=places,visualization,drawing,geometry'></script>

    <!-- Google Maps - Spiderfy (https://github.com/jawj/OverlappingMarkerSpiderfier) -->
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/overlappingmarkerspiderfier/oms.min.js')}"></script>

    <!-- CryptoJS (https://code.google.com/p/crypto-js/) -->
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/cryptojs/core-min.js')}"></script>
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/cryptojs/enc-utf16-min.js')}"></script>
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/cryptojs/enc-base64-min.js')}"></script>

    <!-- async -->
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'async/async.min.js')}"></script>

    <!-- Google Maps - InfoBubble (http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/examples/example.html) -->
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/infobubble/infobubble.js')}"></script>
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnythingJS, 'ArcGISOnlineJS.js')}"></script>
    <script type='text/javascript'>

        //InfoBubble does not support padding when panning to view.  Adding the padding that MA needs
        InfoBubble.prototype.panToView = function() {

            //make sure projection and bubble are available
            var projection = this.getProjection();
            if (!projection || !this.bubble_) { return; }

            //this is the magic var
            var MAPaddingTop = 65;

            var anchorHeight = this.getAnchorHeight_();
            var height = this.bubble_.offsetHeight + anchorHeight + MAPaddingTop;
            var map = this.get('map');
            var mapDiv = map.getDiv();
            var mapHeight = mapDiv.offsetHeight;

            var latLng = this.getPosition();
            var centerPos = projection.fromLatLngToContainerPixel(map.getCenter());
            var pos = projection.fromLatLngToContainerPixel(latLng);

            // Find out how much space at the top is free
            var spaceTop = centerPos.y - height;

            // Fine out how much space at the bottom is free
            var spaceBottom = mapHeight - centerPos.y;

            var needsTop = spaceTop < 0;
            var deltaY = 0;

            if (needsTop) {
                spaceTop *= -1;
                deltaY = (spaceTop + spaceBottom) / 2;
            }

            pos.y -= deltaY;
            latLng = projection.fromContainerPixelToLatLng(pos);

            if (map.getCenter() != latLng) { map.panTo(latLng); }
        };
        InfoBubble.prototype['panToView'] = InfoBubble.prototype.panToView;
    </script>

    <!-- Google Maps - geoxml3 (https://code.google.com/p/geoxml3/) -->
    <script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/geoxml3/geoxml3.js')}"></script>

    <style>
        .listviewSort .ma-dropdown-list {
            max-height:150px;
            overflow:auto;
        }
        /************* Scrolling fix *************************/
        /*.ma-modal {*/
        /*    opacity: 0;*/
        /*    visibility: hidden;*/
        /*    @include transition(0s z-index .15s, .15s opacity 0s, 0s visibility .15s, 0s max-width .15s, 0s max-height .15s);*/
        /*    position: fixed;*/
        /*    top: -5000;*/
        /*    right: -5000;*/
        /*    bottom: 0;*/
        /*    left: 0;*/
        /*    max-height:0;*/
        /*    max-width:0;*/
        /*}*/

        /*.ma-modal.in {*/
        /*    opacity: 1;*/
        /*    visibility: visible;*/
        /*    z-index: 4001;*/
        /*    top: 0;*/
        /*    right: 0;*/
        /*    @include transition(0s z-index 0s, .15s opacity 0s, 0s visibility 0s, 0s max-width 0s, 0s max-height 0s);*/
        /*    max-width:100%;*/
        /*    max-height:100%;*/
        /*}*/

        .js-maPopup .js-close-this-slds-modal {
            display:none;
        }

        /************* Older Loading Styles ************************/
        .loadmask-wrapper {
            position: relative;
            overflow: hidden;
            padding: 0;
            min-height: 150px;
        }
        .loadmask-active {
            overflow: hidden !important;
        }
        .loadmask {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 99;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            background-color: #ffffff;
            opacity: 0.4;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity = 40);
            filter: alpha(opacity = 40);
        }
        .loadmask-status {
            position: absolute;
            width: 100%;
            text-align: center;
            z-index: 999999;
            top: 50px;
        }
        .loadmask-status .status {
            margin: 0 auto !important;
            background-color: white !important;
            display: inline-block !important;
            padding: 15px !important;
            font-size: 10px !important;
            -moz-border-radius: 12px !important;
            -webkit-border-radius: 12px !important;
            border-radius: 12px !important;
            -moz-box-shadow: 0px 0px 8px #000000 !important;
            -webkit-box-shadow: 0px 0px 8px #000000 !important;
            box-shadow: 0px 0px 8px #000000 !important;
        }
        .loadmask-status .status * {
            vertical-align: middle !important;
        }
        .MA2-loader.loader-inline {
            margin-right: 10px;
            top: 0px;
        }

        /********** Map Click C2C *************/
        #message-top-center-container {
            position: fixed;
            z-index: 0;
            color: white;
            visibility: hidden;
            opacity: 0;
        }
        #message-top-center-container.in{
            opacity: 1;
            transition: opacity 0.3s linear;
            visibility: visible;
            z-index: 1000;
        }
        #message-top-center-container .toast {
            display: block;
            width: 300px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0.95;
            padding: 15px;
            width: 400px;
            max-width: 80%;
        }
        #message-top-center-container .markerWrapper {
            position: fixed;
            z-index: 1000;
            top: 50%;
            left: 50%;
            margin-top: -30px;
            margin-left: -7px;
        }
        #maMasterWrap.mapClick2Create .sidebar-panel, #maMasterWrap.mapClick2Create #bottomBarWrap, #maMasterWrap.mapClick2Create #mapListButton, #maMasterWrap.mapClick2Create #mapLegendButton, #maMasterWrap.mapClick2Create .main-panel, #maMasterWrap.mapClick2Create #mapMarkerRefreshButton {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s linear, visibility 0.3s linear;
        }
        /************* End Map C2C *****************/

        #layersIndexWrap.half-nest-out {
            z-index : -100;
        }
        .inverted-color .ma-input option {
            color: black;
            background: white;
        }

        /***********************
        * ul list styles
        ***********************/
        ul.table-view {
            padding-left: 0;
            margin-top: 0;
            margin-bottom: 15px;
            list-style: none;
            background-color: #fff;
            border-top: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
        }

        li.table-view-cell {
            position: relative;
            padding: 11px 65px 11px 15px;
            overflow: hidden;
            border-bottom: 1px solid #ddd;
            margin-left: 0px;
        }

        .table-view-wrap {
            overflow: hidden;
            border: 1px solid #ddd;
            border-radius: 6px;
        }
        .table-view-wrap .table-view {
            margin-bottom: 0;
            border-top: 0;
            border-bottom: 0;
        }
        .table-view-cell:last-child {
            border-bottom: 0;
        }
        .table-view-wrap .table-view-cell:last-child {
            border-bottom: 0;
        }

        #routeEditBottomBar .routeBottomButton {
            text-align: center;
            flex: 1 0 0px;
            line-height: 1;
            font-size: .625rem;
            padding: .5rem 0;
            border-top: 3px solid transparent;
        }
        #routesWrap .time-block-navarrow {
            display:none;
        }
        #routesWrap.isVisible .time-block-navarrow {
            display:block;
        }
        /* Layers search*/
        #layersSearchWrapper {
            position: absolute;
            width: 100%;
            background: white;
            height: calc(100% - 57px);
            z-index : 0;
            opacity: 0;
        }
        #layersSearchWrapper.in {
            z-index: 101;
            transition: opacity .25s ease-in-out;
            opacity: 1;
        }
        #foldersearch-results-contents {
            height: calc(100% - 50px);
            overflow-y: scroll;
        }

        .ma-render-icon[type="markers"] {
            height: 24px;
            width: 24px;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/plot_type_marker.svg")}');
            background-size: 24px;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }
        .ma-render-icon[type="cluster"] {
            height: 24px;
            width: 24px;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/plot_type_cluster.svg")}');
            background-size: 24px;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }
        .ma-render-icon[type="scatter"] {
            height: 24px;
            width: 24px;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/plot_type_scatter.svg")}');
            background-size: 24px;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }
        .ma-render-icon[type="heatmap"] {
            height: 24px;
            width: 24px;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/plot_type_heatmap.png")}');
            background-size: 24px;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }

        /* live marker */
        .ma-icon[type="live"] {
            height: 100%;
            width: 100%;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/ma-live.svg")}');
            background-size: auto;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }
        .liveColorOption {
            display: inline-block;
            height: 30px;
            width: 30px;
            cursor: pointer;
            border: 1px solid transparent;
            position: relative;
            margin-right: 10px;
            margin-top: 10px;
            padding-bottom: 0;
            text-align: center;
            vertical-align: top;
        }

        /* live-device marker */
        .ma-icon[type="live-device"] {
            height: 100%;
            width: 100%;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/folder_device.svg")}');
            background-size: auto;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }

        /* geofence marker */
        .ma-icon[type="geofence"] {
            height: 100%;
            width: 100%;
            background-image: url('{!URLFOR($Resource.MapAnything, "malayersv2/img/folder_geofence.svg")}');
            background-size: auto;
            border-image-width: 0 !important;
            background-repeat: no-repeat;
            border: 0 !important;
            background-position: center 0;
        }

        #queryPlottingOptions .queryselectWrapper {
            font-size: 16px;
            margin: 0px;
        }
        #queryPlottingOptions .ma-icon {
            margin-right: 10px;
            margin-left: 15px;
            font-size: 26px;
        }
        .full-width {
            width:100%;
        }
        #queryPlottingOptions .ma-checkbox-label{
            margin: 0 15px;
        }
        #queryPlottingOptions .displayLabel {
            vertical-align: top;
            line-height: 28px;
            margin-left: 15px;
        }
        #queryPlottingOptions .ma-checkbox-faux {
            margin-top: 4px;
        }
        .colorIsChecked:before {
            font-size: 18px;
            color: white;
            line-height: 28px;
            content: "\e17d";
            font-family: "ma-icons-2" !important;
            font-style: normal !important;
            font-weight: normal !important;
            font-variant: normal !important;
            text-transform: none !important;
            speak: none;
            -webkit-font-smoothing: antialiased;
        }
        .tracking-history-content .liveColorInput {
          display: none;
        }
        .tracking-history-content .cor1 {
          background-color: #4986E7;
          border-color: #4986E7;
        }

        .tracking-history-content .cor2 {
          background-color: #000000;
          border-color: #000000;
        }

        .tracking-history-content .cor3 {
          background-color: #A4BDFC;
          border-color: #A4BDFC;
        }

        .tracking-history-content .cor4 {
          background-color: #46D6DB;
          border-color: #46D6DB;
        }

        .tracking-history-content .cor5 {
          background-color: #7AE7BF;
          border-color: #7AE7BF;
        }

        .tracking-history-content .cor6 {
          background-color: #51B749;
          border-color: #51B749;
        }

        .tracking-history-content .cor7 {
          background-color: #FBD75B;
          border-color: #FBD75B;
        }

        .tracking-history-content .cor8 {
          background-color: #FFB878;
          border-color: #FFB878;
        }
        .route-month {
            height: calc(100% - 60px);
        }
        .tracking-history-content .cor9 {
          background-color: #FF887C;
          border-color: #FF887C;
        }

        .tracking-history-content .cor10 {
          background-color: #DC2127;
          border-color: #DC2127;
        }

        .tracking-history-content .cor11 {
          background-color: #DBADFF;
          border-color: #DBADFF;
        }

        .tracking-history-content .cor12 {
          background-color: #E1E1E1;
          border-color: #E1E1E1;
        }
        .BadGeocodeForWaypoint {
            background: #ffc8c8;
        }
        .GoodGeocodeForWaypoint {
            background-color: #D4F8D4;
        }

        /* Click 2 Create Form */
        .fieldInput select[multiple="multiple"] {
            overflow: scroll;
            -webkit-overflow-scrolling: touch;
            height: 130px;
            width: 165px;
        }
        .customDisWrapper {
            /*min-width : 300px;*/
        }
        .multiSelectPicklistCell {
            min-width : 40px;
        }
        #ListActionSheet .ma-action-sheet-item.header {
            background-color: #3083d3;
            color: white;
        }
        .fieldInput input {
            width: 95% !important;
            padding: 0 5px;
            line-height: 30px;
            border: 1px solid silver;
            border-radius: 3px;
            display: block;
        }
        .fieldInput input[type="checkbox"] {
            height: 20px;
        }
        .fieldInput select {
            width: 95%;
            padding: 8px;
            line-height: 30px;
            border: 1px solid silver;
            border-radius: 3px;
            margin-bottom: 5px;
            display: block;
        }
        .fieldInput textarea {
            width: 95%;
            padding: 0 5px;
            line-height: 30px;
            border: 1px solid silver;
            border-radius: 3px;
            display: block;
        }
        .fieldSetTable td {
            border-top: 1px solid #d8dde6;
        }
        .fieldSetTable {
            /*border-top: 1px solid #d8dde6;*/
            /*border-bottom: 1px solid #d8dde6;*/
            /*text-align: left;*/
            /*border-collapse: collapse;*/
            /*border-spacing: 0;*/
            /*width: 100%;*/
        }
        .ma-modal-content {
            overflow-x: scroll;
            overflow-y : scroll !important;
            -webkit-overflow-scrolling: touch;
        }
        .maPopup-container {
            position : fixed;
        }
        #layersIndividualWrap .layersIndividual[type="datalayer"] .plotOnLoadWrapper {
            display:none;
        }
        .link {
            color: #0094D2;
        }
        .ma-folder-item .ma-icon[type="folder"]:before {
            content: "\e1ac";
            color: #a7b8d1;
        }
        .ma-folder-item .ma-icon[type="datalayer"]:before {
            content: "\e071";
            color: #EF7EAD;
        }
        .ma-folder-item .ma-icon[type="marker"]:before {
            content: "\55";
            color: #4bca81;
        }
        .ma-folder-item .ma-icon[type="shape"]:before {
            content: "\e1ab";
            color: #d4504c;
        }
        .ma-folder-item .ma-icon[type="favorite"]:before {
            content: "\e06a";
            color: #F7B64B;
        }
        .ma-folder-item.active {
            background: #f1f1f1;
        }
        #folder-contents {
            margin-top: 0px;
        }
        #folder-contents.isHome {
            margin-top: 16px;
        }
        #toast-container .toast{
             padding: 15px 15px 15px 55px;
        }
        #toast-container .ma-toast-loading{
            background-color: #16325c;
            background-image: url('{!URLFOR($Resource.MAPhone, "/s1Mobile/images/spinners/slds_spinner_inverse.gif")}');
            background-size: 30px 30px;
        }
        #toast-container .toast-warning {
            background-color: #e3924a;
        }
        #toast-container .toast-error {
            background-color: #d4504c;
        }
        #toast-container .toast-success {
            background-color: #003c4c;
        }
        #tabLayersRecent .emptyList {
            padding: 10px 30px;
            width: 100%;
            text-align: center;
            font-size: 16px;
            color: #a7a7a7;
        }
        #createrecord-fieldset-errors, .createrecordDataLayer2-fieldset-errors, .createrecord2-fieldset-errors {
            padding: 5px 15px;
            border: 1px solid #F00;background-color: rgba(255, 0, 0, 0.05);
            color: #DF5555;font-weight: bold;font-size: 10px;
        }
        /* Tooltip Actions */
        .layout-tooltip {
            width: 400px;
            min-height: 60px;
        }
        .layout-tooltip .buttoncolumn {
            float: left;
            margin: 0 10px 0 0;
        }
        .layout-tooltip .buttonset-section {
            overflow: hidden;
        }
        .layout-tooltip .actionbutton {
            position: relative;
            display: block;
            background-color: #F5F5F5;
            background: #F8F8F8;
            background: url('images/white-button-bg.png');
            background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#FFF), to(#F5F5F5));
            background: -webkit-linear-gradient(top, #FFF, #F5F5F5);
            background: -moz-linear-gradient(center top , #FFF 20%, #F5F5F5 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
            background: -ms-linear-gradient(top, #FFF, #F5F5F5);
            background: -o-linear-gradient(top, #FFF, #F5F5F5);
            background-repeat: repeat-x;
            border: medium none;
            border-radius: 3px 3px 3px 3px;
            border: 1px solid #BBB;
            box-shadow: 0 1px 0 #FFF inset, 0 0 4px rgba(255, 255, 255, 0.5) inset, 0 1px 2px rgba(0, 0, 0, 0.1);
            color: #000;
            font-family: "Helvetica Neue", Helvetica, arial, sans-serif;
            font-size: 10px;
            font-weight: normal;
            line-height: auto;
            text-align: center;
            margin: 5px 0;
            padding: 4px 9px;
            height: auto;
            width: 100px;
            cursor: pointer;
        }
        .layout-tooltip .actionbutton:hover {
            background: #FFF;
            box-shadow: 0 1px 0 rgba(255, 255, 255, 0.3) inset, 0 0 4px rgba(255, 255, 255, 0.2) inset, 0 1px 2px rgba(0, 0, 0, 0.2);
            color: #666;
            text-decoration: none;
        }
        .layout-tooltip .actionbutton.disabled {
            display: none;
        }
        .layout-tooltip .actionbutton.disabled-button {
            color: #B0B0B0;
            border: 1px solid #ccc;
            pointer-events: none;
        }
        input.error {
            border: 1px solid #E48585 !important;
            box-shadow: 0 0 0 2px rgba(255,0,0,0.6) !important;
            transition: box-shadow 0.2s !important;
        }
        .ma-breadcrumb-text {
                /*width: 375px;*/
            }
        /* saved layers scrolling fixes */
        #layersFolders .ma-nested-item--center {
            height: 100%;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }
        /*#layersFolders {
            height: calc(100% - 99px);
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }*/
        #markerTooltipTopBar .recordName {
            /*max-width: 295px;*/
        }
        #clusterBody {
            height: calc(100% - 80px);
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }
        .ma-folder-content-wrap {
            overflow-y: scroll;
            max-height: calc(100% - 99px);
            -webkit-overflow-scrolling: touch;
        }
        .view-panel.half-bottom-phone.in.full-height {
            max-height: 50%;
        }
        .ma-action-sheet {
            max-height: 300px;
            overflow: scroll !important;
            /*-webkit-overflow-scrolling: touch;*/
        }

        #routesWrap .waypoint-row .time-label{
            flex: 0 0 50px;
        }
        #routesWrap .waypoint-row .time-label-text{
            display : none;
        }
        #routesWrap.isTimeBased .waypoint-row .time-label{
            flex: 0 0 133px;
        }
        #routesWrap.isTimeBased .waypoint-row .time-label-text{
            display : block;
        }
        #routesWrap .route-drive-row {
            margin-left: 50px;
        }
        #routesWrap.isTimeBased .route-drive-row {
            margin-left: 133px;
        }
        #addtocampaign-select-grid-wrapper{
            margin-top: 15px;
            height: calc(100% - 120px);
            margin-bottom: 10px;
            overflow: scroll !important;
            -webkit-overflow-scrolling: touch;
        }
        .legend-row.empty,.legend-item.empty  {
            display:none;
        }
        #shape-popup-accordion .legend-row td {
            font-size: 14px;
            white-space: normal;
            width: 100%;
        }
        #shape-popup-accordion .accordianIcon {
            margin-right: 10px;
            font-size: 17px;
            color: #a7b8d1;
        }
        #shape-popup-accordion .shape-cluster-popup-message-firstXXmarkers {
            font-size: 12px;
            text-align: center;
            color: #a7b8d1;
            background-color: #d9edf7;
            border: 1px solid #bce8f1;
            padding: 5px;
        }
        #clusterWrap {
            z-index: 900;
        }
        #clusterWrap .panel-title-row{
            padding-left: 16px;
            -webkit-transition: 0.22s padding;
            -moz-transition: 0.22s padding;
            -ms-transition: 0.22s padding;
            -o-transition: 0.22s padding;
            transition: 0.22s padding;
        }
        #clusterWrap .ma-list-item, #clusterWrap .ma-table td {
            font-size: 14px;
        }
        #clusterWrap .shape-cluster-popup-header-count {
            font-size: 16px;
        }
        .inline {
            display : inline-block;
        }

        /*** Routes remove *******/
        #routesBody.removeRoutes .plot-route-wrapper{
            display:none;
        }
        #routesBody .remove-route-wrapper, #routesBody .doneRemoveRoutes {
            display:none;
        }
        #routesBody.removeRoutes .remove-route-wrapper, #routesBody.removeRoutes .doneRemoveRoutes{
            display:block;
        }
        #routesBody.removeRoutes .removeRouteButton, #routesBody.removeRoutes .newRouteButton {
            display:none
        }
        #routesBody.removeRoutes #viewRouteButton {
            visibility : hidden;
        }
        #routesIndividualWrap.edit-mode .waypoint-row .time-block-navarrow {
            display : none;
        }
        #routesIndividualWrap.edit-mode .show-route-edit {
            opacity: 0.5;
        }
        #routesIndividualWrap.edit-mode #optimizeRouteButton {
            visibility: hidden;
        }

        .tooltip-wrap .tooltip-body .tooltip-content .ma-tab-content-group {
            overflow: hidden !important;
        }

        /* FASTCLICK FIX for IOS */
        label > * { pointer-events: none; }
        .select2-selection__rendered {
            pointer-events: none;
        }
        .select2-results__option.needsclick {
            font-size:16px;
        }
        .select2-container {
            min-width: 100%;
        }
        .select2-container .select2-dropdown {
            z-index: 4005;
        }
        .ma-form-control.icon-right .ma-icon.icon-right {
            z-index: 1;
        }
        #markerTooltipBody .ma-tab-content.active {
            overflow: scroll;
            height: calc(100% - 5px);
            -webkit-overflow-scrolling: touch;
        }
        /******** Chatter Fix ****************/
        #markerInfoTab2.chatterContent {
            height: 100%;
            overflow: hidden !important;
            -webkit-overflow-scrolling: inherit;
        }
        .tooltip-wrap .tooltip-body .tooltip-content .ma-tab-content-group {
            max-height: calc(100% - 65px);
        }
        @media screen and (max-width: 769px) {
            .toast-bottom-right {
                bottom: 65px !important;
            }

            .js-maPopup .slds-modal__container {
                width : auto !important;
            }

            .tooltip-wrap .tooltip-body .tooltip-content .ma-tab-content-group {
                max-height: calc(100% - 63px);
            }
            .ma-breadcrumb-text {
                width: 100%;
                max-width: 100%;
            }
            /* saved layers scrolling fixes */
            /*#layersFolders  {
                height: calc(100% - 160px);
            }*/
            .ma-folder-content-wrap {
                overflow-y: scroll;
                max-height: calc(100% - 157px);
                -webkit-overflow-scrolling: touch;
            }
            #markerInfoTab2.chatterContent {
                height: calc(100% - 55px) !important;
            }
            #markerTooltipTopBar .recordName {
                /*max-width: 70%;*/
            }
            .ma-action-sheet {
                max-height: 70%;
            }
            /* make popups full screen */
            /*.ma-modal-container {
                margin: 0;
                padding: 10px;
                height: 100%;
            }*/
        }
        #layersIndividualBody .legend-wrap .legend-count {
            display : block;
        }
        /*legend select box*/
        #legendLayerSelector .selectOption .ma-icon, #listLayerSelector .selectOption .ma-icon,#listLayerSelectorTop .selectOption .ma-icon {
            display:none;
        }
        #legendLayerSelector .selectOption.rowSelected .ma-icon,#listLayerSelector .selectOption.rowSelected .ma-icon,#listLayerSelectorTop .selectOption.rowSelected .ma-icon{
            display:block;
        }
        #toast-container {
            z-index: 1000;
        }
        #toast-container .toast {
            opacity : 0.95;
        }
        .MAbutton.button-white {
            background-color: #fff;
            color: #2185d0;
        }
        .hidden {
            display:none !important;
        }
        #listScrollingBodyFull, #searchResults {
            overflow: scroll;
            -webkit-overflow-scrolling: touch;
        }
        #listScrollingBody, #legendBodyInner .legend-body-scrolling-body  {
            overflow-y: scroll !important;
            -webkit-overflow-scrolling: touch;
        }
        #listScrollingBodyFull .map-marker {
            width: 20px;
        }
        #listScrollingBodyFull .legendMarkerImg {
            max-height: 25px;
        }
        #listScrollingBodyFull {
            z-index: -1;
        }
        #listWrap.sidebar-panel-full-width #listScrollingBodyFull {
            z-index:1;
        }
        .clearFilters {
            color : #d4504c;
        }
        .clearFilters:hover, .clearFilters:focus {
            color : #bf322e;
        }
        #createDataLayerRecordV2 .maPopup-footer {
            min-height : 60px;
        }

        /*************************************
        * jQuery UI Slider defaults
        ***************************************/
        .ui-slider { position: relative; text-align: left; }
        .ui-slider .ui-slider-handle { position: absolute; z-index: 2; width: 1.2em; height: 1.2em; cursor: default; }
        .ui-slider .ui-slider-range { position: absolute; z-index: 1; font-size: .7em; display: block; border: 0; background-position: 0 0; }

        .ui-slider-horizontal { height: .8em; }
        .ui-slider-horizontal .ui-slider-handle { top: -.3em; margin-left: -.6em; }
        .ui-slider-horizontal .ui-slider-range { top: 0; height: 100%; }
        .ui-slider-horizontal .ui-slider-range-min { left: 0; }
        .ui-slider-horizontal .ui-slider-range-max { right: 0; }

        .ui-slider-vertical { width: .8em; height: 100px; }
        .ui-slider-vertical .ui-slider-handle { left: -.3em; margin-left: 0; margin-bottom: -.6em; }
        .ui-slider-vertical .ui-slider-range { left: 0; width: 100%; }
        .ui-slider-vertical .ui-slider-range-min { bottom: 0; }
        .ui-slider-vertical .ui-slider-range-max { top: 0; }

        /***************************************
        *   Modifications to Derek Style
        *****************************************/
        /*.tooltip-wrap .tooltip-body .tooltip-content .ma-tab-content-group {
            height : calc(100% - 145px);
        }*/
        .ma-dropdown-list li > a {
            white-space: normal;
        }
        .ma-top-bar-title--left {
            max-width: calc(100% - 100px);
        }

        .ma-top-bar-title--left {
            color: #fff !Important;
        }

        .ma-top-bar-title--left > a {
            color: #fff !important;
        }
        .ma-top-bar-title--left > a:hover, .ma-top-bar-title--left > a:active, .ma-top-bar-title--left > a:focus  {
            color: #fff !important;
            text-decoration:underline;
        }

        .ma-top-bar-title--left .ma-top-bar-subtext {
            color: #fff !important;
            opacity: 0.7 !important;
        }

        /*.ma-folder-item .ma-item-name {
            max-width: calc(100% - 135px);
        }*/
        label.ma-checkbox {
            min-height: 20px;
        }
        .center-text {
            text-align:center;
        }
        .nav-drawer-item {
            font-size : 16px !important;
        }
        .moreInfoLine {
            margin-bottom: 2rem;
            margin-left: 16.666667%;
            width: 66.666667%;
        }
        hr {
            width: 100%;
            height: 1px;
            border: 0;
            margin-left: auto;
            margin-right: auto;
        }
        .linear-grad-blue {
            background: linear-gradient(to right, rgba(48, 131, 211, 0.25), #3083d3);
        }
        .ma-slider {
            width: 100%;
            padding: 0px;
            background: #e0e5ee;
            margin-top: 5px;
            height: 20px;
            border-radius: 25px;
        }
        .ma-slider .ui-slider-range {
            background: #3083d3;
            padding: 0px !important;
            border-radius: 25px;
        }
        .ma-slider .ui-slider-handle {
            background: #a7b8d1;
            height: 28px;
            width: 28px;
            border-radius: 5px;
        }
        .ma-form-control .ma-icon.inset-icon--right {
            position: absolute;
            top: 13px;
            right: 11px;
            margin: 0;
            pointer-events: none;
            cursor: pointer;
        }
        .ma-table.ma-table--sortable th.sortable-column.headerSortDown div.sortable-column-inner:after {
            right: 10px;
            font-family: 'ma-icons-2';
            content: "\6e";
            font-size: 16px;
            width: 16px;
            height: 16px;
            line-height: 1;
            position: absolute;
            text-transform: none !important;
        }
        .ma-table.ma-table--sortable th.sortable-column.headerSortUp div.sortable-column-inner:after {
            right: 10px;
            font-family: 'ma-icons-2';
            content: "\6f";
            font-size: 16px;
            width: 16px;
            height: 16px;
            line-height: 1;
            position: absolute;
            text-transform: none !important;
        }
        .ma-table td {
            padding: .5rem 2rem .5rem .5rem;
        }
        .ma-button--sm {
            height: 26px;
            line-height: 26px;
            font-size: 12px;
            padding: 0 12px;
        }
        .ma-list-item .float-right, .ma-list-item .pull-right, .ma-list-header .float-right, .ma-list-header .pull-right {
            float: none;
            margin-left: auto;
        }
        .ma-list-header .ma-list-item-name {
            font-weight: 700;
        }
        .ma-list-item-name {
            color: #16325c;
            font-size: 1rem;
            line-height: 1.25rem;
        }
        .ma-list.ma-list-border .ma-list-item {
            border-bottom: 1px solid #d8dde6;
        }
        .ma-list .ma-list-item.active, .ma-list .ma-list-item.Active {
            background-color: #f4f6f9;
            border-color: #d8dde6;
            cursor: pointer;
        }
        .ma-list-header {
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -ms-flex-align: center;
            -webkit-align-items: center;
            -webkit-box-align: center;
            align-items: center;
            margin: 0;
            width: 100%;
            padding: .75rem .5rem;
            background-color: #ffffff;
            border-bottom: 2px solid #d8dde6;
        }
        .ma-list .ma-list-item {
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            margin: 0;
            width: 100%;
            padding: .5rem;
            background-color: #ffffff;
        }
        .ma-list-icon-left {
            margin-right: .75rem;
            -webkit-align-self: flex-start;
            align-self: flex-start;
        }
        /*-----------------------
        TABLE
        -----------------------*/

        .ma-table {
            border-top: 1px solid #d8dde6;
            border-bottom: 1px solid #d8dde6;
            text-align: left;
            border-collapse: collapse;
            border-spacing: 0;
        }
        .ma-table td,
        .ma-table th {
            padding: .5rem 2rem .5rem .5rem;
            white-space: nowrap;
            position: relative;
            border-top: 1px solid #d8dde6;
        }
        .ma-table td:last-child {
            width: 100%;
        }
        .ma-table.ma-table--fullwidth {
            width: 100%;
        }
        .ma-table.ma-table--fullwidth td:last-child {
            width: auto;
        }
        .ma-table-header {
            background-color: #f4f6f9;
            border-top-color: #d8dde6;
            border-bottom: 2px solid #d8dde6;
        }
        .ma-table-header tr td {
            width: 50px;
        }
        .ma-table-footer {
            background-color: #f4f6f9;
            border-bottom-color: #d8dde6;
            border-top: 2px solid #d8dde6;
        }
        .ma-table th {
            color: #16325c;
            text-transform: uppercase;
            font-weight: 700;
            font-size: .75rem;
        }
        .ma-cell-shrink {
            width: 1%;
        }
        .ma-table.ma-table-hoverable tbody tr:hover > td {
            background-color: #f4f6f9;
        }
        .ma-table.ma-table-border-horizontal {
            border-left: 1px solid #d8dde6;
            border-right: 1px solid #d8dde6;
        }
        .ma-table.ma-table-pad-left thead > tr > th:first-child,
        .ma-table.ma-table-pad-left tbody > tr > td:first-child {
            padding-left: 1.5rem;
        }
        .ma-table td span.disabled {
            pointer-events: none;
            opacity: 0.5;
        }
        #sortAway th {
            cursor: pointer;
        }
        #sortAway th.headerSortUp {
            color: #ffffff;
            background-color: #3083d3;
        }
        #sortAway th.headerSortDown {
            color: #ffffff;
            background-color: #4194e4;
        }
        #sortExample th,
        #combinationTable th {
            cursor: pointer;
        }
        #sortExample th.headerSortUp,
        #combinationTable th.headerSortUp {
            color: #ffffff;
            background-color: #a7b8d1;
        }
        #sortExample th.headerSortDown,
        #combinationTable th.headerSortDown {
            color: #ffffff;
            background-color: #333538;
        }
        .ma-table th.header {
            padding-right: 10px;
            position: relative;
        }
        .ma-table th.header.headerSortDown {
            padding-right: 10px;
            position: relative;
        }
        .ma-table th.header.headerSortUp {
            padding-right: 10px;
            position: relative;
        }
        .ma-table.ma-table-fixed {
            table-layout: fixed;
            width: 100%;
            white-space: nowrap;
        }
        .ma-table.ma-table-fixed-75 {
            table-layout: fixed;
            width: 75%;
            white-space: nowrap;
        }
        .ma-table.ma-table-fixed-50 {
            table-layout: fixed;
            width: 50%;
            white-space: nowrap;
        }

        /* disabled toggle css */
        .ma-toggle-label.disabled:after {
            background-color: #d8dde6;
        }
        .ma-modal .ma-modal-close .ma-icon {
            font-size: 20px;
            color:white;
        }
        /** Select2 Mods **/
        .ma-form-control.icon-left .select2-selection__rendered{
            padding-left: 40px;
        }
        .select2-results__options {
            overflow: scroll;
            -webkit-overflow-scrolling: touch;
        }
        /** Date Picker **/
        .ui-datepicker-header {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            padding: 1rem .25rem !important;
            background: transparent !important;
            border: 0 !important;
        }
        .ui-datepicker-calendar th span {
            color: #54698d;
            font-weight: normal;
        }
        #ui-datepicker-div {
            background-color: #ffffff;
            display: none;
            -webkit-border-radius: 0.25rem;
            -moz-border-radius: 0.25rem;
            -ms-border-radius: 0.25rem;
            -o-border-radius: 0.25rem;
            border-radius: 0.25rem;
            border: 1px solid #d8dde6;
            z-index: 4002 !important;
            box-shadow: 0px 2px 3px 0px rgba(0, 0, 0, 0.16);
        }
        table.ui-datepicker-calendar {
            width: 100%;
            max-width: 400px;
            padding: .25rem;
            margin: 0 auto !important;
        }
        #ui-datepicker-div td {
            text-align: center;
            vertical-align: middle;
            padding: .25rem;
            text-align: center;
            font-size: .75rem;
        }
        #ui-datepicker-div td a {
            color: #16325c;
            text-decoration: none;
            font-weight: normal;
            display: block;
            background: transparent;
            border: 0;
            text-align: center;
            width: 2rem;
            height: 2rem;
            display: block;
            position: relative;
            min-width: 2rem;
            line-height: 2rem;
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
            -ms-border-radius: 50%;
            -o-border-radius: 50%;
            border-radius: 50%;
            margin: auto;
        }
        #ui-datepicker-div td.ui-datepicker-today a {
            background-color: #f4f6f9;
            -webkit-border-radius: 35px;
            -moz-border-radius: 35px;
            -ms-border-radius: 35px;
            -o-border-radius: 35px;
            border-radius: 35px;
        }
        #ui-datepicker-div td.ui-datepicker-current-day a {
            background-color: #16325c;
            color: #ffffff;
            -webkit-border-radius: 35px;
            -moz-border-radius: 35px;
            -ms-border-radius: 35px;
            -o-border-radius: 35px;
            border-radius: 35px;
        }
        /************* jQuery UI fixes ************************/
        .ui-datepicker-prev,.ui-datepicker-next {
            font-size: 24px;
            margin-top: 4px;
            text-align: center;
            color: inherit !important;
        }
        .ui-datepicker-prev:before {
            font-family: "ma-icons-2" !important;
            font-style: normal !important;
            font-weight: normal !important;
            font-variant: normal !important;
            text-transform: none !important;
            speak: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\57";
        }
        .ui-datepicker-next:before {
            font-family: "ma-icons-2" !important;
            font-style: normal !important;
            font-weight: normal !important;
            font-variant: normal !important;
            text-transform: none !important;
            speak: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            content: "\58";
        }
        .ui-datepicker-prev {
            width: 50px !important;
            display: block;
            float: left;
            cursor: pointer;
        }
        .ui-datepicker-next {
            width: 50px !important;
            display: block;
            float: right;
            cursor: pointer;
            opacity: 0.8;
        }
        .ui-datepicker-prev:hover,
        .ui-datepicker-next:hover {
            opacity: 1;
        }
        .ui-datepicker-prev span,
        .ui-datepicker-next span {
            display: none !important;
            background-image: none !important;
        }
        .ui-datepicker-title {
            padding-top: 9px;
            font-size: 1rem;
            line-height: 1 !important;
            text-align: center;
            margin: 0 !important;
        }

        /* remove margin from li (Salesforce) */
        .ma-dropdown-list li {
            margin: 0px;
        }
        /* fix loading (sF) */
        .loading {
            border: inherit;
            color: inherit;
            padding: inherit;
            font-size: inherit;
            text-align: inherit;
        }

        /* old loading css */
        .MA2-loading-mask {
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0px;
            left: 0px;
            background: rgba(255,255,255,0.5);
            z-index: 10;
        }
        .ma-list-item {
            color: #16325c;
            font-size: 1rem;
            line-height: 1.25rem;
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            margin: 0;
            width: 100%;
            padding: .5rem;
            background-color: #ffffff;
        }
        .ma-list-header {
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -ms-flex-align: center;
            -webkit-align-items: center;
            -webkit-box-align: center;
            align-items: center;
            margin: 0;
            width: 100%;
            padding: .75rem .5rem;
            background-color: #ffffff;
            border-bottom: 2px solid #d8dde6;
        }

        .loadingText {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300px;
            z-index: 11;
            margin-left: -150px;
            margin-top: -12px;
            text-align: center;
            color:#333;
            font-size: 17px;
            text-shadow: 1px 1px 3px #ececec;
        }

        .MA2-loader {
            background-image: url(/resource/1470364544000/sma__MAPhone/s1Mobile/images/spinners/slds_spinner_brand.gif);
            background-size: 30px 30px;
            height: 30px;
            width: 30px;
            display: inline-block;
            margin-right: 5px;
            position: relative;
            top: 10px;
        }


        /* action button fix */
        .action-bar-button {
            background: none;
        }

        /* Just for me to see that this is working... need to discuss styling  */
        #layersIndividualWrap .legend-row.sectionRow, #legendBodyInner .legend-item.sectionRow {
            padding-left:15px;
        }

        /* hiding this for now until I have time to deal with it */
        #legendBodyInner .legend-body-fixed-header{
            height:54px;
        }
        #legendFilterRow {
            display:none;
        }

        /* jquery ui autocomplete don't want to include all the ui nonsense need to discuss*/
        .ui-autocomplete {
            z-index: 4005;
            background: white;
            max-width : 300px;
            list-style: none;
            padding: 0px;
            font-size: 14px;
            border: 1px solid #8c8c8c;
        }
        .ui-autocomplete .ui-menu-item {
            padding: 10px;
            margin-left: 0px;
        }
        .ui-autocomplete .ui-menu-item:hover {
            background: #efeeee;
            cursor:pointer;
        }


        /* Intermediate checkbox testing */
        .ma-checkbox input.intermediate ~ .ma-checkbox-faux {
            background-color: #19AAE3;
        }
        .ma-checkbox input.intermediate ~ .ma-checkbox-faux:after {
            display: block;
            content: "\e04a";
            height: .875rem;
            width: .875rem;
            text-align: center;
            position: absolute;
            top: 2px;
            left: 2px;
            color: #ffffff;
            font-size: .875rem;
            line-height: 0;
            font-family: "ma-icons-2" !important;
            font-style: normal !important;
            font-weight: normal !important;
            font-variant: normal !important;
            text-transform: none !important;
            speak: none;
            line-height: 1;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Derek changes on Oct 21, 2016 */

        .margin-16-0-0 {
            margin: 16px 0 0;
        }

        .pad-0-16-8 {
            padding: 0 16px 8px;
        }

        .advanced-settings-header {
            border-bottom: 1px solid rgba(0,0,0,0.3);
        }

        .inverted-color .ma-input-label {
            color: #dde1e9;
        }

        .inverted-color .ma-form-control .ma-icon {
            color: #4194e4;
        }

        .inverted-color .ma-top-bar-button--fullsize {
            color: #4194e4;
        }

        .inverted-color .ma-input {
            background-color: transparent;
            color: #fff;
            border: 1px solid #d8dde6;
        }

        .inverted-color .ma-section-title {
            background-color: transparent;
            color: #DDE1E9;
        }

        .advanced-settings-header-text {
            font-size: 20px;
            color: #fff;
            line-height: 1.9;
            padding: 16px;
            text-align: center;
        }

        #advancedSettingsWrap.in {
            z-index: 2100;
            visibility: visible;
            -webkit-transition: 0s visibility 0s, 0s z-index 0s, 0.25s transform 0s;
            -moz-transition: 0s visibility 0s, 0s z-index 0s, 0.25s transform 0s;
            -ms-transition: 0s visibility 0s, 0s z-index 0s, 0.25s transform 0s;
            -o-transition: 0s visibility 0s, 0s z-index 0s, 0.25s transform 0s;
            transition: 0s visibility 0s, 0s z-index 0s, 0.25s transform 0s;
        }

        #advancedSettingsWrap {
            background-color: #003C4C;
            z-index: -1;
            visibility: hidden;
            opacity: 1;
            -webkit-transition: 0s visibility 0.25s, 0s z-index 0.25s, 0.25s transform 0s;
            -moz-transition: 0s visibility 0.25s, 0s z-index 0.25s, 0.25s transform 0s;
            -ms-transition: 0s visibility 0.25s, 0s z-index 0.25s, 0.25s transform 0s;
            -o-transition: 0s visibility 0.25s, 0s z-index 0.25s, 0.25s transform 0s;
            transition: 0s visibility 0.25s, 0s z-index 0.25s, 0.25s transform 0s;
            height: 100%;
            overflow:hidden;
        }

        .nav-drawer-item .ma-toggle-label {
            margin-right: 6px;
        }

        #navDrawerWrap .nav-drawer-item .ma-icon.nav-drawer-item-icon {
            font-size: 21px;
            margin: -4px 24px 0 0;
        }

        .ma-button.icon-alone {
            padding: 0 12px;
            text-align: center;
            height: 42px;
        }

        .ma-button.icon-alone .ma-icon {
            display:block;
            margin: 0 !important;
            padding: 0;
            font-size: 16px;
            line-height: 1;
            width: 16px;
            height: 16px;
        }

        #navDrawerWrap #navDrawerMenu .ma-icon-close.hide-nav-drawer {
            font-size: 21px;
            top: 0px;
            right: 0;
        }

        #navDrawerWrap .ma-logo {
            max-width: 255px;
            margin: 16px 0 16px 8px;
        }

        #navDrawerWrap .ma-divider {
            margin-left: 28px;
            max-width: calc(100% - 28px);
        }

        #navDrawerWrap .nav-drawer-item {
            max-width: 100%;
           padding: 12px 0 12px 16px;
           margin-bottom: 4px;
        }

        #navDrawerWrap .nav-drawer-item.nav-drawer-item-secondary {
            max-width: 100%;
            padding: 10px 0 10px 16px;
            font-size:14px !important;
            color: #DDE1E9;
            margin-bottom: 0;
        }

        #navDrawerWrap .nav-drawer-item .nav-drawer-item-subtext {
            font-size:12px;
            color: #DDE1E9;
            display: block;
            margin-top: 6px;
            margin-bottom: 6px;
            line-height: 1.3;
        }

        #navDrawerWrap .nav-drawer-item.nav-drawer-item-secondary .nav-drawer-item-subtext {
            margin:0;
        }

        #navDrawerWrap .nav-drawer-inner {
            max-width: 100%;
        }

        #navDrawerWrap #navDrawerMenu {
            padding: 0;
        }

        #navDrawerWrap .nav-drawer-spacer {
            padding: 12px;
        }

        #listLayerSelector .dropdown-button-label, #listLayerSelectorTop .dropdown-button-label, #legendLayerSelector .dropdown-button-label {
            color: #fff;
        }

        .action-bar-wrap .action-bar-button.open-marker-action-sheet {
            min-width: 0;
            margin-left: auto;
            flex: 0 0 auto;
            padding-left:10px;
        }

        .ma-top-bar {
            background-color: #3083d3;
        }

        #searchTopBar .ma-top-bar-row .ma-top-bar-button--fullsize, .ma-top-bar-row .ma-top-bar-button--fullsize {
            color: #fff;
        }

        .ma-top-bar-row.panel-title-row .ma-top-bar-title {
            color: #fff;
        }

        .ma-top-bar-row .ma-tab-link {
            color: #fff;
            opacity: .7;
            border-bottom-color:transparent;
        }

      .ma-top-bar-row .ma-top-bar-meta {
        color: #fff;
        opacity: 0.7;
      }

        .ma-tab-link-group.ma-tab-link-group--centered .ma-tab-link.active {
            opacity: 1;
            color: #fff;
        }

        .ma-top-bar-title--left {
            color: #fff;
        }

        .ma-top-bar-title--left .ma-top-bar-subtext {
            color: #fff;
            opacity: 0.7;
        }

        .action-bar-wrap {
            background-color: #3083d3;
        }

        #layersTopBarTabIndicator {
            background-color: #fff;
        }

        #searchTopBar .ma-input {
            background-color: #1061b1;
            border-color: #1061b1;
            color: #fff;
        }

        #searchTopBar .ma-input:focus {
            background-color: #0050a0;
            border-color: #0050a0;
        }

        #searchTopBar .ma-form-control.icon-left .ma-icon.icon-left {
            color: #fff;
        }

        #searchTopBar .ma-form-control.icon-right .ma-icon.icon-right.clear-input-button {
            padding: 8px;
            top: 3px;
            width: 32px;
            color: #fff;
            height: 32px;
            right: 3px;
        }

        .ma-button.ma-button--blue {
            background-color: #4194e4;
            border-color: #4194e4;
        }

        .ma-button {
            color: #4194e4;
        }

        /* Test text selection bug */

        #bottomBarWrap .ma-bottom-bar-button {
            -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none;   /* Chrome/Safari/Opera */
            -khtml-user-select: none;    /* Konqueror */
            -moz-user-select: none;      /* Firefox */
            -ms-user-select: none;       /* Internet Explorer/Edge */
            user-select: none;          -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none;   /* Chrome/Safari/Opera */
            -khtml-user-select: none;    /* Konqueror */
            -moz-user-select: none;      /* Firefox */
            -ms-user-select: none;       /* Internet Explorer/Edge */
            user-select: none;
        }

        #monthMasterButton, #monthNextButton, #monthPrevButton {
            color: #fff;
        }

        #bottomBarTabIndicator {
            background-color: #4194e4;
        }


        @media screen and (min-width: 769px) {

            #searchTopBar {
                box-shadow: 0 2px 0 #d8dde6;
            }
        }

        #closeStreetView {
            right: 15px !important;
            top: 7px !important;
        }


    </style>

    <!-- Google Maps - Marker Cluster Plus (http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/examples/advanced_example.html) custom modification on grabbing images from static resource in js file check before updating -->
    <script>var clusterPrefix = '{!sitePrefix}';</script>
    <!--<script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/google/markerclustererplus/markerclusterer.js')}"></script>-->
    <script type='text/javascript'>
        function ClusterIcon(cluster,styles){cluster.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.cluster_=cluster,this.className_=cluster.getMarkerClusterer().getClusterClass(),this.styles_=styles,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(cluster.getMap())}function Cluster(mc){this.markerClusterer_=mc,this.map_=mc.getMap(),this.gridSize_=mc.getGridSize(),this.minClusterSize_=mc.getMinimumClusterSize(),this.averageCenter_=mc.getAverageCenter(),this.hideLabel_=mc.getHideLabel(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,mc.getStyles())}function MarkerClusterer(map,opt_markers,opt_options){this.extend(MarkerClusterer,google.maps.OverlayView),opt_markers=opt_markers||[],opt_options=opt_options||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=opt_options.gridSize||60,this.minClusterSize_=opt_options.minimumClusterSize||2,this.maxZoom_=opt_options.maxZoom||null,this.styles_=opt_options.styles||[],this.title_=opt_options.title||"",this.zoomOnClick_=!0,void 0!==opt_options.zoomOnClick&&(this.zoomOnClick_=opt_options.zoomOnClick),this.averageCenter_=!1,void 0!==opt_options.averageCenter&&(this.averageCenter_=opt_options.averageCenter),this.ignoreHidden_=!1,void 0!==opt_options.ignoreHidden&&(this.ignoreHidden_=opt_options.ignoreHidden),this.enableRetinaIcons_=!1,void 0!==opt_options.enableRetinaIcons&&(this.enableRetinaIcons_=opt_options.enableRetinaIcons),this.hideLabel_=!1,void 0!==opt_options.hideLabel&&(this.hideLabel_=opt_options.hideLabel),this.imagePath_=opt_options.imagePath||MarkerClusterer.IMAGE_PATH,this.imageExtension_=opt_options.imageExtension||MarkerClusterer.IMAGE_EXTENSION,this.imageSizes_=opt_options.imageSizes||MarkerClusterer.IMAGE_SIZES,this.calculator_=opt_options.calculator||MarkerClusterer.CALCULATOR,this.batchSize_=opt_options.batchSize||MarkerClusterer.BATCH_SIZE,this.batchSizeIE_=opt_options.batchSizeIE||MarkerClusterer.BATCH_SIZE_IE,this.clusterClass_=opt_options.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(opt_markers,!0),this.setMap(map)}ClusterIcon.prototype.onAdd=function(){var cMouseDownInCluster,cDraggingMapByCluster,cClusterIcon=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){cDraggingMapByCluster=cMouseDownInCluster}),google.maps.event.addDomListener(this.div_,"mousedown",function(){cMouseDownInCluster=!0,cDraggingMapByCluster=!1}),google.maps.event.addDomListener(this.div_,"click",function(e){if(cMouseDownInCluster=!1,!cDraggingMapByCluster){var theBounds,mz,mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"click",cClusterIcon.cluster_),google.maps.event.trigger(mc,"clusterclick",cClusterIcon.cluster_),mc.getZoomOnClick()&&(mz=mc.getMaxZoom(),theBounds=cClusterIcon.cluster_.getBounds(),mc.getMap().fitBounds(theBounds),setTimeout(function(){mc.getMap().fitBounds(theBounds),null!==mz&&mc.getMap().getZoom()>mz&&mc.getMap().setZoom(mz+1)},100)),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseover",cClusterIcon.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var mc=cClusterIcon.cluster_.getMarkerClusterer();google.maps.event.trigger(mc,"mouseout",cClusterIcon.cluster_)})},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.draw=function(){if(this.visible_){var pos=this.getPosFromLatLng_(this.center_);this.div_.style.top=pos.y+"px",this.div_.style.left=pos.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var img="",bp=this.backgroundPosition_.split(" "),spriteH=parseInt(bp[0].trim(),10),spriteV=parseInt(bp[1].trim(),10),pos=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(pos),img="<img src='"+this.url_+"' style='position: absolute; top: "+spriteV+"px; left: "+spriteH+"px; ",img+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*spriteV+"px, "+(-1*spriteH+this.width_)+"px, "+(-1*spriteV+this.height_)+"px, "+-1*spriteH+"px);",img+="'>",this.div_.innerHTML=img+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+(this.cluster_.hideLabel_?" ":this.sums_.text)+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.useStyle=function(sums){this.sums_=sums;var index=Math.max(0,sums.index-1);index=Math.min(this.styles_.length-1,index);var style=this.styles_[index];this.url_=style.url,this.height_=style.height,this.width_=style.width,this.anchorText_=style.anchorText||[0,0],this.anchorIcon_=style.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=style.textColor||"black",this.textSize_=style.textSize||11,this.textDecoration_=style.textDecoration||"none",this.fontWeight_=style.fontWeight||"bold",this.fontStyle_=style.fontStyle||"normal",this.fontFamily_=style.fontFamily||"Arial,sans-serif",this.backgroundPosition_=style.backgroundPosition||"0 0"},ClusterIcon.prototype.setCenter=function(center){this.center_=center},ClusterIcon.prototype.createCss=function(pos){var style=[];return style.push("cursor: pointer;"),style.push("position: absolute; top: "+pos.y+"px; left: "+pos.x+"px;"),style.push("width: "+this.width_+"px; height: "+this.height_+"px;"),style.join("")},ClusterIcon.prototype.getPosFromLatLng_=function(latlng){var pos=this.getProjection().fromLatLngToDivPixel(latlng);return pos.x-=this.anchorIcon_[1],pos.y-=this.anchorIcon_[0],pos.x=parseInt(pos.x,10),pos.y=parseInt(pos.y,10),pos},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){var i,bounds=new google.maps.LatLngBounds(this.center_,this.center_),markers=this.getMarkers();for(i=0;i<markers.length;i++)bounds.extend(markers[i].getPosition());return bounds},Cluster.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},Cluster.prototype.addMarker=function(marker){var i,mCount,mz;if(this.isMarkerAlreadyAdded_(marker))return!1;if(this.center_){if(this.averageCenter_){var l=this.markers_.length+1,lat=(this.center_.lat()*(l-1)+marker.getPosition().lat())/l,lng=(this.center_.lng()*(l-1)+marker.getPosition().lng())/l;this.center_=new google.maps.LatLng(lat,lng),this.calculateBounds_()}}else this.center_=marker.getPosition(),this.calculateBounds_();if(marker.isAdded=!0,this.markers_.push(marker),mCount=this.markers_.length,mz=this.markerClusterer_.getMaxZoom(),null!==mz&&this.map_.getZoom()>mz)marker.getMap()!==this.map_&&marker.setMap(this.map_);else if(mCount<this.minClusterSize_)marker.getMap()!==this.map_&&marker.setMap(this.map_);else if(mCount===this.minClusterSize_)for(i=0;mCount>i;i++)this.markers_[i].setMap(null);else marker.setMap(null);return!0},Cluster.prototype.isMarkerInClusterBounds=function(marker){return this.bounds_.contains(marker.getPosition())},Cluster.prototype.calculateBounds_=function(){var bounds=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(bounds)},Cluster.prototype.updateIcon_=function(){var mCount=this.markers_.length,mz=this.markerClusterer_.getMaxZoom();if(null!==mz&&this.map_.getZoom()>mz)return void this.clusterIcon_.hide();if(mCount<this.minClusterSize_)return void this.clusterIcon_.hide();var numStyles=this.markerClusterer_.getStyles().length,sums=this.markerClusterer_.getCalculator()(this.markers_,numStyles);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(sums),this.clusterIcon_.show()},Cluster.prototype.isMarkerAlreadyAdded_=function(marker){for(var i=0,n=this.markers_.length;n>i;i++)if(marker===this.markers_[i])return!0;return!1},MarkerClusterer.prototype.onAdd=function(){var cMarkerClusterer=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){cMarkerClusterer.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){cMarkerClusterer.redraw_()})]},MarkerClusterer.prototype.onRemove=function(){var i;for(i=0;i<this.markers_.length;i++)this.markers_[i].getMap()!==this.activeMap_&&this.markers_[i].setMap(this.activeMap_);for(i=0;i<this.clusters_.length;i++)this.clusters_[i].remove();for(this.clusters_=[],i=0;i<this.listeners_.length;i++)google.maps.event.removeListener(this.listeners_[i]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){var i,size;if(!(this.styles_.length>0))for(i=0;i<this.imageSizes_.length;i++)size=this.imageSizes_[i],this.styles_.push({url:this.imagePath_+(i+1)+"."+this.imageExtension_,height:size,width:size})},MarkerClusterer.prototype.fitMapToMarkers=function(){var i,markers=this.getMarkers(),bounds=new google.maps.LatLngBounds;for(i=0;i<markers.length;i++)bounds.extend(markers[i].getPosition());this.getMap().fitBounds(bounds)},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(gridSize){this.gridSize_=gridSize},MarkerClusterer.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinimumClusterSize=function(minimumClusterSize){this.minClusterSize_=minimumClusterSize},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.setMaxZoom=function(maxZoom){this.maxZoom_=maxZoom},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.setStyles=function(styles){this.styles_=styles},MarkerClusterer.prototype.getTitle=function(){return this.title_},MarkerClusterer.prototype.setTitle=function(title){this.title_=title},MarkerClusterer.prototype.getZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.setZoomOnClick=function(zoomOnClick){this.zoomOnClick_=zoomOnClick},MarkerClusterer.prototype.getAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.setAverageCenter=function(averageCenter){this.averageCenter_=averageCenter},MarkerClusterer.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},MarkerClusterer.prototype.setIgnoreHidden=function(ignoreHidden){this.ignoreHidden_=ignoreHidden},MarkerClusterer.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},MarkerClusterer.prototype.setEnableRetinaIcons=function(enableRetinaIcons){this.enableRetinaIcons_=enableRetinaIcons},MarkerClusterer.prototype.getImageExtension=function(){return this.imageExtension_},MarkerClusterer.prototype.setImageExtension=function(imageExtension){this.imageExtension_=imageExtension},MarkerClusterer.prototype.getImagePath=function(){return this.imagePath_},MarkerClusterer.prototype.setImagePath=function(imagePath){this.imagePath_=imagePath},MarkerClusterer.prototype.getImageSizes=function(){return this.imageSizes_},MarkerClusterer.prototype.setImageSizes=function(imageSizes){this.imageSizes_=imageSizes},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.setCalculator=function(calculator){this.calculator_=calculator},MarkerClusterer.prototype.setHideLabel=function(hideLabel){this.hideLabel_=hideLabel},MarkerClusterer.prototype.getHideLabel=function(){return this.hideLabel_},MarkerClusterer.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},MarkerClusterer.prototype.setBatchSizeIE=function(batchSizeIE){this.batchSizeIE_=batchSizeIE},MarkerClusterer.prototype.getClusterClass=function(){return this.clusterClass_},MarkerClusterer.prototype.setClusterClass=function(clusterClass){this.clusterClass_=clusterClass},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.getClusters=function(){return this.clusters_},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.addMarker=function(marker,opt_nodraw){this.pushMarkerTo_(marker),opt_nodraw||this.redraw_()},MarkerClusterer.prototype.addMarkers=function(markers,opt_nodraw){var key;for(key in markers)markers.hasOwnProperty(key)&&this.pushMarkerTo_(markers[key]);opt_nodraw||this.redraw_()},MarkerClusterer.prototype.pushMarkerTo_=function(marker){if(marker.getDraggable()){var cMarkerClusterer=this;google.maps.event.addListener(marker,"dragend",function(){cMarkerClusterer.ready_&&(this.isAdded=!1,cMarkerClusterer.repaint())})}marker.isAdded=!1,this.markers_.push(marker)},MarkerClusterer.prototype.removeMarker=function(marker,opt_nodraw,opt_noMapRemove){var removeFromMap=!0&&!opt_noMapRemove,removed=this.removeMarker_(marker,removeFromMap);return!opt_nodraw&&removed&&this.repaint(),removed},MarkerClusterer.prototype.removeMarkers=function(markers,opt_nodraw,opt_noMapRemove){var i,r,removed=!1,removeFromMap=!0&&!opt_noMapRemove;for(i=0;i<markers.length;i++)r=this.removeMarker_(markers[i],removeFromMap),removed=removed||r;return!opt_nodraw&&removed&&this.repaint(),removed},MarkerClusterer.prototype.removeMarker_=function(marker,removeFromMap){var i,index=-1;if(this.markers_.indexOf)index=this.markers_.indexOf(marker);else for(i=0;i<this.markers_.length;i++)if(marker===this.markers_[i]){index=i;break}return-1===index?!1:(removeFromMap&&marker.setMap(null),this.markers_.splice(index,1),!0)},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},MarkerClusterer.prototype.repaint=function(){var oldClusters=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var i;for(i=0;i<oldClusters.length;i++)oldClusters[i].remove()},0)},MarkerClusterer.prototype.getExtendedBounds=function(bounds){var projection=this.getProjection(),tr=new google.maps.LatLng(bounds.getNorthEast().lat(),bounds.getNorthEast().lng()),bl=new google.maps.LatLng(bounds.getSouthWest().lat(),bounds.getSouthWest().lng()),trPix=projection.fromLatLngToDivPixel(tr);trPix.x+=this.gridSize_,trPix.y-=this.gridSize_;var blPix=projection.fromLatLngToDivPixel(bl);blPix.x-=this.gridSize_,blPix.y+=this.gridSize_;var ne=projection.fromDivPixelToLatLng(trPix),sw=projection.fromDivPixelToLatLng(blPix);return bounds.extend(ne),bounds.extend(sw),bounds},MarkerClusterer.prototype.redraw_=function(){this.createClusters_(0)},MarkerClusterer.prototype.resetViewport_=function(opt_hide){var i,marker;for(i=0;i<this.clusters_.length;i++)this.clusters_[i].remove();for(this.clusters_=[],i=0;i<this.markers_.length;i++)marker=this.markers_[i],marker.isAdded=!1,opt_hide&&marker.setMap(null)},MarkerClusterer.prototype.distanceBetweenPoints_=function(p1,p2){var R=6371,dLat=(p2.lat()-p1.lat())*Math.PI/180,dLon=(p2.lng()-p1.lng())*Math.PI/180,a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(p1.lat()*Math.PI/180)*Math.cos(p2.lat()*Math.PI/180)*Math.sin(dLon/2)*Math.sin(dLon/2),c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),d=R*c;return d},MarkerClusterer.prototype.isMarkerInBounds_=function(marker,bounds){return bounds.contains(marker.getPosition())},MarkerClusterer.prototype.addToClosestCluster_=function(marker){var i,d,cluster,center,distance=4e4,clusterToAddTo=null;for(i=0;i<this.clusters_.length;i++)cluster=this.clusters_[i],center=cluster.getCenter(),center&&(d=this.distanceBetweenPoints_(center,marker.getPosition()),distance>d&&(distance=d,clusterToAddTo=cluster));clusterToAddTo&&clusterToAddTo.isMarkerInClusterBounds(marker)?clusterToAddTo.addMarker(marker):(cluster=new Cluster(this),cluster.addMarker(marker),this.clusters_.push(cluster))},MarkerClusterer.prototype.createClusters_=function(iFirst){var i,marker,mapBounds,cMarkerClusterer=this;if(this.ready_){0===iFirst&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),mapBounds=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var bounds=this.getExtendedBounds(mapBounds),iLast=Math.min(iFirst+this.batchSize_,this.markers_.length);for(i=iFirst;iLast>i;i++)marker=this.markers_[i],!marker.isAdded&&this.isMarkerInBounds_(marker,bounds)&&(!this.ignoreHidden_||this.ignoreHidden_&&marker.getVisible())&&this.addToClosestCluster_(marker);if(iLast<this.markers_.length)this.timerRefStatic=setTimeout(function(){cMarkerClusterer.createClusters_(iLast)},0);else for(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this),i=0;i<this.clusters_.length;i++)this.clusters_[i].updateIcon_()}},MarkerClusterer.prototype.extend=function(obj1,obj2){return function(object){var property;for(property in object.prototype)this.prototype[property]=object.prototype[property];return this}.apply(obj1,[obj2])},MarkerClusterer.CALCULATOR=function(markers,numStyles){for(var index=0,title="",count=markers.length.toString(),dv=count;0!==dv;)dv=parseInt(dv/10,10),index++;return index=Math.min(index,numStyles),{text:count,index:index,title:title}},MarkerClusterer.BATCH_SIZE=2e3,MarkerClusterer.BATCH_SIZE_IE=500,MarkerClusterer.IMAGE_PATH="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/images/m",MarkerClusterer.IMAGE_EXTENSION="png",MarkerClusterer.IMAGE_SIZES=[53,56,66,78,90],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});

    </script>
    <script type='text/javascript'>
        //markerclusterer doesn't support a rightclick event on clusters.  adding it
        ClusterIcon.prototype.onAdd = function () {
            var cClusterIcon = this;
            var cMouseDownInCluster;
            var cDraggingMapByCluster;
            this.div_ = document.createElement("div");
            this.div_.className = this.className_;
            if (this.visible_) {
                this.show();
            }

            this.getPanes().overlayMouseTarget.appendChild(this.div_);

            // Fix for Issue 157
            this.boundsChangedListener_ = google.maps.event.addListener(this.getMap(), "bounds_changed", function () {
                cDraggingMapByCluster = cMouseDownInCluster;
            });

            google.maps.event.addDomListener(this.div_, "mousedown", function () {
                cMouseDownInCluster = true;
                cDraggingMapByCluster = false;
            });

            google.maps.event.addDomListener(this.div_, "click", function (e) {
                cMouseDownInCluster = false;
                if (!cDraggingMapByCluster) {
                    var theBounds;
                    var mz;
                    var mc = cClusterIcon.cluster_.getMarkerClusterer();
                    /**
                    * This event is fired when a cluster marker is clicked.
                    * @name MarkerClusterer#click
                    * @param {Cluster} c The cluster that was clicked.
                    * @event
                    */
                    google.maps.event.trigger(mc, "click", cClusterIcon.cluster_);
                    google.maps.event.trigger(mc, "clusterclick", cClusterIcon.cluster_); // deprecated name

                    // The default click handler follows. Disable it by setting
                    // the zoomOnClick property to false.
                    if (mc.getZoomOnClick()) {
                        // Zoom into the cluster.
                        mz = mc.getMaxZoom();
                        theBounds = cClusterIcon.cluster_.getBounds();
                        mc.getMap().fitBounds(theBounds);
                        // There is a fix for Issue 170 here:
                        setTimeout(function () {
                            mc.getMap().fitBounds(theBounds);
                            // Don't zoom beyond the max zoom level
                            if (mz !== null && (mc.getMap().getZoom() > mz)) {
                                mc.getMap().setZoom(mz + 1);
                            }
                        }, 100);
                    }

                    // Prevent event propagation to the map:
                    e.cancelBubble = true;
                    if (e.stopPropagation) {
                        e.stopPropagation();
                    }
                }
            });

            //adding rightclick event handling - DK 11/25/14
            google.maps.event.addDomListener(this.div_, "contextmenu", function (e)
            {
                //trigger rightclick event
                google.maps.event.trigger(cClusterIcon.cluster_.getMarkerClusterer(), "rightclick", cClusterIcon.cluster_);

                // Prevent event propagation to the map:
                e.cancelBubble = true;
                if (e.stopPropagation) { e.stopPropagation(); }
                if (e.preventDefault) { e.preventDefault(); }
            });

            google.maps.event.addDomListener(this.div_, "mouseover", function () {
                var mc = cClusterIcon.cluster_.getMarkerClusterer();
                /**
                * This event is fired when the mouse moves over a cluster marker.
                * @name MarkerClusterer#mouseover
                * @param {Cluster} c The cluster that the mouse moved over.
                * @event
                */
                google.maps.event.trigger(mc, "mouseover", cClusterIcon.cluster_);
            });

            google.maps.event.addDomListener(this.div_, "mouseout", function () {
                var mc = cClusterIcon.cluster_.getMarkerClusterer();
                /**
                * This event is fired when the mouse moves out of a cluster marker.
                * @name MarkerClusterer#mouseout
                * @param {Cluster} c The cluster that the mouse moved out of.
                * @event
                */
                google.maps.event.trigger(mc, "mouseout", cClusterIcon.cluster_);
            });
        };

    </script>

</head>

<apex:outputPanel layout="none" rendered="{!TotangoEnabled == 'true'}">

    <script type='text/javascript'>
         var totango_options = {
              service_id: "SP-8618-01",
              username: '{!$User.Email}',
              account:
              {
                  id: '{!$Organization.Id}',
                  name: "{!JSENCODE($Organization.Name)}",
                  status: "Unknown"
              }
        };

        (function() {
            var e = document.createElement('script'); e.type = 'text/javascript'; e.async = true;
            e.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 's3.amazonaws.com/totango-cdn/totango2.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(e, s);
        })();
    </script>

</apex:outputPanel>

<body>

<!-- Controller Communication -->
<apex:form >
    <apex:inputHidden id="serializedDefaultQueries" value="{!serializedDefaultQueries}" />
    <apex:inputHidden id="serializedOptions" value="{!serializedOptions}" />
</apex:form>

<div id="maMasterWrap">
    <div id="message-top-center-container" class="toast-top-center">
        <div class="toast toast-info" aria-live="polite" style="display: block;">
            <div class="ma-icon ma-icon-info" style="float: left;font-size: 24px;line-height: 40px;margin-right: 15px;"></div>
            <div style="margin-left: 40px;" class="toast-title">Create a record from the map</div>
            <div style="margin-left: 40px;" class="toast-message">Drag the marker to the intended location and tap 'Create Record'</div>
            <div style="padding-top: 10px;width: 100%;text-align: center;">
                <button onclick="c2c.mobile.cancelMapC2C();" style="width: 40%;" class="ma-button ma-button--white">{!$Label.MA_Cancel}</button>
                <button onclick="c2c.mobile.processMapC2C();" style="width: 40%;" class="ma-button ma-button--white">Create Record</button>
            </div>
        </div>

        <div class="markerWrapper">
            <svg data-shape="Pin" class="svg-pin" width="14" height="30" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 14 30">
                <path fill="#fff" d="M8.73,29.48H5.27V10.17H8.73V29.48Z"/>
                <path fill="#fff" d="M7,13.43A6.45,6.45,0,1,1,13.45,7,6.46,6.46,0,0,1,7,13.43Z"/>
                <path fill="#757575" d="M8.23,29H5.77V10.67H8.23V29Z"/>
                <g >
                    <path d="M8.23,29H5.77V10.67H8.23V29Zm-2-.5H7.73V11.17H6.27V28.48Z"/>
                </g>
                <path fill="#4194e4" d="M7,12.93a6,6,0,1,1,6-6A6,6,0,0,1,7,12.93Z"/>
                <path fill="#4194e4" d="M7,10.67c-3.28,0-6-.41-6-3.69A6,6,0,1,1,13,7C13,10.26,10.28,10.67,7,10.67Z"/>
                <g >
                    <path d="M7,12.93a6,6,0,1,1,6-6A6,6,0,0,1,7,12.93ZM7,1.52A5.45,5.45,0,1,0,12.45,7,5.46,5.46,0,0,0,7,1.52Z"/>
                </g>
            </svg>
        </div>
    </div>
    <div id="mapWrap" class="view-panel in">
        <div id="mapWrapSelector"></div>
        <button id="mapListButton" onclick="MAListView.mobile.showListView();" class="ma-button map-secondary-view-button ma-button--white">{!$Label.MA_LIST_RESULTS}</button>
        <button id="mapLegendButton" onclick="MALayers.showLegendInfo();" class="ma-button map-secondary-view-button ma-button--white">{!$Label.MA_MARKER_LEGEND}</button>
        <button id="mapMarkerRefreshButton" onclick="MAPlotting.mobile.refreshAllPlotted();" class="ma-button ma-button--blue ma-button--shadow ma-button--circle-large">
            <span class="ma-icon ma-icon-refresh-markers"></span>
        </button>
        <div id="currentLocationDot"></div>
    </div>
    <div id="toastWrapper"></div>
    <div id="clusterWrap" class="view-panel sidebar-panel sidebar-panel-over-top half-bottom-phone">
        <div class=" view-panel-flex-column">
            <div id="clusterTopBar" class="ma-top-bar">
                <div class="ma-top-bar-row panel-title-row flex-horizontal tablet-only">
                    <div class="ma-top-bar-title--left flex-grow-1">
                        Cluster Info
                    </div>
                    <div class="flex-align-end">
                        <a onclick="MALayers.moveToTab('hideClusterInfo');" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize ma-close-button close-cluster-panel"></a>
                    </div>
                </div>
                <div class="ma-top-bar-row panel-title-row flex-horizontal phone-only">
                    <div class="ma-top-bar-title--left flex-grow-1">
                        Cluster Info
                    </div>
                    <div class="flex-align-end">
                        <a onclick="MALayers.moveToTab('hideClusterInfo');" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize ma-close-button close-cluster-panel"></a>
                    </div>
                </div>
                <!--top-bar-row-->
            </div>
            <div id="clusterBody" class="qidLocation ma-view-body">
            </div>
        </div>
    </div>
    <div id="listWrap" class="view-panel sidebar-panel sidebar-panel-over-top half-bottom-phone">
        <div class=" view-panel-flex-column">
            <div id="listTopBar" class="ma-top-bar">
                <div class="ma-top-bar-row panel-title-row flex-horizontal tablet-only">
                    <a onclick="MALayers.moveToTab('toggleListViewSide');" class="ma-icon ma-icon-back ma-top-bar-button ma-top-bar-button--fullsize contract-list-results list-view-full-content"></a>
                    <div class="ma-top-bar-title--left flex-grow-1">
                        {!$Label.MA_LIST_RESULTS}
                    </div>
                    <div id="listLayerSelectorTop" data-type="bigList" class="listLayerSelector hidden ma-dropdown-wrap ma-dropdown--click flex-grow-1">
                        <button class="ma-button ma-button--white ma-button--icon-border">
                        <span class="ma-icon ma-icon-down"></span>
                        </button>
                        <div class="ma-dropdown-list listOptions">
                            <ul class="ma-dropdown-list">
                                <li><a><span class="ma-icon ma-icon-check"></span> All Layers</a></li>
                                <li><a>Accounts by YTD Sales</a></li>
                                <li><a>My Leads</a></li>
                            </ul>
                        </div>
                        <label class="dropdown-button-label">All Layers</label>
                    </div>
                        <a onclick="MAListView.mobile.refreshListView();return;" class="ma-icon ma-icon-refresh ma-top-bar-button ma-top-bar-button--fullsize refresh-list-results"></a>
                        <a onclick="MALayers.moveToTab('toggleListViewFull');" class="ma-icon ma-icon-expand-alt ma-top-bar-button ma-top-bar-button--fullsize list-view-small-content expand-list-results"></a>
                        <a onclick="MALayers.moveToTab('toggleListViewSide'); return false;" class="ma-icon ma-icon-contract-alt ma-top-bar-button ma-top-bar-button--fullsize list-view-full-content contract-list-results"></a>
                        <a onclick="MALayers.moveToTab('hideListView');" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize ma-close-button close-list-results"></a>
                </div>
                <div class="ma-top-bar-row flex-horizontal list-view-small-content">
                    <div id="listLayerSelector" data-type="smallList" class="listLayerSelector ma-dropdown-wrap ma-dropdown--click flex-grow-1">
                        <button class="ma-button ma-button--white ma-button--icon-border">
                        <span class="ma-icon ma-icon-down"></span>
                        </button>
                        <div class="ma-dropdown-list listOptions">
                            <ul class="ma-dropdown-list">
                                <li><a><span class="ma-icon ma-icon-check"></span> All Layers</a></li>
                                <li><a>Accounts by YTD Sales</a></li>
                                <li><a>My Leads</a></li>
                            </ul>
                        </div>
                        <label class="dropdown-button-label">All Layers</label>
                    </div>
                    <div class="flex-align-end phone-only">
                        <a onclick="MALayers.moveToTab('hideListView');" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize ma-close-button close-list-results"></a>
                    </div>
                </div>
                <!--top-bar-row-->
            </div>
            <div id="listBody" class="ma-view-body listbody">
                <div id="listBodyInner">
                    <div class="list-body-fixed-header">
                        <div class="flex-horizontal flex-align-top">
                            <div>
                                <div class="ma-form-control-wrap ma-checkbox-wrap">
                                    <label style="height: 55px;" class="ma-checkbox">
                                        <input id="listCheckAll" onchange="MAListView.mobile.selectAll(this);" name="checkbox" type="checkbox" />
                                        <span class="ma-checkbox-faux"></span>
                                        <span class="ma-checkbox-label listViewTotalSelections">0 selected:</span>
                                    </label>
                                </div>
                            </div>
                            <div class="open-action-sheet" action-sheet="ListActionSheet">
                                <button onclick="MAListView.mobile.getListActionSheet(this);" class="ma-button compact">{!$Label.MA_Actions}</button>
                            </div>
                            <div class="filterButtons tablet-only">
                                <button onclick="MAListView.mobile.showSearch();" class="ma-button addFilter">{!$Label.MA_FILTER}</button>
                                <button onclick="MAListView.mobile.clearSearch();" class="ma-button float-right hidden clearFilters">{!$Label.MA_Clear_Filters}</button>
                            </div>
                            <div style="display:none; margin-left: 25px;" class="ma-form-control icon-left icon-right">
                                <input style="line-height: 32px;min-height: 35px;" class="ma-input clearable-input" id="searchInput" placeholder="{!$Label.MA_Search}..." type="text"/>
                                <div style="top: 10px;" class="ma-icon icon-left ma-icon-search"></div>
                                <div class="ma-icon icon-right ma-icon-clear" onclick="MALayers.clearAllSearch();" style="display:none;"></div>
                            </div>
                            <div class="flex-align-end ma-dropdown-wrap ma-dropdown--right-aligned ma-dropdown--click">
                                <button class="ma-button icon-right">{!$Label.MA_SORT}<span class="ma-icon ma-icon-chevrondown"></span></button>
                                <div class="ma-dropdown-list listviewSort">
                                    <ul class="ma-dropdown-list" style="max-height:150px;overflow:auto;">
                                        <li><a>{!$Label.MA_Loading}...</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="listScrollingBody" class="list-body-scrolling-body">
                    </div>
                    <div id="listScrollingBodyFull">
                        <table class="ma-table ma-table--sortable "></table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="legendWrap" class="view-panel sidebar-panel sidebar-panel-over-top half-bottom-phone">
        <div class=" view-panel-flex-column">
            <div id="legendTopBar" class="ma-top-bar">
                <div class="ma-top-bar-row panel-title-row flex-horizontal tablet-only">
                    <div class="ma-top-bar-title--left flex-grow-1">
                        {!$Label.MA_MARKER_LEGEND}
                    </div>
                    <div class="flex-align-end">
                        <a action-sheet="queryPlottingActionSheet" class="ma-icon ma-icon-threedots ma-top-bar-button ma-top-bar-button--fullsize action-bar-button open-marker-action-sheet open-action-sheet"></a>
                        <a onclick="MALayers.moveToTab('hideLegend');" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize ma-close-button close-legend-panel"></a>
                    </div>
                </div>
                <div class="ma-top-bar-row flex-horizontal">
                    <div id="legendLayerSelector" class="ma-dropdown-wrap ma-dropdown--click flex-grow-1">
                        <button class="ma-button ma-button--white ma-button--icon-border">
                        <span class="ma-icon ma-icon-down"></span>
                        </button>
                        <div class="ma-dropdown-list">
                            <ul class="ma-dropdown-list">
                                <li><a><span class="ma-icon ma-icon-check"></span> Accounts by YTD Sales</a></li>
                                <li><a>My Leads</a></li>
                            </ul>
                        </div>
                        <label class="dropdown-button-label">Accounts by YTD Sales</label>
                    </div>
                    <div class="flex-align-end phone-only">
                        <a onclick="MALayers.moveToTab('hideLegend');" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize ma-close-button close-legend-panel"></a>
                    </div>
                </div>
                <!--top-bar-row-->
            </div>
            <div id="legendBody" class="qidLocation ma-view-body">
                <div id="legendBodyInner">
                    <div class="legend-body-fixed-header" style="position: relative;">
                        <div id="legendFilterRow" class="pad-0-16 legend-filter-row">
                            <strong>Clean City:</strong> <a href="#">Charlotte</a>
                        </div>
                        <div class="ma-divider compact"></div>
                        <div class="legend-item ma-form-control-wrap ma-checkbox-wrap">
                            <label class="ma-checkbox" style="min-height: 40px;">
                                <input name="checkbox" id="markerLegendCheckAll" onchange="MAPlotting.mobile.toggleAllRows(this);" type="checkbox" checked="checked" />
                                <span class="ma-checkbox-faux"></span>
                                <span class="ma-checkbox-label queryColorField"><strong>Field:</strong> Account Type</span>
                            </label>
                        </div>
                        <div style="position:absolute; top: 2px; right:0px;">
                            <span onclick="MAPlotting.mobile.toggleLegend(this);" style="padding: 10px 20px 0px;" class="float-left ma-button compact legend-moreless-text"><span class="moreless-text">{!$Label.MA_Show_All}</span></span>
                        </div>
                    </div>
                    <!--legend-body-fixed-header-->
                    <div class="legend-body-scrolling-body">
                        <div class="legend-wrap">
                        </div>
                        <!--layer-legend-wrap-->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="layersWrap" class="main-panel view-panel sidebar-panel">
        <div class="ma-top-bar main-panel" id="layersSearchWrapper">
            <div class="ma-top-bar-row">
                <div class="ma-form-control icon-left icon-right ma-top-bar-field-center">
                    <input onkeyup="MALayersSearch.autoCompleteOnKeyUp(event,this);" class="ma-input clearable-input" id="foldersearchInput" placeholder="{!$label.MA_Search}..." type="text"/>
                    <div class="ma-icon icon-left ma-icon-search"></div>
                    <div class="ma-icon icon-right ma-icon-clear clear-input-button" onclick="MALayers.clearAllSearch();" style="display:none;"></div>
                </div>
                <div style="color:#0094D2" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize hide-search" onclick="MALayersSearch.clearSearch();" id="hideLayerSearch"></div>
            </div>
            <div id="foldersearch-results-contents">
                <div class="search-empty-state">
                    <div class="text-center">
                        <span class="ma-icon ma-icon-info ma-icon--large"></span>
                    </div>
                    <div>
                        <p class="text-center">
                            {!$Label.MA_SEARCH_ABOVE_FOR_AVAILABLE_LAYERS}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div id="layersIndexWrap" class="view-panel-flex-column">
            <div id="layersTopBar" class="ma-top-bar">
                <div class="ma-top-bar-row panel-title-row">
                    <a class="ma-icon ma-icon-settings ma-top-bar-button ma-top-bar-button--fullsize ma-top-bar-button-left show-nav-drawer phone-only"></a>
                    <div class="ma-top-bar-title top-bar-title-centered">
                        {!$Label.MA_Layers}
                    </div>
                    <a onclick="MALayersSearch.autoCompleteOnClick(event,this);" class="ma-icon ma-icon-search ma-top-bar-button ma-top-bar-button--fullsize ma-top-bar-button-fixed-right ma-menu-drawer-button"></a>
                </div>
                <div class="ma-tab-link-group ma-tab-link-group--centered ma-tab-link-group--even ma-top-bar-row ma-tab-link-group-sliding-border">
                    <a class="ma-tab-link pos-1 active" data-tab="tabLayersRecent">{!$Label.MA_Recent}</a>
                    <a class="ma-tab-link pos-2" data-tab="tabLayersSaved">{!$Label.MA_Saved}</a>
                    <a class="ma-tab-link pos-3" data-tab="tabLayersActive">{!$Label.MA_ACTIVE}</a>
                </div>
                <div id="layersTopBarTabIndicator" class="layers-top-bar-tab-indicator"></div>
            </div>
            <div id="layersBody" class="ma-view-body">
                <div class="ma-tab-content-group">
                    <div class="ma-tab-content active" id="tabLayersRecent">
                        <div class="ma-folder-content-wrap">
                            <div id="recentLayersList" class="ma-list">

                            </div>
                            <div class="ma-section-title">{!$Label.MA_PLOT_ON_APP_STARTUP}</div>
                            <div id="plotOnStartupList" class="ma-list">

                            </div>
                        </div>
                    </div>
                    <div class="ma-tab-content" id="tabLayersSaved">
                        <div class="ma-folder-content-wrap">
                            <div id="layersBreadcrumb" class="ma-breadcrumb-wrap" style="display:none;">
                                <div class="ma-breadcrumb-inner">
                                    <div class="ma-breadcrumb-back" onclick="MALayers.goBackFolder();">
                                        <div class="ma-icon ma-icon-back"></div>
                                    </div>
                                    <div class="ma-breadcrumb-text">
                                        <ol id="folder-breadcrumb" class="ma-breadcrumb"></ol>
                                    </div>
                                </div>
                            </div>
                            <!--breadcrumb-wrap-->
                            <div id="layersFolders" class="ma-nested-wrap">
                                <div class="ma-nested-wrap-inner">
                                    <div class="ma-nested-item ma-nested-item--center ma-nested-item--root">
                                        <div class="ma-list" id="folder-contents">

                                        </div>
                                        <!--ma-list-->
                                    </div>
                                    <div class="ma-nested-item ma-nested-item--right">
                                        <div class="ma-list">

                                        </div>
                                        <!--ma-list-->
                                    </div>
                                </div>
                            </div>
                            <!--nested-wrap-->
                        </div>
                        <!--ma-folder-content-wrap-->
                    </div>
                    <!--tabLayersSaved-->
                    <div class="ma-tab-content" id="tabLayersActive">
                        <div class="ma-folder-content-wrap">
                            <div id="PlottedQueriesTable"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!--layersBody-->
        </div>
        <!--#layersInnerWrap-->
        <div id="layersNestOverlay" class="nest-overlay"></div>
        <div id="layersIndividualWrap" class="view-panel-flex-column nest-out">
            <div id="layersIndividualTopBar" class="ma-top-bar tooltip-top-bar">
                <div class="ma-top-bar-row">
                    <div>
                        <a class="ma-icon ma-icon-back ma-top-bar-button ma-top-bar-button--fullsize nest-to-layer-index"></a>
                    </div>
                    <div class="ma-top-bar-title--left layerName"></div>

                </div>
                <div class="action-bar-wrap">
                    <div class="action-bar-toggle">
                        <input class='ma-toggle' id='r90' type='checkbox' />
                        <label class='ma-toggle-label' for='r90'></label>
                        <span class="action-bar-toggle-label">
                        {!$Label.MA_PLOT_ON_MAP}
                        </span>
                    </div>
                    <div class="action-bar-right">
                        <div class="action-bar-toggle">
                            <input class='ma-toggle' id='r903' type='checkbox' />
                            <label class='ma-toggle-label' for='r903'></label>
                            <span class="action-bar-toggle-label">
                            {!$Label.MA_PLOT_ON_APP_STARTUP}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="layersIndividualBody" class="ma-view-body">
                <div class="layers-individual-filter-wrap">
                    <div class="ma-section-title">
                        Filtering
                    </div>
                    <div class="pad-8-16-22 background--white">
                        <label class="ma-input-label text--dark-blue">Clean City</label>
                        <div class="ma-form-control icon-right icon-left">
                            <span class="ma-icon icon-left ma-icon-search"></span>
                            <input class="ma-input" type="text" placeholder="Enter a value" value="Charlotte" />
                            <span class="ma-icon icon-right ma-icon-remove"></span>
                        </div>
                    </div>
                    <!--pad-->
                    <div class="ma-section-title ma-section-title">
                        Marker Legend
                    </div>
                    <div class="pad-16-16-8 background--white">
                        <p class="margin-0 text--dark-blue"><strong>Field:</strong> Account Type</p>
                    </div>
                    <div class="legend-wrap background--white"></div>
                </div>
            </div>
            <!--layersBody-->
        </div>
        <!--#layersInnerWrap-->
    </div>
    <!--#layersWrap-->
    <div id="routesWrap" class="main-panel view-panel sidebar-panel">
        <div id="routesIndexWrap" class="view-panel-flex-column">
            <div id="routesTopBar" class="ma-top-bar">
                <div class="ma-top-bar-row panel-title-row">
                    <a class="ma-icon ma-icon-settings ma-top-bar-button ma-top-bar-button--fullsize ma-top-bar-button-left show-nav-drawer phone-only"></a>
                    <div class="ma-top-bar-title top-bar-title-centered">
                        {!$Label.MA_Routes}
                    </div>
                    <a style="display:none;" class="ma-icon ma-icon-settings ma-top-bar-button ma-top-bar-button--fullsize ma-top-bar-button-fixed-right ma-menu-drawer-button"></a>
                </div>
                <div id="routeDatePicker" class="flex-horizontal">
                    <div class="flex-grow-1">
                        <button id="monthPrevButton" onclick="MAMobileRoutes.getPreviousMonth(); return;" class="ma-button "><span class="ma-icon ma-icon-chevronleft"></span> &nbsp;</button>
                    </div>
                    <div>
                        <button id="monthMasterButton" class="ma-button">
                            <input type="text" style="display:none;" class="datePickerInput" />
                            <span id="monthText"></span>
                        </button>
                    </div>
                    <div class="flex-grow-1">
                        <button id="monthNextButton" onclick="MAMobileRoutes.getNextMonth(); return;" class="ma-button"><span class="ma-icon ma-icon-chevronright"></span> &nbsp;</button>
                    </div>
                </div>
            </div>
            <div id="routesBody" class="ma-map-body flex-map-body">
                <div id="routeEditBottomBar" class="panel-bottom-bar clearfix">
                    <div class="float-left" style="position:relative;">
                        <div onclick="MARoutes.mobile.newRoute()" class="ma-button newRouteButton routeBottomButton" style="position: absolute;top: -11px;width: 80px;left: -10px;">
                            <div class="ma-icon ma-icon-add" style="    font-size: 1.5rem;"></div>
                            {!$Label.MA_NEW_ROUTE}
                        </div>
                        <div class="ma-button removeRouteButton routeBottomButton" onclick="MARoutes.mobile.showRemoveRoutes();" style="position: absolute;left: 60px;top: -11px;color: #d4504c;width: 80px;">
                            <div class="ma-icon ma-icon-remove" style="    font-size: 1.5rem;"></div>
                            {!$Label.MA_Delete}
                        </div>
                        <div onclick="MARoutes.mobile.showRemoveRoutes(true);" class="ma-button doneRemoveRoutes routeBottomButton" style="position: absolute;top: -11px;width: 80px;left: -10px;">
                            <div class="ma-icon ma-icon-check" style="    font-size: 1.5rem;"></div>
                            {!$Label.MA_Done}
                        </div>
                    </div>
                    <div class="float-right">
                        <div id="viewRouteButton" onclick="MALayers.moveToTab('routeSingleView'); return false;" class="ma-button ma-button--blue icon-left">
                            <span id="viewRouteButtonBase">
                                <div class="ma-icon ma-icon-new-custom64"></div>
                                {!$Label.MA_VIEW_ROUTE}
                            </span>
                        </div>
                    </div>
                </div>
                <div id="routeMonthWrap">
                    <div>
                        <div class="search-empty-state">
                            <div class="text-center">
                                <span class="ma-icon ma-icon-info ma-icon--large"></span>
                            </div>
                            <div>
                                <p class="text-center">
                                    {!$Label.MA_Loading}...
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <!--routeMonthWrap-->
            </div>
            <!--layersBody-->
        </div>
        <!--#layersInnerWrap-->
        <div id="routesNestOverlay" class="nest-overlay"></div>
        <div id="routesIndividualWrap" class="view-panel-flex-column nest-out view-mode">
            <div id="waypoint-loading-wrap" style="display:none;"></div>
            <div id="tab-routes-route" class="hiddenInputs" style="display:none;">
                <input id="timeoptions-routestart" type="text" />
                <input id="timeoptions-routeend" type="text" />
                <div class="toggle timebased"></div>
                <div class="highlightwaypoints"></div>
                <input type="text" id="mobileDate"/>
            </div>
            <div id="routeIndividualTopBar" class="ma-top-bar">
                <div class="ma-top-bar-row">
                    <div>
                        <a class="ma-icon ma-icon-back ma-top-bar-button ma-top-bar-button--fullsize route-nest-up"></a>
                    </div>
                    <div class="ma-top-bar-title--left" id="routenameWrapper" onclick="MARoutes.mobile.changeRouteInfo(); return false;">
                        <span id="routename">{!$Label.MA_NEW_ROUTE}</span>
                        <div class="ma-top-bar-subtext">
                            <span>
                            <span class="ma-icon ma-icon-event"></span> <input style="border: none;width: 60px;" id="timeoptions-routestart" type="text" />
                            </span>
                            <span>
                            <span class="ma-icon ma-icon-clock"></span> <input style="border: none;width: 60px;" id="timeoptions-routestart" type="text" /> <span> - </span> <input style="border: none;width: 60px;" id="timeoptions-routeend" type="text" />
                            </span>
                        </div>
                    </div>
                </div>
                <div class="action-bar-wrap">
                    <div class="action-bar-toggle">
                        <input onchange="MARoutes.mobile.toggleRoute(this); return false;" class='ma-toggle' id='r9044' type='checkbox' />
                        <label class='ma-toggle-label' for='r9044'></label>
                        <span class="action-bar-toggle-label">
                        {!$Label.MA_PLOT_ON_MAP}
                        </span>
                    </div>
                    <div class="action-bar-right">
                        <button id="routeAgendaViewButton" class="action-bar-button" style="display:none;">
                            <div class="ma-icon ma-icon-event"></div>
                            Day View
                        </button>
                        <button id="routeListViewButton" class="action-bar-button" style="display:none;">
                            <div class="ma-icon ma-icon-list"></div>
                            Agenda View
                        </button>
                        <button class="action-bar-button ">
                            <div class="ma-button ma-button--green icon-left" onclick="MARoutes.mobile.openSaveRoutePopup(); return false;">
                                <div class="ma-icon ma-icon-check"></div>
                                {!$Label.MA_Save}
                            </div>
                        </button>
                    </div>
                </div>
            </div>
            <!--topbar-->
            <div id="routeIndividualBody">
                <div class="single-route-inner">
                    <div id="routeSingleDayView" class="route-single-content-wrap momentum-scrolling-y">
                        <div id="calendarBounds">
                            <div id="dayCalendar">
                                <div id="currentTimeIndicator"></div>
                                <div class="calendar-row">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am12">
                                    <div class="time-label">12 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am1230">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am1">
                                    <div class="time-label">1 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am130">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am2">
                                    <div class="time-label">2 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am230">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am3">
                                    <div class="time-label">3 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am330">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am4">
                                    <div class="time-label">4 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am430">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am5">
                                    <div class="time-label">5 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am530">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am6">
                                    <div class="time-label">6 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am630">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am7">
                                    <div class="time-label">7 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am730">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am8">
                                    <div class="time-label">8 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am830">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am9">
                                    <div class="time-label">9 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit time-passed">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon">
                                                        <span class="ma-icon ma-icon-warning"></span>
                                                    </div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">1. The McDougal Group</div>
                                                        <div class="time-block-time">9 &ndash; 9:30 AM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am930">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am10">
                                    <div class="time-label">10 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit time-passed">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon">
                                                        <span class="ma-icon ma-icon-check"></span>
                                                    </div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">2. Rydell Financial</div>
                                                        <div class="time-block-time">10 &ndash; 10:30 AM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am1030">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="am11">
                                    <div class="time-label">11 AM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit length-hour">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon"></div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">3. First Data Bank</div>
                                                        <div class="time-block-time">11 AM &ndash; 12 PM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="am1130">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm12">
                                    <div class="time-label">12 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm1230">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon"></div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">4. Wells Fargo</div>
                                                        <div class="time-block-time">12:30 &ndash; 1 PM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm1">
                                    <div class="time-label">1 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit sf-event">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon">
                                                        <span class="ma-icon ma-icon-event"></span>
                                                    </div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">Lunch</div>
                                                        <div class="time-block-time">1 &ndash; 1:30 PM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm130">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm2">
                                    <div class="time-label">2 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon"></div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">5. Bank of America</div>
                                                        <div class="time-block-time">2 &ndash; 3 PM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm230">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm3">
                                    <div class="time-label">3 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit length-hour">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon"></div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">6. Charlotte Metro Credit Union</div>
                                                        <div class="time-block-time">3 &ndash; 4 PM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm330">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm4">
                                    <div class="time-label">4 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm430">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                            <div class="time-block-unit">
                                                <div class="time-block-unit-flex">
                                                    <div class="time-block-icon"></div>
                                                    <div class="time-block-text">
                                                        <div class="time-block-title">7. Lyons National Bank</div>
                                                        <div class="time-block-time">4:30 &ndash; 5 PM</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--time-block-unit-->
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm5">
                                    <div class="time-label">5 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm530">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm6">
                                    <div class="time-label">6 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm630">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm7">
                                    <div class="time-label">7 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm730">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm8">
                                    <div class="time-label">8 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm830">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm9">
                                    <div class="time-label">9 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm930">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm10">
                                    <div class="time-label">10 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm1030">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row" id="pm11">
                                    <div class="time-label">11 PM</div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row half-past" id="pm1130">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                                <div class="calendar-row">
                                    <div class="time-label"></div>
                                    <div class="time-block">
                                        <div class="time-block-inner">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--calendarBounds-->
                    </div>
                    <div id="routeSingleListView" class="route-single-content-wrap momentum-scrolling-y in">
                        <div id="routeListView">
                            <div id="routeEditTimeMask" class="edit-time-mask"></div>
                            <div id="routeOptimizeMask" class="route-optimizing-mask"></div>
                        </div>
                    </div>
                </div>
                <!--route-single-inner-->
            </div>
            <!--route-single-->
            <div id="routeEditTopBar" class="ma-top-bar-row panel-title-row flex-horizontal">
                <div>
                    <div class="ma-button ma-button--white hide-route-edit">
                        {!$Label.MA_Done}
                    </div>
                </div>
                <div class="ma-top-bar-title top-bar-title-centered">
                    {!$Label.MA_Edit}
                </div>
                <div class="flex-align-end">
                    <div onclick="MARoutes.mobile.openSaveRoutePopup(); return false;" class=" hidden ma-button ma-button--blue hide-route-edit">
                        {!$Label.MA_Save_Route}
                    </div>
                </div>
            </div>
            <div id="routeEditBottomBar" class="panel-bottom-bar clearfix">
                <div class="float-left" style="position:relative;">
                    <div class="ma-button routeBottomButton show-route-edit" style="position: absolute;left: -10px; top: -11px;width: 75px;">
                        <div class="ma-icon ma-icon-edit" style="font-size: 1.5rem;"></div>
                        {!$Label.MA_Edit}
                    </div>
                    <div class="ma-button routeBottomButton" onclick="MARoutes.mobile.showAddStopPopup()" style="position: absolute;left: 60px;top: -11px;width: 75px;">
                        <div class="ma-icon ma-icon-add" style="font-size: 1.5rem;"></div>
                        {!$Label.MA_Add_Stop}
                    </div>
                </div>
                <div class="float-right">
                    <div id="optimizeRouteButton" onclick="MARoutes.mobile.optimizeRoute(); return false;" class="ma-button ma-button--blue icon-left">
                        <span id="optimizeButtonBase">
                            <div class="ma-icon ma-icon-custom95"></div>
                            {!$Label.MA_Optimize}
                        </span>
                        <span id="optimizeButtonOptimizing" style="display:none;">
                            <div class="ma-icon">
                                <img class="button-spinner" src="images/spinners/slds_spinner_inverse.gif" />
                            </div>
                            Optimizing
                        </span>
                    </div>
                </div>
            </div>
            <!--bottom-bar-->
        </div>
        <!--#layersInnerWrap-->
    </div>
    <!--#layersWrap-->
    <div id="searchTopBar" class="ma-top-bar main-panel">
        <div class="ma-top-bar-row">
            <div class="ma-icon ma-icon-settings ma-top-bar-button ma-top-bar-button--fullsize phone-only show-nav-drawer"></div>
            <div class="ma-form-control icon-left icon-right ma-top-bar-field-center">
                <input id="searchInput" class="ma-input clearable-input" type="text" placeholder="{!$Label.MA_SEARCH_THE_MAP}..." />
                <div class="ma-icon icon-left ma-icon-search"></div>
                <div class="ma-icon icon-right ma-icon-clear clear-input-button" onclick="MALayers.clearAllSearch();" style="display:none;"></div>
            </div>
            <div id="getLocationButton" class="get-my-location ma-icon ma-icon-my-location ma-top-bar-button ma-top-bar-button--fullsize phone-only"></div>
            <div id="getLocationButton" class="ma-icon ma-icon-close ma-top-bar-button ma-top-bar-button--fullsize hide-search phone-only"></div>
        </div>
    </div>
    <div id="searchBody" class="ma-search-body main-panel">
        <div class="search-empty-state">
            <div class="text-center">
                <span class="ma-icon ma-icon-info ma-icon--large"></span>
            </div>
            <div>
                <p class="text-center">
                    {!$Label.MA_SEARCH_FOR_MARKERS_FROM_ACTIVE_LAYERS_OR_GOOGLE_PLACES_AND}
                </p>
            </div>
        </div>
        <div id="searchResults" class="search-result-wrap">
            <ul class="markerResults"></ul>
            <ul class="poiResults"></ul>
        </div>
    </div>
    <!--searchbody-->
    <div id="markerTooltipWrap" class="tooltip-wrap flex-vertical">
        <div id="markerTooltipTopBar" class="ma-top-bar tooltip-top-bar">
            <div class="ma-top-bar-row">
                <div>
                    <a onclick="MALayers.moveToTab('hideTooltip');" class="ma-icon ma-icon-back ma-top-bar-button ma-top-bar-button--fullsize hide-tooltip"></a>
                </div>
                <div class="ma-top-bar-title--left recordName flex-grow-1">
                    First Data Bank
                    <div class="ma-top-bar-subtext recordAddress">
                        4300 West Trade St. Charlotte, NC 28217
                    </div>
                </div>
                <div class="ma-top-bar-meta">
                    <div class="ma-top-bar-meta-distance recordDistance">.2 miles</div>
                    <div class="ma-top-bar-meta-time recordTime"></div>
                </div>
            </div>
        </div>
        <div id="markerTooltipCloseMapClickArea" onclick="MALayers.moveToTab('hideTooltip');"></div>
        <div id="markerTooltipBody" class="tooltip-body flex-grow-1">
            <div class="tooltip-inner">
                <div class="action-bar-wrap"></div>
                <div class="tooltip-content">
                    <div class="ma-tab-link-group ma-button-group">
                        <button data-tab="markerInfoTab1" class="ma-button ma-tab-link active">Details</button>
                        <button data-tab="markerInfoTab2" class="ma-button ma-tab-link">Related List</button>

                    </div>
                    <div class="ma-tab-content-group">
                        <div id="markerInfoTab1" class="ma-tab-content active">

                        </div>
                        <div id="markerInfoTab2" class="ma-tab-content">

                        </div>
                    </div>
                </div>
                <!--markerinfo-segment-->
            </div>
        </div>
        <!--marker-info-->
    </div>
    <div id="navDrawerWrap" class="view-panel">
        <div id="navDrawerMenu">
            <div class="nav-drawer-inner flex-vertical">
                <div class="nav-drawer-spacer">
                    <div class="flex-horizontal">
                        <div class="flex-grow-1">
                            <img src="{! URLFOR($Resource.MAPhone, 's1Mobile/images/mapanything_logo.svg') }" class="ma-logo" />
                        </div>
                        <div>
                            <button onclick="MALayers.moveToTab('hideNavDrawer');" class="ma-button icon-alone"><i class="ma-icon ma-icon-remove"></i></button>
                        </div>
                    </div>
                </div>
                <div class="nav-drawer-spacer flex-grow-1">
                    <div class="flex-vertical">
                        <div onclick="ZoomToFit(); hideNavDrawer();" id="navDrawerZoomToFit" class="nav-drawer-item"><span class="nav-drawer-item-icon ma-icon ma-icon-contract-alt"></span> {!$Label.MA_Zoom_To_Fit}</div>
                        <div class="nav-drawer-item hidden" id="proximityCircleWrapper">
                            <div class="flex-horizontal">
                                <div class="flex-grow-1">
                                    <div class="flex-horizontal">
                                        <div>
                                            <span class="nav-drawer-item-icon ma-icon ma-icon-proximity"></span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="flex-vertical">
                                                <div>
                                                    Proximity Circle
                                                </div>
                                                <div>
                                                    <span class="nav-drawer-item-subtext">5727 Westpark Drive<br/>Charlotte, NC 28205<br/>&bull; 5 mile radius</span>
                                                </div>
                                                <div>
                                                    <button class="ma-button icon-left compact">
                                                        <i class="ma-icon ma-icon-remove"></i>
                                                        Remove
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <button class="ma-button icon-alone">
                                        <i class="ma-icon ma-icon-edit"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div onclick="MALayers.showModal('MapTypeSelection'); hideNavDrawer();" id="" class="nav-drawer-item">
                            <div class="flex-horizontal">
                                <div class="flex-grow-1">
                                    <div class="flex-horizontal">
                                        <div>
                                            <span class="nav-drawer-item-icon ma-icon ma-icon-location"></span>
                                        </div>
                                        <div class="flex-grow-1">
                                            <div class="flex-vertical">
                                                <div>
                                                    {!$Label.MA_Map_Types}
                                                </div>
                                                <div>
                                                    <span id="mapTileName" class="nav-drawer-item-subtext">{!$Label.MA_ROAD} ({!$Label.MA_DEFAULT})</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <button class="ma-button icon-alone">
                                        <span class="ma-icon ma-icon-chevronright"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div  id="ShowTrafficButton" class="nav-drawer-item">
                            <span class="nav-drawer-item-icon ma-icon ma-icon-custom31"></span>
                            {!$Label.MA_Traffic}
                            <div class="float-right">
                                <input onchange="showGoogleTrafficLayer(this); hideNavDrawer();" class='ma-toggle' id='optionTrafficToggle' type='checkbox' />
                                <label class='ma-toggle-label' for='optionTrafficToggle'></label>
                            </div>
                        </div>
                        <apex:outputPanel layout="none" rendered="{!VisibleAreaEnabledMobileDefault = 'true'}">
                            <div id="ShowTrafficButton" class="nav-drawer-item">
                                <span class="nav-drawer-item-icon ma-icon ma-icon-new-custom100"></span>
                                {!$Label.MA_Visible_Area}
                                <div class="float-right">
                                    <input checked="checked" class='ma-toggle' id='VisibleAreaCB' type='checkbox' />
                                    <label class='ma-toggle-label' for='VisibleAreaCB'></label>
                                </div>
                            </div>
                        </apex:outputPanel>

                        <apex:outputPanel layout="none" rendered="{!VisibleAreaEnabledMobileDefault != 'true'}">
                            <div id="ShowTrafficButton" class="nav-drawer-item">
                                <span class="nav-drawer-item-icon ma-icon ma-icon-new-custom100"></span>
                                {!$Label.MA_Visible_Area}
                                <div class="float-right">
                                    <input class='ma-toggle' id='VisibleAreaCB' type='checkbox' />
                                    <label class='ma-toggle-label' for='VisibleAreaCB'></label>
                                </div>
                            </div>
                        </apex:outputPanel>
                    </div>
                </div>
                <div class="ma-divider compact"></div>
                <div class="nav-drawer-spacer flex-align-end">
                    <div onclick="MALayers.moveToTab('showAdvancedSettings');" id="advancedSettingsButton" class="nav-drawer-item nav-drawer-item-secondary"><span class="ma-icon ma-icon-settings"></span>{!$Label.MA_ADVANCED_SETTINGS}</div>
                    <div class="hidden nav-drawer-item nav-drawer-item-secondary" id="helpButton"><span class="ma-icon ma-icon-question"></span>{!$Label.MA_HELP}</div>
                    <div class="nav-drawer-item nav-drawer-item-secondary">
                        <div class="nav-drawer-item-subtext">
                            {!$Label.MA_Version}: {!versionNumber}
                        </div>
                    </div>
                </div>
            </div>
            <!--nav-drawer-inner-->

            <!-- <div onclick="MALayers.moveToTab('hideNavDrawer');" class="ma-icon ma-icon-close hide-nav-drawer phone-only"></div> -->

        </div>

        <div onclick="MALayers.moveToTab('hideNavDrawer');" id="navDrawerMask" class="hide-nav-drawer tablet-only"></div>
    </div>

    <!--derek-->

    <div id="advancedSettingsWrap" class="view-panel mobileOverFlow inverted-color">
        <div id="settings-tabs" class="nav-drawer-inner flex-vertical">
            <div class="advanced-settings-header">
                <div class="flex-horizontal">
                    <div class="flex-grow-1 advanced-settings-header-text">
                        <button onclick="cancelSettings();MALayers.moveToTab('hideAdvancedSettings');" class="ma-button lightly-padded pull-left ma-button--white">{!$Label.MA_Cancel}</button>
                        {!$Label.MASettings_Settings}
                        <button onclick="saveSettings();" class="ma-button pull-right lightly-padded ma-button--blue">{!$Label.MA_Save}</button>
                    </div>
                    <!--<div>-->
                        <!--<button style="background: transparent;border: none;" onclick="MALayers.moveToTab('hideAdvancedSettings');" class="ma-top-bar-button--fullsize ma-icon ma-icon-close"></button>-->
                    <!--</div>-->
                </div>
            </div>
            <div class="flex-grow-1 overflow-y-auto">
                <div class="ma-section-title ma-section-title margin-16-0-0">
                    {!$Label.MASettings_General}
                </div>
                <div class="pad-0-16-8" id="general-tab">
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_Limit_Number_Records}</label>
                        <div class="ma-form-control">
                            <input type="text" class="ma-input numberVal" id="queryLimit" value="1000" size="5" />
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_Distance} {!$Label.MA_UNITS}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class="ma-input" id="UnitType">
                                <option value="mi">{!$Label.MARoutes_Miles}</option>
                                <option value="km">{!$Label.MARoutes_Kilometers}</option>
                            </select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_DEFAULT_PROX_TYPE}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select onchange="settingsProximityChange(this);" class="proximitytype ma-input" id="UnitType">
                                <option value='Circle'>{!$Label.MA_Circle}</option>
                                <option style="display:none;" value='Polygon'>{!$Label.MA_Polygon}</option>
                                <option value='travelTime'>{!$Label.MA_Travel_Time}</option>
                                <option value='travelDistance'>{!$Label.MA_Travel_Distance}</option>
                            </select>
                        </div>
                    </div>
                    <div class='prox-options' style="margin-left: 16px;">
                        <div class="ma-form-control-wrap options-circle prox-option hidden">
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">{!$Label.MASettings_Radius}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <input class="ma-input numberVal options-circle-radius" value="50" id="ProximityRadius" />
                                </div>
                            </div>
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">{!$Label.MA_UNITS}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <i class="ma-icon ma-icon-down inset-icon--right"></i>
                                    <select class="ma-input options-circle-unit" id="ProximityRadiusMeasurementType">
                                        <option value="MILES">{!$Label.MARoutes_Miles}</option>
                                        <option value="KM">{!$Label.MARoutes_Kilometers}</option>
                                        <option value="METERS">{!$Label.MA_Meters}</option>
                                        <option value="YARDS">{!$Label.MA_Yards}</option>
                                        <option value="FEET">{!$Label.MA_Feet}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div  class="ma-form-control-wrap prox-option hidden" id="proximity-travel-distance">
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">{!$Label.MASettings_Radius}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <input type="text" class="ma-input numberVal travel-distance-radius prox-style" placeholder="0" />
                                </div>
                            </div>
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">{!$Label.MA_UNITS}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <i class="ma-icon ma-icon-down inset-icon--right"></i>
                                    <select class="ma-input distance-unit-dropdown">
                                        <option value="MILES">{!$Label.MARoutes_Miles}</option>
                                        <option value="KM">{!$Label.MARoutes_Kilometers}</option>
                                        <option value="METERS">{!$Label.MA_Meters}</option>
                                        <option value="YARDS">{!$Label.MA_Yards}</option>
                                        <option value="FEET">{!$Label.MA_Feet}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div  class="ma-form-control-wrap prox-option hidden" id="proximity-travel-time">
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">{!$Label.MA_hours}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <input type="text" class="ma-input numberVal radius-hours prox-style" placeholder="0"/>
                                </div>
                            </div>
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">{!$Label.MA_minutes}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <input type="text" class="ma-input numberVal radius-minutes prox-style" placeholder="0" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label ma-checkbox" style="width: 100%;">
                            <div class="ma-checkbox-label" style="line-height: 40px;">
                                <div style="line-height: 20px;">Mobile State Remembrance</div>
                                <div style="font-size:10px;line-height: 13px;">recalls plotted route and Salesforce layers when navigating away from MapAnything</div>
                            </div>
                            <div class="layer-toggle" style="float:right;padding-top: 17px;">
                                <input id="recallMobileSaveState" class="recallMobileSaveState ma-toggle" name="recallMobileSaveState" type="checkbox" />
                                <label class="ma-toggle-label" for="recallMobileSaveState"></label>
                            </div>
                        </label>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label ma-checkbox" style="width: 100%;">
                            <div class="ma-checkbox-label" style="line-height: 40px;">
                                {!$Label.MASettings_MapIt_Proximity}
                            </div>
                            <div class="layer-toggle" style="float:right;padding-top: 17px;">
                                <input id="mapit-proximity-on" class="mapit-proximity-on ma-toggle" name="mapit-proximity-on" type="checkbox" />
                                <label class="ma-toggle-label" for="mapit-proximity-on"></label>
                            </div>
                        </label>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label ma-checkbox" style="width: 100%;">
                            <div class="ma-checkbox-label" style="line-height: 40px;">
                                {!$Label.MASettings_Invert_Proximity}
                            </div>
                            <div class="layer-toggle" style="float:right;padding-top: 17px;">
                                <input onchange='ChangeVisibilityWhenCircleIsAdded();' class="ma-toggle" id="InvertProximityCheckbox" type="checkbox"/>
                                <label class="ma-toggle-label" for="InvertProximityCheckbox"></label>
                            </div>
                        </label>
                    </div>
                </div>
                <div class="ma-section-title ma-section-title margin-16-0-0">
                    {!$Label.MA_Routes}
                </div>
                <div class="hidden">
                    <select id='DriveProfile'></select>
                </div>
                <div class="pad-0-16-8" id="Routing-Settings">
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MARoutes_Directions_Defaults}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class="ma-input" id="RouteMode">
                                <option value="driving">{!$Label.MA_DRIVING}</option>
                                <option value="walking">{!$Label.MA_WALKING}</option>
                                <option value="bicycling">{!$Label.MARoutes_Bicycle}</option>
                            </select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_START_LOCATION}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-search inset-icon--right"></i>
                            <input type="text" class="ma-input timedefaults-startlocation autocomplete"/>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_END_LOCATION}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-search inset-icon--right"></i>
                            <input type="text" class="ma-input timedefaults-endlocation autocomplete"/>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_DEFAULT_ROUTE_TYPE}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class='ma-input timedefaults-routetype'>
                                <option value='Standard'>Standard</option>
                                <option value='TimeBased'>{!$Label.MA_Time_Based_Route}</option>
                            </select>
                        </div>
                    </div>
                    <div  class="ma-form-control-wrap mapItProx-selection selection-row">
                        <label class="ma-input-label">{!$Label.MARoutes_Route_Duration}</label>
                        <div class="ma-form-control">
                            <div class="flex-horizontal">
                                <div class="flex-grow-1 double-stacked-input">
                                    <div class="ma-form-control has-inset-icon--right">
                                        <i class="ma-icon ma-icon-down inset-icon--right"></i>
                                        <select class="ma-input timedefaults-routestart"></select>
                                    </div>
                                    <div class="ma-form-control has-inset-icon--right">
                                        <i class="ma-icon ma-icon-down inset-icon--right"></i>
                                        <select class="ma-input timedefaults-routeend"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MARoutes_Appointment_Duration}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class='ma-input timedefaults-appointmentduration'></select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label ma-checkbox" style="width: 100%;">
                            <div class="ma-checkbox-label" style="line-height: 40px;">
                                {!$Label.MA_DISPLAY_TIME_IN_TRAFFIC}
                            </div>
                            <div class="layer-toggle" style="float:right;padding-top: 17px;">
                                <input id="displaytraffictime" class="ma-toggle" type="checkbox" />
                                <label class="ma-toggle-label" for="displaytraffictime"></label>
                            </div>
                        </label>
                    </div>
                    <div class=" hidden ma-form-control-wrap">
                        <label class="ma-input-label ma-checkbox">
                            <div class="ma-checkbox-label" style="line-height: 40px;">
                                {!$Label.MA_CREATE_NEW_WAYPOINTS_WHEN_DRAGGING_ROUTE}
                            </div>
                            <div class="layer-toggle" style="float:right;padding-top: 17px;">
                                <input id="enableDraggableWaypoints" class="ma-toggle" type="checkbox" />
                                <label class="ma-toggle-label" for="enableDraggableWaypoints"></label>
                            </div>
                        </label>
                    </div>
                </div>
                <div class="pad-16">
                    <a onclick="resetSettings();" href="#" class="">{!$Label.MA_Reset_Settings}</a>
                </div>
                <!--<div class="pad-16" style="border-top: 1px solid #d8dde6;">-->
                    <!--<button onclick="saveSettings();" class="ma-button pull-right ma-button--blue">{!$Label.MA_Save}</button>-->
                    <!--<button onclick="cancelSettings();MALayers.moveToTab('hideAdvancedSettings');" class="ma-button pull-right ma-button--white">{!$Label.MA_Cancel}</button>-->
                <!--</div>-->
                </div>
            </div>
    </div><!--advancedSettingsWrap-->

    <div id="bottomBarWrap">
        <div id="bottomBarTabIndicator" class="bottom-bar-tab-indicator"></div>
        <div class="ma-bottom-bar-button-wrap flex-vertical">
            <div id="navButtonMap" class="ma-bottom-bar-button active phone-only">
                <div class="ma-icon ma-icon-location"></div>
                Map
            </div>
            <div id="navButtonLayers" class="ma-bottom-bar-button">
                <div class="ma-icon ma-icon-layers"></div>
                {!$Label.MA_Layers}
            </div>
            <div id="navButtonRoutes" class="ma-bottom-bar-button">
                <div class="ma-icon ma-icon-signpost"></div>
                {!$Label.MA_Routes}
            </div>
            <div id="navButtonSearch" class="ma-bottom-bar-button tablet-only">
                <div class="ma-icon ma-icon-search"></div>
                {!$Label.MA_Search}
            </div>
            <!--    <a id="navButtonList" class="ma-bottom-bar-button">
                <div class="ma-icon ma-icon-richtextbulletedlist"></div>
                List
                </a> --><!--
                <a id="navButtonSearch" class="ma-bottom-bar-button">
                    <div class="ma-icon ma-icon-search"></div>
                    Search
                </a>
                -->
            <div class="flex-align-end">
                <div id="navButtonDrawer" class="ma-bottom-bar-independent-button tablet-only show-nav-drawer">
                    <div class="ma-icon ma-icon-settings"></div>
                </div>
                <div id="navButtonMyLocation" class="ma-bottom-bar-independent-button tablet-only get-my-location">
                    <div class="ma-icon ma-icon-my-location"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="settingsWrap" class="view-panel">
        <br/><br/><br/><br/>{!$Label.MASettings_Settings}
        <button id="closeSettingsButton" class="ma-button ma-button--white" onclick="MALayers.hideModal();">{!$Label.MA_Close}</button>
    </div>
    <div id="queryPlottingActionSheet" class="ma-action-sheet-wrap">
        <div class="ma-action-sheet">
            <div onclick="MAPlotting.mobile.showPlotOptions('display');" class="ma-action-sheet-item">{!$Label.MA_Edit_Display_Style}</div>
            <div style="display:none;" onclick="MAPlotting.mobile.showPlotOptions('moreOptions');" class="ma-action-sheet-item">{!$Label.MA_Options}</div>
        </div>
        <div class="action-sheet-mask"></div>
    </div>
    <div id="markerActionSheet" class="ma-action-sheet-wrap">
        <div class="ma-action-sheet"></div>
        <div class="action-sheet-mask"></div>
    </div>
    <div id="dataLayerActionSheet" class="ma-action-sheet-wrap">
        <div class="ma-action-sheet"></div>
        <div class="action-sheet-mask"></div>
    </div>
    <div id="ListActionSheet" class="ma-action-sheet-wrap">
        <div class="ma-action-sheet"></div>
        <div class="action-sheet-mask"></div>
    </div>
    <div id="modalScreen" class="modal-screen"></div>

    <div id="queryPlottingOptions" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_Display_Style}</h4>
            </div>
            <div class="ma-modal-content pad-8-16 mobileOverFlow">
                <div class='ma-list MapViewTable ma-list-border'>
                    <div class="ma-list-item">
                        <div class="full-width">
                            <div class="ma-list-item-name">
                                <label class="ma-checkbox">
                                    <input data-renderas="Markers" class="renderToggle markers" onchange="MAPlotting.mobile.toggleDisplayType(this);" type="checkbox"/>
                                    <span class="ma-checkbox-faux"></span>
                                    <span class="ma-checkbox-label"><div class="ma-render-icon inline" type="markers"></div><span class="displayLabel">{!$Label.MA_Markers}</span></span>

                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="ma-list-item">
                        <div class="full-width">
                            <div class="ma-list-item-name">
                                <label class="ma-checkbox">
                                    <input data-renderas="Cluster" class="renderToggle cluster" onchange="MAPlotting.mobile.toggleDisplayType(this);" type="checkbox"/>
                                    <span class="ma-checkbox-faux"></span>
                                    <span class="ma-checkbox-label"><div class="ma-render-icon inline" type="cluster"></div><span class="displayLabel">{!$Label.MA_CLUSTERS}</span></span>

                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="ma-list-item">
                        <div class="full-width">
                            <div class="ma-list-item-name">
                                <label class="ma-checkbox">
                                    <input data-renderas="Heatmap" class="renderToggle heatmap" onchange="MAPlotting.mobile.toggleDisplayType(this);" type="checkbox"/>
                                    <span class="ma-checkbox-faux"></span>
                                    <span class="ma-checkbox-label"><div class="ma-render-icon inline" type="heatmap"></div><span class="displayLabel">{!$Label.MA_HEATMAP}</span></span>

                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="ma-list-item">
                        <div class="full-width">
                            <div class="ma-list-item-name">
                                <label class="ma-checkbox">
                                    <input data-renderas="Scatter" class="renderToggle scatter" onchange="MAPlotting.mobile.toggleDisplayType(this);" type="checkbox"/>
                                    <span class="ma-checkbox-faux"></span>
                                    <span class="ma-checkbox-label"><div class="ma-render-icon inline" type="scatter"></div><span class="displayLabel">{!$Label.MA_SCATTER}</span></span>

                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Close}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="addStopModal" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_Add_Stop}</h4>
            </div>
            <div class="ma-modal-content">
                <div id="changeowner-user-select" class="pad-8-16">
                    <div class="ma-form-control-wrap updatefield-value-wrapper">
                        <label class="ma-input-label">{!$Label.MA_Name}<span class="required">*</span></label>
                        <div class="updatefield-value">
                            <input class='ma-input' placeholder="{!$Label.MA_Name}..." id="newWaypointName" type='text' />
                        </div>
                    </div>
                    <div class="ma-form-control-wrap updatefield-value-wrapper">
                        <label class="ma-input-label">{!$Label.MA_Address}<span class="required">*</span></label>
                        <div class="updatefield-value">
                            <textarea class='ma-input' id="newWaypointAddress" placeholder="{!$Label.MA_Address}..." type='text' />
                        </div>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--red step2" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button class="ma-button ma-button--blue step2" onclick="MARoutes.mobile.validateWaypoint();">{!$Label.MA_Done}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="live-vertice-tooltip-content" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Tracking History</h4>
            </div>
            <div class='loadmask-wrapper ma-modal-content'>
                <div class="pad-8-16 device-history-vertice-info"></div>
            </div>
            <div class="ma-modal-footer clearfix">
                <button class="actionbutton vertice-tooltip-button removeHistoryButton ma-button ma-button--blue" value="Remove History" data-action="Remove History" data-type="Standard Action">Remove History</button>
                <button class="ma-button ma-button--white" onclick="MALayers.hideModal();">{!$Label.MA_Close}</button>
            </div>
        </div>
    </div>

    <div id="live-polyline-tooltip-content" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Tracking History</h4>
            </div>
            <div class='loadmask-wrapper ma-modal-content'>
                <div class="pad-8-16 device-history-polyline-info"></div>
            </div>
            <div class="ma-modal-footer clearfix">
                <button class="actionbutton vertice-tooltip-button removeHistoryButton ma-button ma-button--blue" value="Remove History" data-action="Remove History" data-type="Standard Action">Remove History</button>
                <button class="ma-button ma-button--white" onclick="MALayers.hideModal();">{!$Label.MA_Close}</button>
            </div>
        </div>
    </div>

    <div id="ChatterPostPopup" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Chatter Post</h4>
            </div>
            <div id='chatterpost-content-wrapper' class='loadmask-wrapper ma-modal-content'>
                <div id="changeowner-user-select" class="pad-8-16">
                    <h4>Step 1: Content</h4>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Content</label>
                        <textarea id='chatterpost-content' placeholder="Post..." class="ma-input"/>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--red" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button class="ma-button ma-button--blue" onclick="ChatterPost_Finish();">{!$Label.MA_Add_Close}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="ChangeOwnerPopup" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MAActionFramework_Change_Owner}</h4>
            </div>
            <div class="ma-modal-content">
                <div id="changeowner-user-select" class="pad-8-16">
                    <h4>{!$Label.MA_Step_1_Select_New_Owner}</h4>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_Name}</label>
                        <div class="ma-form-control icon-left">
                            <input placeholder="{!$Label.MA_Search}..." class="ma-input changeOwnerLookup createLookup" type="text"/>
                            <div class="ma-icon ma-icon-search" style="color: #54698d;position: absolute;top: 9px;left: 14px;font-size: 16px;"></div>
                        </div>
                    </div>
                    <div id="changeowner-select-grid"></div>
                </div>
                <div class="changeOwnerStep2 pad-8-16" id="changeowner-options-wrapper" style="display: none;">
                    <h4>{!$Label.MA_Step_2_Transfer_Options}</h4>
                    <div>
                        <h4>{!$Label.MA_Related_items_transfer}</h4>
                        <div class="ma-form-control-wrap ma-checkbox-wrap">
                            <label class="ma-checkbox">
                                <input checked="checked" name="checkbox" id="changeowner-notes" type="checkbox"/>
                                <span class="ma-checkbox-faux"></span>
                                <span class="ma-checkbox-label">{!$Label.MA_Notes}</span>
                            </label>
                        </div>
                        <div class="ma-form-control-wrap ma-checkbox-wrap">
                            <label class="ma-checkbox">
                                <input checked="checked" name="checkbox" id="changeowner-attachments" type="checkbox"/>
                                <span class="ma-checkbox-faux"></span>
                                <span class="ma-checkbox-label">{!$Label.MA_Attachments}</span>
                            </label>
                        </div>
                        <div class="ma-form-control-wrap ma-checkbox-wrap">
                            <label class="ma-checkbox">
                                <input checked="checked" name="checkbox" id="changeowner-tasks" type="checkbox"/>
                                <span class="ma-checkbox-faux"></span>
                                <span class="ma-checkbox-label">{!$Label.MA_Open_Tasks}</span>
                            </label>
                        </div>
                        <div class="ma-form-control-wrap ma-checkbox-wrap">
                            <label class="ma-checkbox">
                                <input checked="checked" name="checkbox" id="changeowner-events" type="checkbox"/>
                                <span class="ma-checkbox-faux"></span>
                                <span class="ma-checkbox-label">{!$Label.MA_Future_Events}</span>
                            </label>
                        </div>
                    </div>
                </div>

            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--red step2" style="display:none;" onclick="ChangeOwner_Step1();">{!$Label.MA_Back}</button>
                    <button class="ma-button ma-button--blue step2" onclick="ChangeOwner_Finish();" style="display:none;">{!$Label.MA_Save_Close}</button>
                    <button class="ma-button ma-button--blue" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="ChangeDatePopup" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Select a Date</h4>
            </div>
            <div class="ma-modal-content">
                <div class="pad-8-16">
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Month</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="ma-input changeMonth">
                                <option value="0">{!$Label.MA_January}</option>
                                <option value="1">{!$Label.MA_February}</option>
                                <option value="2">{!$Label.MA_March}</option>
                                <option value="3">{!$Label.MA_April}</option>
                                <option value="4">{!$Label.MA_May}</option>
                                <option value="5">{!$Label.MA_June}</option>
                                <option value="6">{!$Label.MA_July}</option>
                                <option value="7">{!$Label.MA_August}</option>
                                <option value="8">{!$Label.MA_September}</option>
                                <option value="9">{!$Label.MA_October}</option>
                                <option value="10">{!$Label.MA_November}</option>
                                <option value="11">{!$Label.MA_December}</option>
                            </select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Year</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="ma-input changeYear">
                                <option></option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--blue" onclick="MAMobileRoutes.setDateFromPopup(); return;">Continue</button>
                    <button class="ma-button ma-button--red" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="FilterListViewPopup" style="position:absolute;" class="ma-modal ma-modal--large">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_Filter_List_View}</h4>
            </div>
            <div class="ma-modal-content" style="padding: 1rem;">
                <table style="min-width:550px;" class="ma-table ma-table ma-table--fullwidth">
                    <thead class="ma-table-header">
                        <tr>
                            <th>{!$Label.MA_Tooltip}</th>
                            <th>{!$Label.MA_OPERATOR}</th>
                            <th>{!$Label.MA_Value}</th>
                        </tr>
                    </thead>
                    <tbody class="filterTableBody"></tbody>
                </table>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--blue" onclick="MAListView.mobile.search();">{!$Label.MA_FILTER}</button>
                    <button class="ma-button  ma-button--red hidden" id="listViewClearFilters" onclick="MAListView.mobile.clearSearch();">{!$Label.MA_Clear_Filters}</button>
                    <button class="ma-button  ma-button--red" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Log A Call Popup -->
    <div class="ma-modal ma-modal--small" id="LogACallPopup">

        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button class="ma-button ma-modal-close" onclick="MALayers.hideModal();">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MAActionFramework_Log_a_Call}</h4>
            </div>

            <div class="ma-modal-content" style="padding:0;">
                <div class="pad-16">
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Subject</label>
                        <div class="ma-form-control">
                            <input class="ma-input callSubject" type="text" value="Call"/>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Comments</label>
                        <div class="ma-form-control">
                            <textarea style="min-height: 66px;" class="ma-input callComments" type="text"></textarea>
                        </div>
                    </div>
                    <div class="hidden ma-form-control-wrap">
                        <label class="ma-input-label">Name</label>
                        <div class="ma-form-control icon-left">
                            <i style="color: #54698d;position: absolute;top: 6px;left: 14px;font-size: 16px;" class="MAIcon ion-android-search"></i>
                            <input class="ma-input callContact" type="text" placeholder="Search Contacts"/>
                        </div>
                    </div>
                    <div class="hidden ma-form-control-wrap">
                        <label class="ma-input-label">Related To</label>
                        <div class="ma-form-control icon-left">
                            <i style="color: #54698d;position: absolute;top: 6px;left: 14px;font-size: 16px;" class="MAIcon ion-android-search"></i>
                            <input class="ma-input callAccount" type="text" placeholder="Search Accounts"/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ma-modal-footer clearfix">
                <div style="float:left;">
                    <button style="font-size: 10px;" class="ma-button ma-button--white" id="LogACallClassic" onclick="LogACallClassic();">View in Salesforce</button>
                </div>
                <div class="float-right">
                    <button class="ma-button ma-button--red" id="maModalClose" onclick="MALayers.hideModal('LogACallPopup',true);">{!$Label.MA_Cancel}</button>
                    <button class="ma-button ma-button--blue" onclick="logACall_Finish();">{!$Label.MA_Finish}</button>
                </div>
            </div>
        </div>
    </div>

    <!-- New Task Window -->
    <div id="NewTaskPopup" class="ma-modal ma-modal--large">
        <div class="ma-modal-container" style="width:700px;">
            <div class="ma-modal-header">
                <button class="ma-button ma-modal-close" onclick="MALayers.hideModal();">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_New_Task}</h4>
            </div>

            <div class="ma-modal-content" style="padding:0;height: 400px;">
                <div class="pad-16">
                    <div id='newtask-assignto-wrapper'>
                        <h4>{!$Label.MA_Step_1_Assign_To}</h4>

                        <!-- Assignment Type -->
                        <div class='newtask-assignto-type-wrapper'>
                            <input type='radio' name='newtask-assignto-type' id='newtask-assignto-type-static' value='Static' />
                            <label for='newtask-assignto-type-static'>{!$Label.MA_Static}</label>

                            <input type='radio' name='newtask-assignto-type' id='newtask-assignto-type-dynamic' value='Dynamic' />
                            <label for='newtask-assignto-type-dynamic'>{!$Label.MA_Dynamic}</label>
                        </div>

                        <div class="ma-form-control-wrap newtask-assignto-type Static">
                            <label class="ma-input-label">{!$Label.MA_Step_1_Assign_To}<span class="required">*</span></label>
                            <div class="ma-form-control icon-right">
                                <i class="ma-icon ma-icon-search inset-icon--right"></i>
                                <input class="ma-input searchDynamicInput taskOwner" type="text"/>
                            </div>

                            <div class="ma-form-control-wrap">
                                <ul style="max-height: 220px;overflow: auto;" class="ma-list table-view search-table-view">
                                    <li class="table-view-cell">Please search above...</li>
                                </ul>
                            </div>
                        </div>

                        <div class="ma-form-control-wrap newtask-assignto-type Dynamic">
                            <table id='newtask-assignto-type-dynamic-table' class='ma-table ma-table--fullwidth'></table>
                        </div>
                    </div>

                    <div id='newtask-details-wrapper'>
                        <h4>{!$Label.MA_Step_2_Task_Details}</h4>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_Subject}</label>
                            <div class="ma-form-control">
                                <input id='newtask-details-subject' class="ma-input taskSubject" type="text"/>
                            </div>
                        </div>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_Due_Date}</label>
                            <div class="ma-form-control icon-right">
                                <i class="ma-icon ma-icon-event inset-icon--right"></i>
                                <input id='newtask-details-duedate' class="ma-input taskDate" type="text"/>
                            </div>
                        </div>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_Comments}</label>
                            <div class="ma-form-control">
                                <textarea id='newtask-details-description' style="min-height: 66px;" class="ma-input taskDescription" type="text"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ma-modal-footer clearfix">
                <div class="float-left">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button style="font-size: 10px;" class="ma-button ma-button--white" id="newTaskClassic" onclick="newTaskClassic();">View in Salesforce</button>
                </div>
                <div class="float-right">
                    <button class="ma-button ma-button--blue step2" style="display:none;" onclick="NewTask_Step1();">{!$Label.MA_Back}</button>
                    <button class="ma-button ma-button--blue step2" style="display:none;" onclick="NewTask_Finish();">{!$Label.MA_Add_Close}</button>
                    <button class="ma-button ma-button--blue step1" onclick="NewTask_Step2();">{!$Label.MA_Next}</button>
                </div>
            </div>
        </div>
    </div>


    <!-- New Event Window -->
    <div id="NewEventPopup" class="ma-modal ma-modal--large" style='max-height: 600px;'>
        <div class="ma-modal-container" style="width:700px;">
            <div class="ma-modal-header">
                <button class="ma-button ma-modal-close" onclick="MALayers.hideModal();">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_New_Event}</h4>
            </div>

            <div class="ma-modal-content" style="padding:0;height: 400px;">
                <div class="pad-16">
                    <div id='newevent-assignto-wrapper'>
                        <h4>{!$Label.MA_Step_1_Assign_To}</h4>

                        <!-- Assignment Type -->
                        <div class='newevent-assignto-type-wrapper'>
                            <input type='radio' name='newevent-assignto-type' id='newevent-assignto-type-static' value='Static' />
                            <label for='newevent-assignto-type-static'>{!$Label.MA_Static}</label>

                            <input type='radio' name='newevent-assignto-type' id='newevent-assignto-type-dynamic' value='Dynamic' />
                            <label for='newevent-assignto-type-dynamic'>{!$Label.MA_Dynamic}</label>
                        </div>

                        <div class="ma-form-control-wrap newevent-assignto-type Static">
                            <label class="ma-input-label">{!$Label.MA_Step_1_Assign_To}<span class="required">*</span></label>
                            <div class="ma-form-control icon-right">
                                <i class="ma-icon ma-icon-search inset-icon--right"></i>
                                <input class="ma-input searchDynamicInput taskOwner" type="text"/>
                            </div>

                            <div class="ma-form-control-wrap">
                                <ul style="max-height: 220px;overflow: auto;" class="ma-list table-view search-table-view">
                                    <li class="table-view-cell">Please search above...</li>
                                </ul>
                            </div>
                        </div>

                        <div class="ma-form-control-wrap newevent-assignto-type Dynamic">
                            <table id='newevent-assignto-type-dynamic-table' class='ma-table ma-table--fullwidth'></table>
                        </div>
                    </div>

                    <div id='newevent-details-wrapper'>
                        <h4>{!$Label.MA_Step_2_Event_Details}</h4>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_Subject}</label>
                            <div class="ma-form-control">
                                <input id='newevent-details-subject' class="ma-input taskSubject" type="text"/>
                            </div>
                        </div>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_Start}</label>
                            <div class="ma-form-control icon-right">
                                <input type='text' id='newevent-details-startdate' class='datepicker ma-input-row'/>
                                <select class="ma-input-row" type='text' id='newevent-details-starthour'><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
                                <select class="ma-input-row" type='text' id='newevent-details-startminute'><option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option></select>
                                <select class="ma-input-row" type='text' id='newevent-details-startperiod'><option value='AM'>AM</option><option value='PM'>PM</option></select>
                            </div>
                        </div>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_End}</label>
                            <div class="ma-form-control icon-right">
                                <input type='text' id='newevent-details-enddate' class='datepicker ma-input-row'/>
                                <select class="ma-input-row" type='text' id='newevent-details-endhour'><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
                                <select class="ma-input-row" type='text' id='newevent-details-endminute'><option value="00">00</option><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option></select>
                                <select class="ma-input-row" type='text' id='newevent-details-endperiod'><option value='AM'>AM</option><option value='PM'>PM</option></select>
                            </div>
                        </div>
                        <div class="ma-form-control-wrap">
                            <label class="ma-input-label">{!$Label.MA_Description}</label>
                            <div class="ma-form-control">
                                <textarea id='newevent-details-description' style="min-height: 66px;" class="ma-input taskDescription" type="text"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ma-modal-footer clearfix">
                <div class="float-left">
                    <button class="ma-button ma-button--red" id="maModalClose" onclick="MALayers.hideModal('NewEventPopup',true);">Cancel</button>
                    <button style="font-size:10px;" class="ma-button ma-button--white" id="newEventClassic" onclick="newEventClassic();">View in Salesforce</button>
                </div>
                <div class="float-right">
                    <button class="ma-button ma-button--blue step2" onclick="NewEvent_Step1();">{!$Label.MA_Back}</button>
                    <button class="ma-button ma-button--blue step1" onclick="NewEvent_Step2();">{!$Label.MA_Next}</button>
                    <button class="ma-button ma-button--blue step2" onclick="NewEvent_Finish();">{!$Label.MA_Add_Close}</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add to Campaign Window -->
    <div id="AddToCampaignPopup" class="ma-modal ma-modal--large">
        <div class="ma-modal-container" style="width:700px;">
            <div class="ma-modal-header">
                <button class="ma-button ma-modal-close" onclick="MALayers.hideModal();">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MAActionFramework_Add_to_Campaign}</h4>
            </div>

            <div class="ma-modal-content" style="padding:0;height: 400px;position: relative;">
                <div class="pad-16" style="height: calc(100% - 33px);">
                    <div id='addtocampaign-select-wrapper' style="height:100%;">
                        <h4>{!$Label.MA_Step_1_Select_Campaigns}</h4>

                        <div id="addtocampaign-select-filters" style="height: calc(100% - 25px);">
                            <div class="ma-form-control-wrap">
                                <label class="ma-input-label">
                                    {!$Label.MA_Name}
                                    <span class="required">*</span>
                                    <span style="font-size: 10px;color:#3083d3;" class='link hidden showadvancedfilters'>{!$Label.MA_Show_Advanced_Filters}</span>
                                    |
                                    <span style="font-size: 10px;color:#3083d3;" class='link hidden clearfilters'>{!$Label.MA_Clear_Filters}</span>
                                </label>
                                <div class="inline" id='addtocampaign-select-selectiondetails'><span>0</span> {!$Label.MA_selected} <span style="font-size: 10px;color:#3083d3;" class='link clearselections'>{!$Label.MA_Clear_Selections}</span></div>
                                <div class="ma-form-control icon-right">
                                    <i class="ma-icon ma-icon-search inset-icon--right" style="font-size: 20px;top: 5px;"></i>
                                    <input id='addtocampaign-filter-name' class="ma-input searchDynamicInput" type="text"/>
                                </div>
                            </div>

                            <div id="addtocampaign-select-advanced-filters" class="hidden">
                                <table>
                                    <tr>
                                        <td class='label'>{!$Label.MA_Type}</td>
                                        <td class='data'><input type='text' id='addtocampaign-filter-type' class='filter-text ma-input-row' data-field='Type' /></td>
                                        <td class='label'>{!$Label.MA_Status}</td>
                                        <td class='data'><input type='text' id='addtocampaign-filter-status' class='filter-text ma-input-row' data-field='Status' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'>{!$Label.MA_Start_Date}</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-startdate-start' class='filter-calendar start ma-input-row' data-field='StartDate' /> and <input type='text' id='addtocampaign-filter-startdate-end' class='filter-calendar end ma-input-row' data-field='StartDate' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'>{!$Label.MA_End_Date}</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-enddate-start' class='filter-calendar start ma-input-row' data-field='EndDate' /> and <input type='text' id='addtocampaign-filter-enddate-end' class='filter-calendar end ma-input-row' data-field='EndDate' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'># {!$Label.MA_Lead}</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-leads-start' class='filter-number start ma-input-row' data-field='NumberOfLeads' /> and <input type='text' id='addtocampaign-filter-leads-end' class='filter-number end ma-input-row' data-field='NumberOfLeads' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'># {!$Label.MA_Contact}</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-contacts-start' class='filter-number start ma-input-row' data-field='NumberOfContacts' /> and <input type='text' id='addtocampaign-filter-contacts-end' class='filter-number end ma-input-row' data-field='NumberOfContacts' /></td>
                                    </tr>
                                    <tr>
                                        <td class='label'># {!$Label.MA_Responses}</td>
                                        <td class='data' colspan='3'>between <input type='text' id='addtocampaign-filter-responses-start' class='filter-number start ma-input-row' data-field='NumberOfResponses' /> and <input type='text' id='addtocampaign-filter-responses-end' class='filter-number end ma-input-row' data-field='NumberOfResponses' /></td>
                                    </tr>
                                </table>
                            </div>

                            <div class="ma-form-control-wrap" style="overflow: auto; height: calc(100% - 70px);">
                                <table id='addtocampaign-select-grid' class="ma-table">
                                    <thead class="ma-table-header">
                                        <tr>
                                            <th style='width: 20px;'></th>
                                            <th>{!$Label.MA_Name}</th>
                                            <th>{!$Label.MA_Type}</th>
                                            <th>{!$Label.MA_Status}</th>
                                            <th>{!$Label.MA_Start_Date}</th>
                                            <th>{!$Label.MA_End_Date}</th>
                                            <th># {!$Label.MA_Lead}</th>
                                            <th># {!$Label.MA_Contact}</th>
                                            <th># {!$Label.MA_Responses}</th>
                                        </tr>
                                    </thead>
                                    <tbody class="tableResults">
                                        <tr><td colspan="9">Please Search Above...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                    <div id='addtocampaign-options-wrapper'>
                        <h4>{!$Label.MA_Step_2_Options}</h4>


                        <div id='addtocampaign-options-grid-wrapper' class='loadmask-wrapper'>
                            <table id='addtocampaign-options-grid' class='ma-table ma-table--fullwidth'>
                                <thead class="ma-table-header">
                                    <tr>
                                        <th>{!$Label.MA_Name}</th>
                                        <th>{!$Label.MA_Member_Status}</th>
                                        <th>{!$Label.MA_Override_Status}</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>

                    </div>
                </div>
            </div>

            <div class="ma-modal-footer clearfix">
                <div class="float-left">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal('AddToCampaignPopup',true);">{!$Label.MA_Cancel}</button>
                </div>
                <div class="float-right">
                    <button class="ma-button ma-button--white step2" onclick="AddToCampaign_Step1();">{!$Label.MA_Back}</button>
                    <button class="ma-button ma-button--blue step1" onclick="AddToCampaign_Step2();">{!$Label.MA_Next}</button>
                    <button class="ma-button ma-button--blue step2" onclick="AddToCampaign_Finish();">{!$Label.MA_Add_Close}</button>
                </div>
            </div>
        </div>
    </div>




    <div id="ClearCoordinatesPopup" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_Clear_Coordinates}</h4>
            </div>
            <div class="ma-modal-content pad-8-16">
                <p>{!$Label.MA_Clear_Coord_Info}</p>
                <label class="ma-checkbox">
                    <input id="includeVerifiedCoords" name="checkbox" type="checkbox"/>
                    <span class="ma-checkbox-faux"></span>
                    <span class="ma-checkbox-label"><h4>Include verified coordinates?</h4></span>
                </label>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--blue" onclick="ClearCoordinatesForVisible();">{!$Label.MA_Yes}</button>
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="UpdateFieldPopup_old" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MAActionFramework_Update_Field}</h4>
            </div>
            <div class="ma-modal-content pad-8-16">
                <div class="pad-8-16">
                    <div class="ma-form-control-wrap updatefield-query-wrapper">
                        <label class="ma-input-label">{!$Label.MA_Query}</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="updatefield-query select2-input ma-input" onchange="UpdateField_QueryChanged();"><option value="" disabled="disabled" selected="">{!$Label.MA_Loading}...</option></select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap updatefield-field-wrapper" style="display:none;">
                        <label class="ma-input-label">{!$Label.MA_Field}</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="updatefield-field select2-input ma-input" onchange="UpdateField_FieldChanged();"><option value="" disabled="disabled" selected="">--Select--</option></select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap updatefield-value-wrapper" style="display:none;">
                        <label class="ma-input-label">{!$Label.MA_Value}</label>
                        <div class="updatefield-value"></div>
                    </div>
                    <div class="ma-form-control-wrap autoRefreshWrapper">
                        <label class="ma-checkbox">
                            <input name="checkbox" class="autoRefreshQuery" type="checkbox"/>
                            <span class="ma-checkbox-faux"></span>
                            <span style="width: 240px;" class="ma-checkbox-label">Automatically refresh this query after completion?</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--blue" onclick="UpdateField_Finish();">{!$Label.MA_Save_Close}</button>
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="createDataLayerRecordV2" class="ma-modal ma-modal--large slds-modal-fullscreen-phone">

        <div class="ma-modal-container" style="position:relative;">
            <div class="c2cLoadingWrapper" style="display:none;height: 100%;width: calc(100% - 64px);background: rgba(255, 255, 255, 0.56);position: absolute;top: 0;z-index: 10;"></div>
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Click2Create&trade;</h4>
            </div>
            <div class="ma-modal-content">
                <div class='createrecordDataLayer2-step1 createrecord-step'>
                    <div class="ma-form-control-wrap updatefield-query-wrapper">
                        <label class="ma-input-label">What would you like to create?</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="createrecordDataLayer2-object select2-input ma-input" onchange="c2c.CreateRecord_Object_Change();"><option value="" disabled="disabled" selected="">{!$Label.MA_Loading}...</option></select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap updatefield-field-wrapper">
                        <label class="ma-input-label">Select a record type:</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="createrecordDataLayer2-recordtype select2-input ma-input"><option value="" disabled="disabled" selected="">--Select--</option></select>
                        </div>
                    </div>
                </div>
                <div class='createrecordDataLayer2-step2 createrecord-step' style="display:none;">
                    <div>
                        <label>Fill in the fields below</label>
                        <div class="overflow">
                            <div class='createrecordDataLayer-fieldset'></div>
                        </div>
                        <ul class='createrecordDataLayer2-fieldset-errors'></ul>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right slds-scope">
                    <button class="slds-button slds-button_neutral" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button class="slds-button slds-button_brand step1" onclick="MAData.createRecordFromDataLayer.create_step_2_V2();">Continue</button>
                    <button class="slds-button slds-button_brand step2 savec2c hidden" onclick="MAData.createRecordFromDataLayer.saveDataLayerRecordV2();">{!$Label.MA_Finish}</button>
                </div>
            </div>
        </div>


    </div>

    <div id="CreateRecordPopupV2" class="ma-modal ma-modal--large slds-modal-fullscreen-phone">

        <div class="ma-modal-container" style="position:relative;">
            <div class="c2cLoadingWrapper" style="display:none;height: 100%;width: calc(100% - 64px);background: rgba(255, 255, 255, 0.56);position: absolute;top: 0;z-index: 10;"></div>
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Click2Create&trade;</h4>
            </div>
            <div class="ma-modal-content">
                <div class='createrecord2-step1 createrecord-step'>
                    <div class="ma-form-control-wrap updatefield-query-wrapper">
                        <label class="ma-input-label">What would you like to create?</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="createrecord2-object select2-input ma-input" onchange="c2c.CreateRecord_Object_Change();"><option value="" disabled="disabled" selected="">{!$Label.MA_Loading}...</option></select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap updatefield-field-wrapper">
                        <label class="ma-input-label">Select a record type:</label>
                        <div class="ma-form-control icon-right">
                            <div class="ma-icon ma-icon-down icon-right"></div>
                            <select class="createrecord2-recordtype select2-input ma-input"><option value="" disabled="disabled" selected="">--Select--</option></select>
                        </div>
                    </div>
                </div>
                <div class='createrecord2-step2 createrecord-step' style="display:none;">
                    <div>
                        <label>Fill in the fields below</label>
                        <div class="overflow">
                            <div class='createrecord-fieldset'></div>
                        </div>
                        <ul class='createrecord2-fieldset-errors'></ul>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right slds-scope">
                    <button class="slds-button slds-button_neutral" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button class="slds-button slds-button_brand step1" onclick="c2c.CreateRecord_Step1_Continue();">Continue</button>
                    <button class="slds-button slds-button_brand step2 hidden" onclick="c2c.CreateRecord_Step2_Continue();">{!$Label.MA_Finish}</button>
                </div>
            </div>
        </div>


    </div>

    <div id="routeTimeModal" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Waypoint Info</h4>
            </div>
            <div class="ma-modal-content pad-8-16">
                <div class="ma-form-control-wrap updatefield-field-wrapper">
                    <label class="ma-input-label">Start Time</label>
                    <div class="ma-form-control icon-right">
                        <div class="ma-icon ma-icon-down icon-right"></div>
                        <select class="startTime ma-input"><option value="" disabled="disabled" selected="">--Select--</option></select>
                    </div>
                </div>
                <div class="ma-form-control-wrap updatefield-field-wrapper">
                    <label class="ma-input-label">{!$Label.MA_Duration}</label>
                    <div class="ma-form-control icon-right">
                        <div class="ma-icon ma-icon-down icon-right"></div>
                        <select class="endTime ma-input"><option value="" disabled="disabled" selected="">--Select--</option></select>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--blue" id="maModalClose" onclick="MARoutes.mobile.updateTime();">{!$Label.MA_Save}</button>
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>

    </div>

    <div id="markerTabsModal" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">MapAnything&trade;</h4>
            </div>
            <div class="ma-modal-content pad-8-16">
                <div class="ma-list ma-list-border">
                    <div class="ma-list-header">
                      <div class="ma-list-item-name">{!$Label.MA_WHAT_INFORMATION_WOULD_YOU_LIKE_TO_VIEW}</div>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>

    </div>

    <div id="MapTypeSelection" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_Map_Types}</h4>
            </div>
            <div class="ma-modal-content pad-8-16 mobileOverFlow">
                <div class='ma-list MapViewTable MapViewTableMobile ma-list-border'>
                    <div class="ma-list-item Active has-icon-left MapViewTitle" data-basemaptype="roadmap" onclick="MA.Map.updateMapType('roadmap'); MALayers.hideModal();">
                        <div class="ma-list-icon-left">
                            <div class="ma-list-icon-md">
                                <img style="width: 60px;" src="{!URLFOR($Resource.MapAnything, '/images/MapView/roadmap.png')}" alt=""/>
                            </div>
                        </div>
                        <div>
                            <div class="ma-list-item-name">{!$Label.MA_ROADMAP}</div>
                        </div>
                    </div>
                    <div class="ma-list-item has-icon-left MapViewTitle" data-basemaptype="satellite" onclick="MA.Map.updateMapType('satellite'); MALayers.hideModal();">
                        <div class="ma-list-icon-left">
                            <div class="ma-list-icon-md">
                                <img style="width: 60px;" src="{!URLFOR($Resource.MapAnything, '/images/MapView/Satellite.png')}" alt=""/>
                            </div>
                        </div>
                        <div>
                            <div class="ma-list-item-name">{!$Label.MA_Satellite}</div>
                        </div>
                    </div>
                    <div class="ma-list-item has-icon-left MapViewTitle" data-basemaptype="hybrid" onclick="MA.Map.updateMapType('hybrid'); MALayers.hideModal();">
                        <div class="ma-list-icon-left">
                            <div class="ma-list-icon-md">
                                <img style="width: 60px;" src="{!URLFOR($Resource.MapAnything, '/images/MapView/hybrid.png')}" alt=""/>
                            </div>
                        </div>
                        <div>
                            <div class="ma-list-item-name">{!$Label.MA_HYBRID}</div>
                        </div>
                    </div>
                    <div class="ma-list-item has-icon-left MapViewTitle" data-basemaptype="terrain" onclick="MA.Map.updateMapType('terrain'); MALayers.hideModal();">
                        <div class="ma-list-icon-left">
                            <div class="ma-list-icon-md">
                                <img style="width: 60px;" src="{!URLFOR($Resource.MapAnything, '/images/MapView/terrain.png')}" alt=""/>
                            </div>
                        </div>
                        <div>
                            <div class="ma-list-item-name">{!$Label.MA_TERRAIN}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Close}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="saveRoutePopup" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">{!$Label.MA_Save_Route}</h4>
            </div>
            <div class="ma-modal-content pad-8-16">
                <div class="ma-form-control-wrap">
                    <label class="ma-input-label">{!$Label.MA_Name}</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <input class="ma-input" type="text" placeholder="{!$Label.MA_Name}..." id="saveRouteName"/>
                    </div>
                </div>
                <div class="ma-form-control-wrap">
                    <label class="ma-input-label">{!$Label.MA_Date}</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <input class="ma-datepicker ma-input" type="text" placeholder="{!$Label.MA_Date}" readonly="" id="saveRouteDate"/>
                        <i class="ma-icon ma-icon-event inset-icon--right"></i>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button class="ma-button ma-button--blue" id="maModalClose" onclick="saveRoute('update');">{!$Label.MA_Save}</button>
                    <button class="ma-button ma-button--blue" id="maModalClose" onclick="saveRoute('insert');">{!$Label.MA_SaveAs}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="slds-scope">
     <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-describedby="modal-content-id-1" class="slds-modal slds-modal_large slds-modal-fullscreen-phone" id="CustomDispositionPopup">
       <div id='customDis-loadmask'></div>
       <div class="slds-modal__container">
         <header class="slds-modal__header">
           <button onclick="MALayers.hideModal('CustomDispositionPopup');" class="slds-button slds-modal__close slds-button--icon-inverse js-close-this-slds-modal" title="Close">
               <span class="slds-button__icon slds-button__icon--large ma-icon ma-icon-close"></span>
           </button>
           <h2 id="header43" class="slds-text-heading--medium">Custom Disposition</h2>
         </header>
         <div class="slds-modal__content slds-p-around_medium">
           <div class="disposition-row">
               <div class="disposition-instruction label">
                   <div class="disposition-instruction-subtext">
                       Please complete the fields below.
                       <span style="font-weight:bold;color:#c23934;">*</span> = Required
                   </div>
               </div>
           </div>
           <ul id='customDis-fieldset-errors'></ul>
           <div class="overflow customDisWrapper" style="position:relative;">
               <div id='customDis-fieldset'></div>
           </div>
         </div>
         <footer class="slds-modal__footer">
           <div class="float-right footer-buttons customDis-buttons">
               <button class="slds-button slds-button_neutral customDis-cancel" onclick="cancelDisposition(); MALayers.hideModal();">{!$Label.MA_Cancel}</button>
               <button class="slds-button slds-button_brand saveDisposition">{!$Label.MA_Finish}</button>
           </div>
         </footer>
       </div>
     </section>
   </div>

     <!--Custom Dis Popup -->
    <!--<div id="CustomDispositionPopup" class="ma-modal ma-modal--large">-->
         <!--Loadmask -->
    <!--    <div id='customDis-loadmask'></div>-->

    <!--    <div class="ma-modal-container">-->
    <!--        <div class="ma-modal-header">-->
    <!--            <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">-->
    <!--                <div class="ma-icon ma-icon-close"></div>-->
    <!--            </button>-->
    <!--            <h4 class="ma-modal-title">Custom Disposition</h4>-->
    <!--        </div>-->
    <!--        <div class="ma-modal-content pad-16">-->
    <!--            <div>-->
    <!--                <div>-->
    <!--                    <div class="disposition-row">-->
    <!--                        <div class="disposition-instruction label">-->
    <!--                            <div class="disposition-instruction-subtext">-->
    <!--                                Please complete the fields below.-->
    <!--                                <span style="font-weight:bold;color:#c23934;">*</span> = Required-->
    <!--                            </div>-->
    <!--                        </div>-->
    <!--                    </div>-->
    <!--                    <ul id='customDis-fieldset-errors'></ul>-->
    <!--                    <div class="overflow customDisWrapper" style="position:relative;">-->
    <!--                        <div id='customDis-fieldset'></div>-->
    <!--                    </div>-->
    <!--                </div>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--        <div class="ma-modal-footer clearfix">-->
    <!--            <div class="float-right customDis-buttons">-->
    <!--                <button class="ma-button ma-button--white customDis-cancel" onclick="cancelDisposition(); MALayers.hideModal();">{!$Label.MA_Cancel}</button>-->
    <!--                <button class="ma-button ma-button--blue saveDisposition">{!$Label.MA_Finish}</button>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>    -->
    <!--</div>-->

    <div id="changeRouteInfo" class="ma-modal ma-modal--small">
        <div class="ma-modal-container">
            <div class="ma-modal-header">
                <button onclick="MALayers.hideModal();" class="ma-button ma-modal-close">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <h4 class="ma-modal-title">Update Route Info</h4>
            </div>
            <div class="ma-modal-content pad-8-16">
                <div class="ma-form-control-wrap">
                    <label class="ma-input-label">{!$Label.MA_Name}</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <input class="ma-input" type="text" placeholder="{!$Label.MA_Name}..." id="updateRouteName"/>
                    </div>
                </div>
                <div class="ma-form-control-wrap">
                    <label class="ma-input-label">{!$Label.MA_Date}</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <input class="ma-datepicker ma-input" type="text" placeholder="{!$Label.MA_Date}..." readonly="" id="updateRouteDate"/>
                        <i class="ma-icon ma-icon-event inset-icon--right"></i>
                    </div>
                </div>
                <div class="ma-form-control-wrap">
                    <label class="ma-checkbox">
                        <input id="updateRouteTimeBased" onchange="MARoutes.mobile.updateTimeBased(this);" name="checkbox" type="checkbox"/>
                        <span class="ma-checkbox-faux"></span>
                        <span class="ma-checkbox-label">Time Based Routing Enabled</span>
                    </label>
                </div>
                <div class="ma-form-control-wrap timeOption">
                    <label class="ma-input-label">Start Time</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <select id="updateRouteStartTime" class="ma-input"><option value="" disabled="disabled" selected="">--Select--</option></select>
                    </div>
                </div>
                <div class="ma-form-control-wrap timeOption">
                    <label class="ma-input-label">End Time</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <select id="updateRouteEndTime" class="ma-input"><option value="" disabled="disabled" selected="">--Select--</option></select>
                    </div>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--white" id="maModalClose" onclick="MALayers.hideModal();">{!$Label.MA_Cancel}</button>
                    <button class="ma-button ma-button--blue" id="maModalClose" onclick="MARoutes.mobile.updateRouteInfo();">{!$Label.MA_Done}</button>
                </div>
            </div>
        </div>
    </div>

    <div id="dynamicSearchModal" style="z-index:9003;" class="ma-modal ma-modal--large">
        <div class="ma-modal-container" style="padding: 8px; margin:0px; height: 100%; max-width: 100%;">
            <div class="ma-modal-header">
                <button class="ma-button hideDynamicModal" style="position: absolute;top: 12px;right: 6px;width: 3rem;height: 3rem;">
                    <div class="ma-icon ma-icon-close"></div>
                </button>
                <div class="ma-form-control has-inset-icon--right" style="width: calc(100% - 40px);">
                    <input class="ma-input searchDynamicInput" type="text" placeholder="{!$Label.MA_Search}..." id="searchDynamicInput" />
                </div>
            </div>
            <div class="ma-modal-content pad-8-16" style="height: calc(100% - 134px); max-height: 100%;">
                <div class="search-empty-state">
                    <div class="text-center">
                        <span class="ma-icon ma-icon-info ma-icon--large"></span>
                    </div>
                    <div>
                        <p class="text-center">Search above for avaiable options</p>
                    </div>
                </div>
                <div class="search-results-wrapper hidden table-view-wrap">
                    <ul class="table-view search-table-view">

                    </ul>
                </div>
            </div>
            <div class="ma-modal-footer clearfix">
                <div class="float-right">
                    <button class="ma-button ma-button--red clearOriginInput hideDynamicModal">{!$Label.MA_Clear}</button>
                    <button class="ma-button ma-button--blue hideDynamicModal">{!$Label.MA_Cancel}</button>
                </div>
            </div>
        </div>
    </div>

</div><!--ma-master-wrap-->

<div id="templates" style="display:none;">

    <button id="closeStreetView" class="ma-button ma-button--red">Close Street View</button>

    <!--listview fixes -->
    <div id="ListViewTabContents"></div>
    <!-- Routes Stuff -->

    <div class="route-list-row waypoint-row">
        <div class="time-label">
            <div class="time-label-text">
                <span class="ma-icon ma-icon-lock"></span>
                12:30-1 PM
            </div>
        </div>
        <div class="desktopClassDuplicate" style="display:none;">
            <input class="timeoptions-waypointstart"/>
            <select class="timeoptions-waypointduration"></select>
        </div>
        <div class="time-block time-block-nests">

            <div class="time-block-counter" onclick="MARoutes.mobile.showSortRows(this);">
                4
            </div>
            <div class="time-block-inner" onclick="MARoutes.mobile.waypointRowClick(this); return false;">
                <div class="time-block-unit time-passed">
                    <div class="time-block-unit-flex">
                        <div class="time-block-text">
                            <div class="time-block-title name">Wells Fargo</div>
                            <div class="time-block-address address">2910 South Blvd, Charlotte</div>
                        </div>
                        <div class="time-block-navarrow">
                            <i class="ma-icon ma-icon-chevronright"></i>
                        </div>
                    </div>
                </div>

            </div>
            <div class="time-block-remove">
                <span class="ma-icon ma-icon-remove"></span>
            </div>
        </div>
    </div>

    <!-- SVG Marker - Waypoint -->
    <svg class='svg-marker-waypoint' width="28" height="42" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
        <g>
            <title></title>
            <path stroke="#1d649b" d="m6.300003,37.5c-4.300003,-3.399994 -5.900002,-8.5 -4.300003,-13.699997c1.700005,-5.800003 11.100006,-23.100006 12,-22.100006c1.400009,1.5 10.800003,20.800003 11.5,23.5c1,3.800003 -1.099991,9.300003 -4.599991,12.300003c-4.100006,3.400009 -10.200012,3.400009 -14.600006,0z" fill="#4597d0" transform="rotate(180 13.5708 20.8542)"/>
            <text fill="#ffffff" stroke="#1d649b" stroke-width="0.2" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" x="13" y="19" id="svg_1" font-size="16" font-family="Monospace" text-anchor="middle" xml:space="preserve" font-weight="normal">__TEXT__</text>
        </g>
    </svg>


    <div class="UpdateFieldPopup slds-scope">
            <div class="field-selection">
                <div class="slds-form-element select2-form-element select2-form-element updatefield-query-wrapper">
                  <label class="slds-form-element__label" for="select-query">{!$Label.MA_Query}</label>
                  <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
                    <span class="slds-input__icon slds-icon-text-default ma-icon ma-icon-down" aria-hidden="true"></span>
                    <div class="slds-select_container">
                      <select class="slds-select updatefield-query select2-fluid select2-input select2-input-hide-search" onchange='UpdateField_QueryChanged();' id="select-query"></select>
                    </div>
                  </div>
                </div>

                <div class="slds-form-element select2-form-element select2-form-element updatefield-field-wrapper" style="display:none;">
                  <label class="slds-form-element__label" for="select-field">{!$Label.MA_Field}</label>
                  <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
                    <span class="slds-input__icon slds-icon-text-default ma-icon ma-icon-down" aria-hidden="true"></span>
                    <div class="slds-select_container">
                      <select class="slds-select updatefield-field select2-fluid select2-input select2-input-hide-search" id="select-field" onchange='UpdateField_FieldChanged();'></select>
                    </div>
                  </div>
                </div>

                <div class="slds-form-element updatefield-value-wrapper" style="display:none;">
                  <label class="slds-form-element__label">{!$Label.MA_Value}</label>
                  <div class="slds-form-element__control updatefield-value">

                  </div>
                </div>

                <div class="slds-form-element autoRefreshWrapper" style="display:none;">
                    <label class="slds-form-element__label">Automatically refresh this query after completion?</label>
                    <input type="checkbox" class="autoRefreshQuery"/>
                </div>
            </div>
        </div>

    <!-- End Routes -->

    <!-- Data Layer Popup V2 -->
    <div class="CreateRecordDataLayerPopup2">

        <!-- Step 1 -->
        <div class='createrecordDataLayer2-step1 createrecord-step'>
            <h3>Step 1</h3>

            <div class="overflow">
                <div class="ma-form-control-wrap">
                    <label class="ma-input-label">What would you like to create?</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <i class="ma-icon ma-icon-down inset-icon--right"></i>
                        <select class="ma-input createrecordDataLayer2-object" onchange="MAData.createRecordFromDataLayer.object_Change_V2();"></select>
                    </div>
                </div>
                <div class="ma-form-control-wrap">
                    <label class="ma-input-label">Select a record type:</label>
                    <div class="ma-form-control has-inset-icon--right">
                        <i class="ma-icon ma-icon-down inset-icon--right"></i>
                        <select class="ma-input createrecordDataLayer2-recordtype"></select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2 -->
        <div class='createrecordDataLayer2-step2 createrecordDataLayer-step' style="display:none;">
            <h3>Step 2</h3>

            <div>
                <label>Fill in the fields below</label>
                <div class="overflow">
                    <div class='createrecordDataLayer-fieldset'></div>
                </div>
                <ul class='createrecordDataLayer2-fieldset-errors'></ul>
            </div>
        </div>

    </div>

    <!-- Click 2 Create Popup V2-->
    <div class="CreateRecordPopup">

        <!-- Step 1 -->
        <div class='createrecord2-step1 createrecord-step'>
            <h3>Step 1</h3>

            <div class="overflow" style="max-height:400px; overflow: scroll;">
                <div class='createrecord-formitem'>
                    <label>What would you like to create?</label>
                    <select class="createrecord2-object" onchange="c2c.CreateRecord_Object_Change();"></select>
                </div>
                <div class='createrecord-formitem'>
                    <label>Select a record type:</label>
                    <select class='createrecord2-recordtype'></select>
                </div>
            </div>
        </div>

        <!-- Step 2 -->
        <div class='createrecord2-step2 createrecord-step' style="display:none;">
            <h3>Step 2</h3>

            <div>
                <label>Fill in the fields below</label>
                <div class="overflow" style="max-height:400px; overflow: scroll;">
                    <div class='createrecord-fieldset'></div>
                </div>
                <ul class='createrecord2-fieldset-errors'></ul>
            </div>
        </div>

    </div>

    <table>
        <tr class='permissions-row'>
            <td class="permission-type" style="text-align:left;"></td>
            <td class="permission-for" style="text-align:left"></td>
            <td class="permission-read"><input type="checkbox" class="autosave" data-field="Read__c" /></td>
            <td class="permission-create"><input type="checkbox" class="autosave" data-field="Create__c" /></td>
            <td class="permission-modify"><input type="checkbox" class="autosave" data-field="Modify__c" /></td>
            <td class="permission-delete"><input type="checkbox" class="autosave" data-field="Delete__c" /></td>
            <td class="permission-setperm"><input type="checkbox" class="autosave" data-field="SetPermissions__c" /></td>
            <td class="permission-delete"><a href="#">{!$Label.MA_Delete}</a></td>
        </tr>
        <tr class='campaign-row'>
            <td>
                <input class="campaign-checkbox" name="checkbox" type="checkbox"/>
            </td>
            <td class='campaign-name'></td>
            <td class='campaign-type'></td>
            <td class='campaign-status'></td>
            <td class='campaign-startdate'></td>
            <td class='campaign-enddate'></td>
            <td class='campaign-leads'></td>
            <td class='campaign-contacts'></td>
            <td class='campaign-responses'></td>
        </tr>
        <tr class='campaign-options-row'>
            <td class='campaign-name'></td>
            <td class='campaign-status'>
                <div class="ma-form-control icon-right">
                    <i class="ma-icon ma-icon-down inset-icon--right"></i>
                    <select class="ma-input"></select>
                </div>
            </td>
            <td class='campaign-override'>
                <label class="ma-checkbox">
                    <input name="checkbox" type="checkbox"/>
                    <span class="ma-checkbox-faux"></span>
                </label>
            </td>
        </tr>
        <tr class='changeowner-row'>
            <td class='user-name'></td>
        </tr>
    </table>

    <div class="maFolderTemplate">
        <div class="ma-folder-item qidLocation" id="::ID::" data-id="::DATA_ID::" nodetype="::NODETYPE::" type="::TYPE::" perm-create="::PERM-CREATE::" perm-delete="::PERM-DELETE::" perm-export="::PERM-EXPORT::" perm-modify="::PERM-MODIFY::" perm-read="::PERM-READ::" perm-setpermissions="::PERM-SETPERM::">
            <div class="layer-nest-click-area ma-nest-down" action="::DEFAULTACTION::" onclick="MALayers.layerActionsClickHandler(this);">
                <div class="layer-nest-click-area-inner">
                    <div class="layer-type-icon">
                        <div class="ma-icon ma-icon-folder"></div>
                    </div>
                    <div class="ma-item-name">::NAME::</div>
                    <div class="layer-action-icon">
                        <div class="ma-icon ma-icon-chevronright"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="MAFolderTemplate">
        <div class="ma-folder-item qidLocation" id="::ID::" data-id="::DATA_ID::" nodetype="::NODETYPE::" type="::TYPE::" perm-create="::PERM-CREATE::" perm-delete="::PERM-DELETE::" perm-export="::PERM-EXPORT::" perm-modify="::PERM-MODIFY::" perm-read="::PERM-READ::" perm-setpermissions="::PERM-SETPERM::">
            <div class="layer-toggle">
                <input onchange="MAPlotting.mobile.toggleLayer(this);" class="ma-toggle" id="cb::CheckBoxUID::" type="checkbox"/>
                <label class="ma-toggle-label" for="cb::CheckBoxUID::"></label>
            </div>
            <div class="layer-nest-click-area" action="::DEFAULTACTION::" onclick="MALayers.layerActionsClickHandler(this);">
                <div class="layer-nest-click-area-inner">
                    <div class="layer-type-icon ftu-icon-left">
                        <div class="ma-icon ma-icon-" type="::TYPE::"></div>
                    </div>
                    <div class="ma-item-name">
                        <div class="ma-item-name-title">::NAME::</div>
                        <div class="ma-item-name-subtitle">::TOOLTIP-BASEOBJ::</div>
                    </div>
                    <div class="layer-action-icon">
                        <div class="ma-icon ma-icon-chevronright"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="toastTemplate" class="ma-toast">
        <div class="ma-toast-inner">
            <img style="display:none;" class="toast-spinner" src="images/spinners/slds_spinner_inverse.gif" />
            <div class="ma-toast-inner-text"></div>
        </div>
    </div>


    <div id="activeLayer" class="ma-folder-content-wrap" style="display:none;">
        <div class="ma-list">
            <div class="ma-folder-item">
                <div class="ma-item-left">
                    <div class="ma-icon ma-icon-checkin"></div>
                </div>
                <div class="ma-item-name">Accounts by YTD Sales</div>
                <div class="ma-item-right layer-toggle">
                    <input class="ma-toggle" id="cb19" type="checkbox" checked="checked" />
                    <label class="ma-toggle-label" for="cb19"></label>
                </div>
            </div>
        </div>
    </div>


    <div class="view-panel-flex-column layersIndividual qidLocation template">
        <div class="ma-top-bar tooltip-top-bar" id="layersIndividualTopBar">
          <div class="ma-top-bar-row">
             <div>
                <a class="ma-icon ma-icon-back ma-top-bar-button ma-top-bar-button--fullsize nest-to-layer-index" onclick="MALayers.moveToTab('allLayers');"></a>
             </div>
             <div class="ma-top-bar-title--left layerName">
                ::LayerName::
                <div class="ma-top-bar-subtext layerType">
                   ::LayerType::
                </div>
             </div>
             <div class="plottedMoreOptions">
                <a class="ma-icon ma-icon-threedots-vertical ma-top-bar-button-fixed-right ma-top-bar-button ma-top-bar-button--fullsize action-bar-button open-marker-action-sheet open-action-sheet" action-sheet="queryPlottingActionSheet"></a>
            </div>
          </div>
          <div class="action-bar-wrap">
             <div class="action-bar-toggle">
                <input onchange="MAPlotting.mobile.toggleLayer(this);" data-type="::LayerDataType::" class="ma-toggle plotLayer" id="r90" type="checkbox"/>
                <label class="ma-toggle-label" for="r90"></label>
                <span class="action-bar-toggle-label">
                {!$Label.MA_PLOT_ON_MAP}
                </span>
             </div>
             <div class="action-bar-right plotOnLoadWrapper">
                <div class="action-bar-toggle">
                   <input class="ma-toggle plotOnLoadToggle" onchange="MALayers.updatePlotOnLoad(this);" id="r903" type="checkbox"/>
                   <label class="ma-toggle-label plotOnLoadLabel" for="r903"></label>
                   <span class="action-bar-toggle-label">
                   {!$Label.MA_PLOT_ON_APP_STARTUP}
                   </span>
                </div>
             </div>
          </div>
        </div>
        <div class="ma-view-body" id="layersIndividualBody">
          <div class="layers-individual-filter-wrap">
             <div style="display:none;" class="ma-section-title">
                Filtering
             </div>
             <div style="display:none;" class="pad-8-16-22 background--white">
                <label class="ma-input-label text--dark-blue">Clean City</label>
                <div class="ma-form-control icon-right icon-left">
                   <span class="ma-icon icon-left ma-icon-search"></span>
                   <input class="ma-input" placeholder="Enter a value" type="text"/>
                   <span class="ma-icon icon-right ma-icon-remove"></span>
                </div>
             </div>
             <div class="ma-section-title ma-section-title" style="padding: 18px 16px 16px;">
                <span>{!$Label.MA_MARKER_LEGEND}</span>
                <span onclick="MAPlotting.mobile.toggleLegend(this);" class="legend-moreless-text" style="position: absolute;right: 0px;top: 2px;height: 45px;line-height: 45px;padding: 0 15px;">
                    <span class="moreless-text">{!$Label.MA_Show_All}</span>
                </span>
             </div>
             <div class="pad-16-16-8 background--white">
                <p class="margin-0 text--dark-blue legendField"><strong>{!$Label.MA_Field}:</strong> ::FieldLabel::</p>
             </div>
             <div class="legend-wrap background--white">
                <div class="legend-item ma-form-control-wrap ma-checkbox-wrap flex-horizontal">
                   <div class="flex-grow-1">
                      <label class="ma-checkbox">
                      <span class="ma-checkbox-label">{!$Label.MA_Loading}...</span>
                      </label>
                   </div>
                </div>
             </div>
          </div>
        </div>
    </div>

    <div class="routeItem template">
        <div class="ma-route-item" id="::routeId::">
            <div class="ma-item-left plot-route-wrapper route-toggle">
                <input class="ma-toggle listToggle" id="cb::checkBoxUID::" type="checkbox" onchange="MARoutes.mobile.toggleRoute(this); return false;"/>
                <label class="ma-toggle-label" for="cb::checkBoxUID::"></label>
            </div>
            <div class="ma-item-left remove-route-wrapper route-toggle" onclick="MARoutes.mobile.removeRoute(this);">
                <div class="ma-icon ma-icon-remove" style="height: 20px;font-size: 24px;color: #d4504c;"></div>
            </div>
            <div class="ma-route-item-nest-trigger" onclick="MARoutes.mobile.toggleRouteList(this); return false;">
                <div class="ma-route-item-nest-trigger-inner">
                    <div class="ma-item-left route-day">
                        <div class="ma-icon ma-icon-dayview"></div>
                        <div class="route-day-number">::Day::</div>
                    </div>
                    <div class="ma-item-name">
                        ::RouteName::
                        <div class="ma-list-item-subtext">::SubText::</div>
                    </div>
                    <div class="ma-route-item-icon">
                        <div class="ma-icon ma-icon-chevronright"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="boundarySingleView">
        <div class="options-wrapper pad-16">
            <div class="select-info">
                <label class="ma-input-label">{!$Label.MA_Type}</label>
                <div class="ma-form-control has-inset-icon--right">
                    <i class="ma-icon ma-icon-down inset-icon--right"></i>
                    <select class="ma-input proximitytype">
                        <option value='Circle'>{!$Label.MA_Circle}</option>
                        <option style="display:none;" value='Polygon'>{!$Label.MA_Polygon}</option>
                        <option value='KML'>KML</option>
                        <option value='travelTime'>{!$Label.MA_TRAVEL_TIME}</option>
                        <option value='travelDistance'>{!$Label.MA_TRAVEL_DISTANCE}</option>
                    </select>
                </div>
            </div>
            <div class="prox-option-select">
                <div class='options-circle prox-option prox-option'>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MASettings_Radius}</label>
                        <input class="numberVal ma-input options-circle-radius prox-style" type="text" placeholder="0"/>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_UNITS}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class="ma-input options-circle-unit">
                                <option value="MILES">{!$Label.MARoutes_Miles}</option>
                                <option value="KM">{!$Label.MARoutes_Kilometers}</option>
                                <option value="METERS">{!$Label.MA_Meters}</option>
                                <option value="YARDS">{!$Label.MA_Yards}</option>
                                <option value="FEET">{!$Label.MA_Feet}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="display:none;" id="proximity-travel-distance" class="prox-option">
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MASettings_Radius}</label>
                        <input class="numberVal ma-input travel-distance-radius prox-style" type="text" placeholder="0"/>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">{!$Label.MA_UNITS}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class="ma-input distance-unit-dropdown">
                                <option value="MILES">{!$Label.MARoutes_Miles}</option>
                                <option value="KM">{!$Label.MARoutes_Kilometers}</option>
                                <option value="METERS">{!$Label.MA_Meters}</option>
                                <option value="YARDS">{!$Label.MA_Yards}</option>
                                <option value="FEET">{!$Label.MA_Feet}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div style="display:none;" id="proximity-travel-time" class="prox-option">
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Hour(s)</label>
                        <input class="numberVal ma-input radius-hours prox-style" type="text" placeholder="0"/>
                    </div>
                    <div class="ma-form-control-wrap">
                        <label class="ma-input-label">Minute(s)</label>
                        <input class="numberVal ma-input radius-minutes prox-style" type="text" placeholder="0"/>
                    </div>
                </div>
                <div style="display:none;" class='options-kml'>

                </div>
                <div id="boundary-address" class="ma-form-control-wrap">
                    <label class="ma-input-label">{!$Label.MA_Address}</label>
                    <textarea class="ma-input address-input" type="text" placeholder="Address..."></textarea>
                </div>
            </div>
        </div>
    </div>

    <div class="legend-section-item template">
        <div data-sectionid="::sectionID::" class="legend-item empty legend-row-header ma-form-control-wrap ma-checkbox-wrap flex-horizontal">
            <div class="flex-grow-1">
                <label class="ma-checkbox">
                <input onchange="MAPlotting.mobile.toggleLegendHeaderRow(this);" id="::legendCheckboxId::" data-rule="::dataRule::" checked="checked" name="checkbox" class="legend-checkbox" type="checkbox"/>
                <span class="ma-checkbox-faux"></span>
                <span class="ma-checkbox-label">::Label::</span>
                </label>
            </div>
            <div class="legend-count">
                <span class="visiblemarkers">0</span>
                <span class="of">{!$Label.MA_of}</span>
                <span class="totalmarkers">0</span>
            </div>
            <div class="legend-marker">::Marker::</div>
        </div>
    </div>

    <div class="legend-item template" >
        <div data-id='lid::dataRule::' uid="::dataRule::" class="::isAuto:: ::OTHER:: legend-item empty legend-row ma-form-control-wrap ma-checkbox-wrap flex-horizontal">
            <div class="flex-grow-1">
                <label class="ma-checkbox">
                <input onchange="MAPlotting.mobile.toggleRow(this);" id="::legendCheckboxId::" data-rule="::dataRule::" uid="::dataRule::" data-type="::type::" checked="checked" name="checkbox" class="legend-checkbox" type="checkbox"/>
                <span class="ma-checkbox-faux"></span>
                <span class="ma-checkbox-label">::Label::</span>
                </label>
            </div>
            <div class="legend-count">
                <span class="visiblemarkers">0</span>
                <span class="of">{!$Label.MA_of}</span>
                <span class="totalmarkers">0</span>
            </div>
            <div class="legend-marker">::Marker::</div>
        </div>
    </div>

    <div class="PlottedShapeLayer ma-folder-item shapeWrapper qidLocation" id="::ID::" data-id="::DATA_ID::" type="::TYPE::" perm-create="::PERM-CREATE::" perm-delete="::PERM-DELETE::">
        <div class="layer-toggle">
            <input onchange="MAPlotting.mobile.removeProximityLayer(this,'shapeLayer');" class="ma-toggle" id="cb::CheckBoxUID::" checked="checked" type="checkbox"/>
            <label class="ma-toggle-label" for="cb::CheckBoxUID::"></label>
        </div>
        <div class="layer-nest-click-area" action="plot-shape" onclick="MALayers.layerActionsClickHandler(this);">
            <div class="layer-nest-click-area-inner">
                <div class="layer-type-icon ftu-icon-left">
                    <div class="ma-icon ma-icon-" type="shape"></div>
                </div>
                <div class="ma-item-name">
                    <div class="ma-item-name-title basicinfo-name">Boundary</div>
                    <div class="hidden ma-item-name-subtitle basicinfo-type"></div>
                    <div class="ma-item-name-subtitle basicinfo-totalGeometry"></div>
                </div>
                <div class="layer-action-icon">
                    <div class="ma-icon ma-icon-chevronright"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="ma-folder-item layer proximity shapeWrapper qidLocation" type="shape">
        <div class="layer-toggle">
            <input onchange="MAPlotting.mobile.removeProximityLayer(this,'drawnShape');" class="ma-toggle" id="cb::CheckBoxUID::" checked="checked" type="checkbox"/>
            <label class="ma-toggle-label" for="cb::CheckBoxUID::"></label>
        </div>
        <div class="layer-nest-click-area" action="show-prox-info" onclick="MALayers.layerActionsClickHandler(this);">
            <div class="layer-nest-click-area-inner">
                <div class="layer-type-icon ftu-icon-left">
                    <div class="ma-icon ma-icon-" type="shape"></div>
                </div>
                <div class="ma-item-name">
                    <div class="ma-item-name-title basicinfo-name">Boundary</div>
                    <div class="hidden ma-item-name-subtitle basicinfo-type"></div>
                    <div class="ma-item-name-subtitle basicinfo-totalGeometry"></div>
                </div>
                <div class="layer-action-icon">
                    <div class="ma-icon ma-icon-chevronright"></div>
                </div>
            </div>
            <div class="singleViewInfo hidden pad-16">
                <div class="options-wrapper">
                    <div class="select-info">
                        <label class="ma-input-label">{!$Label.MA_Type}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select onchange="toggleShapeLayers(this);" class="ma-input proximitytype">
                                <option value='Circle'>{!$Label.MA_Circle}</option>
                                <option style="display:none;" value='Polygon'>{!$Label.MA_Polygon}</option>
                                <option value='KML'>KML</option>
                                <option value='travelTime'>{!$Label.MA_TRAVEL_TIME}</option>
                                <option value='travelDistance'>{!$Label.MA_TRAVEL_DISTANCE}</option>
                            </select>
                        </div>
                    </div>
                    <div class="prox-option-select">
                        <div class='prox-option'>
                            <div id="boundary-address" class="ma-form-control-wrap js-toggleKML">
                                <label class="ma-input-label">{!$Label.MA_Address}</label>
                                <textarea class="ma-input js-address-input" type="text" placeholder="Address..."></textarea>
                            </div>
                            <div class="ma-form-control-wrap js-rowToggle" data-id="travelDistance::Circle">
                                <label class="ma-input-label">{!$Label.MASettings_Radius}</label>
                                <input class="numberVal ma-input js-radiusDistance prox-style" type="text" placeholder="0"/>
                            </div>
                            <div class="ma-form-control-wrap js-rowToggle" data-id="travelDistance::Circle">
                                <label class="ma-input-label">{!$Label.MA_UNITS}</label>
                                <div class="ma-form-control has-inset-icon--right">
                                    <i class="ma-icon ma-icon-down inset-icon--right"></i>
                                    <select class="ma-input js-radiusUnit">
                                        <option value="MILES">{!$Label.MARoutes_Miles}</option>
                                        <option value="KM">{!$Label.MARoutes_Kilometers}</option>
                                        <option value="METERS">{!$Label.MA_Meters}</option>
                                        <option value="YARDS">{!$Label.MA_Yards}</option>
                                        <option value="FEET">{!$Label.MA_Feet}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="ma-form-control-wrap js-rowToggle" data-id="travelTime">
                                <label class="ma-input-label">{!$Label.MA_hours}</label>
                                <input class="numberVal ma-input radius-hours prox-style" type="text" placeholder="0"/>
                            </div>
                            <div class="ma-form-control-wrap js-rowToggle" data-id="travelTime">
                                <label class="ma-input-label">{!$Label.MA_minutes}</label>
                                <input class="numberVal ma-input radius-minutes prox-style" type="text" placeholder="0"/>
                            </div>
                            <div class="ma-form-control-wrap js-rowToggle" data-id="KML">
                                <div class="ma-form-control has-inset-icon--right">
                                    <i class="ma-icon ma-icon-down inset-icon--right"></i>
                                    <select class="ma-input options-kml-document"></select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="color-wrapper js-colorOptions">
                    <div class="hidden ma-form-control-wrap color-select">
                        <label class="ma-input-label">{!$Label.MA_FILL}</label>
                        <input type='text' class='color fillcolor prox-style ma-input'/>
                    </div>
                    <div class="hidden ma-form-control-wrap color-select">
                        <label class="ma-input-label">{!$Label.MA_BORDER}</label>
                        <input type='text' class='color bordercolor prox-style ma-input'/>
                    </div>
                    <div class="ma-form-control-wrap opac-wrapper js-toggleKML">
                        <label class="ma-input-label">{!$Label.MA_OPACITY}</label>
                        <div class="ma-form-control has-inset-icon--right">
                            <i class="ma-icon ma-icon-down inset-icon--right"></i>
                            <select class="ma-input js-proxOpacity">
                                <option value="0.1">10%</option>
                                <option value="0.2">20%</option>
                                <option value="0.3">30%</option>
                                <option value="0.4">40%</option>
                                <option value="0.5">50%</option>
                                <option value="0.6">60%</option>
                                <option value="0.7">70%</option>
                                <option value="0.8">80%</option>
                                <option value="0.9">90%</option>
                                <option value="1">100%</option>
                            </select>
                        </div>
                    </div>
                    <div class="ma-form-control-wrap" style="margin-top: 28px;">
                        <div>
                            <button class=" full-width button-update ma-button ma-button--blue">{!$Label.MA_Submit}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="FavoriteRowUnit qidLocation ma-folder-item" id="::ID::" data-id="::DATA_ID::" nodetype="::NODETYPE::" type="::TYPE::" perm-create="::PERM-CREATE::" perm-delete="::PERM-DELETE::" perm-export="::PERM-EXPORT::" perm-modify="::PERM-MODIFY::" perm-read="::PERM-READ::" perm-setpermissions="::PERM-SETPERM::">
        <div class="layer-toggle">
            <input onchange="MAPlotting.mobile.removeFavoriteLayer(this);" class="ma-toggle" id="cb::CheckBoxUID::" checked="checked" type="checkbox"/>
            <label class="ma-toggle-label" for="cb::CheckBoxUID::"></label>
        </div>
        <div class="layer-nest-click-area" action="plot-favorite" onclick="MALayers.layerActionsClickHandler(this);">
            <div class="layer-nest-click-area-inner">
                <div class="layer-type-icon ftu-icon-left">
                    <div class="ma-icon ma-icon-" type="favorite"></div>
                </div>
                <div class="ma-item-name">
                    <div class="ma-item-name-title basicinfo-name">Boundary</div>
                    <div class="ma-item-name-subtitle basicinfo-type"></div>
                </div>
                <div class="layer-action-icon">
                    <div class="ma-icon ma-icon-chevronright"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="PlottedRowUnit ma-folder-item qidLocation" id="::ID::" data-id="::DATA_ID::" nodetype="::NODETYPE::" type="::TYPE::" perm-create="::PERM-CREATE::" perm-delete="::PERM-DELETE::" perm-export="::PERM-EXPORT::" perm-modify="::PERM-MODIFY::" perm-read="::PERM-READ::" perm-setpermissions="::PERM-SETPERM::">
        <div class="layer-toggle">
            <input onchange="MAPlotting.mobile.removeQuery(this);" class="ma-toggle" id="cb::CheckBoxUID::" checked="checked" type="checkbox"/>
            <label class="ma-toggle-label" for="cb::CheckBoxUID::"></label>
        </div>
        <div class="layer-nest-click-area" onclick="MALayers.layerActionsClickHandler(this);">
            <div class="layer-nest-click-area-inner">
                <div class="layer-type-icon ftu-icon-left">
                    <div class="ma-icon ma-icon-" type="marker"></div>
                </div>
                <div class="ma-item-name">
                    <div class="ma-item-name-title basicinfo-name">::NAME::</div>
                    <div class="ma-item-name-subtitle basicinfo-baseobjectname">::TOOLTIP-BASEOBJ::</div>
                    <div class="hidden ma-item-name-subtitle plottinginfo-wrapper">
                        <div class="status"></div>
                        <div class=" info"></div>
                    </div>
                </div>
                <div class="layer-action-icon">
                    <div class="ma-icon ma-icon-chevronright"></div>
                </div>
            </div>
        </div>
        <div class="hidden legend">

        </div>
        <ul style="display:none;" class="renderButtons">
            <li class="drop-menu-item item-selectable" onclick="MAPlotting.queryActions.renderSelection(this);" role="presentation"><a class="renderButtons-button markers" data-renderas="Markers" role="menuitem">Render Markers</a></li>
            <li class="drop-menu-item item-selectable" onclick="MAPlotting.queryActions.renderSelection(this);" role="presentation"><a class="renderButtons-button cluster" data-renderas="Cluster" role="menuitem">Render Clusters</a></li>
            <li class="drop-menu-item item-selectable" onclick="MAPlotting.queryActions.renderSelection(this);" role="presentation"><a class="renderButtons-button heatmap" data-renderas="Heatmap" role="menuitem">Render Heatmap</a></li>
            <li class="drop-menu-item item-selectable" onclick="MAPlotting.queryActions.renderSelection(this);" role="presentation"><a class="renderButtons-button scatter" data-renderas="Scatter" role="menuitem">Render Scatter</a></li>
        </ul>
    </div>

    <div class="PlottedRowUnit-DataLayer ma-folder-item qidLocation" id="::ID::" data-id="::DATA_ID::" nodetype="::NODETYPE::" type="::TYPE::" perm-create="::PERM-CREATE::" perm-delete="::PERM-DELETE::" perm-export="::PERM-EXPORT::" perm-modify="::PERM-MODIFY::" perm-read="::PERM-READ::" perm-setpermissions="::PERM-SETPERM::">
        <div class="layer-toggle">
            <input onchange="MADemographicLayer.RemoveLayerFromDom(this);" data-type="datalayer" class="ma-toggle" id="cb::CheckBoxUID::" checked="checked" type="checkbox"/>
            <label class="ma-toggle-label" for="cb::CheckBoxUID::"></label>
        </div>
        <div class="layer-nest-click-area" onclick="MALayers.layerActionsClickHandler(this);">
            <div class="layer-nest-click-area-inner">
                <div class="layer-type-icon ftu-icon-left">
                    <div class="ma-icon ma-icon-" type="datalayer"></div>
                </div>
                <div class="ma-item-name">
                    <div class="ma-item-name-title basicinfo-name">::NAME::</div>
                    <div class="ma-item-name-subtitle basicinfo-baseobjectname">::TOOLTIP-BASEOBJ::</div>
                    <div class="hidden ma-item-name-subtitle plottinginfo-wrapper">
                        <div class="status"></div>
                        <div class=" info"></div>
                    </div>
                </div>
                <div class="layer-action-icon">
                    <div class="ma-icon ma-icon-chevronright"></div>
                </div>
            </div>
        </div>
        <ul style="display:none;" class="renderButtons">
            <li class="drop-menu-item item-selectable" onclick="MADemographicLayer.renderSelection(this);" role="presentation"><a class="renderButtons-button markers" data-renderas="Markers" role="menuitem">Render Markers</a></li>
            <li class="drop-menu-item item-selectable" onclick="MADemographicLayer.renderSelection(this);" role="presentation"><a class="renderButtons-button cluster" data-renderas="Cluster" role="menuitem">Render Clusters</a></li>
        </ul>
    </div>

    <svg class='svg-circle-num' width="20" height="20" xmlns="http://www.w3.org/2000/svg">
        <g>
            <circle fill="#28a2ff" stroke="#f9f9f9" stroke-width="2" cx="10" cy="10" r="8.83163" id="svg_1"/>
            <text fill="#f9f9f9" stroke="#f9f9f9" stroke-width="0" x="8.3" y="10" id="svg_2" font-size="18" font-family="Monospace" text-anchor="middle" xml:space="preserve" transform="matrix(0.7992677323256553,0,0,0.6748139102469572,3.3995968056728256,7.2131973728906305) ">__TEXT__</text>
        </g>
    </svg>

    <div class="liveTracking device-history-input template" style="padding: 0 16px;">
        <div class="ma-form-control-wrap">
            <label class="ma-input-label">{!$Label.MA_Day}</label>
            <div class="ma-form-control icon-right">
                <input class="date-input live-input ma-input" type="text" placeholder="Select a date"/>
                <i class="ma-icon ma-icon-event icon-right"></i>
            </div>
        </div>
        <div class="ma-form-control-wrap">
            <label class="ma-input-label">Start Time</label>
            <div class="ma-form-control icon-right">
                <input class="live-starttime time-input ma-input" type="time" placeholder="Select a start time"/>
                <i class="ma-icon ma-icon-clock icon-right"></i>
            </div>
        </div>
        <div class="ma-form-control-wrap">
            <label class="ma-input-label">End Time</label>
            <div class="ma-form-control icon-right">
                <input class="live-endtime time-input ma-input" type="time" placeholder="Select a start time"/>
                <i class="ma-icon ma-icon-clock icon-right"></i>
            </div>
        </div>
        <div class="ma-form-control-wrap">
            <label class="ma-input-label">Time Zone</label>
            <div class="ma-form-control icon-right">
                <i class="ma-icon ma-icon-down inset-icon--right"></i>
                <select class="live-input live-time-zone ma-input">
                </select>
            </div>
        </div>
        <div class="ma-form-control-wrap">
            <label class="ma-input-label">Pick a Color</label>
            <div class="ma-form-control">
                <div class="tracking-history-content">
                    <div class="tracking-history-forms-full">
                        <div class="live-history-color">
                            <input class="liveColorInput colorIsChecked" name="colorChoice" type="radio" id="cor1" value="#4986E7"/>
                            <label class="cor1 liveColorOption colorIsChecked" for="cor1"></label>
                            <input id="cor2" class="liveColorInput" name="colorChoice" type="radio" value="#000000"/>
                            <label class="cor2 liveColorOption" for="cor2"></label>
                            <input id="cor3" class="liveColorInput" name="colorChoice" type="radio" value="#A4BDFC"/>
                            <label class="cor3 liveColorOption" for="cor3"></label>
                            <input id="cor4" class="liveColorInput" name="colorChoice" type="radio" value="#46D6DB"/>
                            <label class="cor4 liveColorOption" for="cor4"></label>
                            <input id="cor5" class="liveColorInput" name="colorChoice" type="radio" value="#7AE7BF"/>
                            <label class="cor5 liveColorOption" for="cor5"></label>
                            <input id="cor6" class="liveColorInput" name="colorChoice" type="radio" value="#51B749"/>
                            <label class="cor6 liveColorOption" for="cor6"></label>
                            <input id="cor7" class="liveColorInput" name="colorChoice" type="radio" value="#FBD75B"/>
                            <label class="cor7 liveColorOption" for="cor7"></label>
                            <input id="cor8" class="liveColorInput" name="colorChoice" type="radio" value="#FFB878"/>
                            <label class="cor8 liveColorOption" for="cor8"></label>
                            <input id="cor9" class="liveColorInput" name="colorChoice" type="radio" value="#FF887C"/>
                            <label class="cor9 liveColorOption" for="cor9"></label>
                            <input id="cor10" class="liveColorInput" name="colorChoice" type="radio" value="#DC2127"/>
                            <label class="cor10 liveColorOption" for="cor10"></label>
                            <input id="cor11" class="liveColorInput" name="colorChoice" type="radio" value="#DBADFF"/>
                            <label class="cor11 liveColorOption" for="cor11"></label>
                            <input id="cor12" class="liveColorInput" name="colorChoice" type="radio" value="#E1E1E1"/>
                            <label class="cor12 liveColorOption" for="cor12"></label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="ma-form-control-wrap">
            <label class="ma-input-label">Point Density</label>
            <div class="ma-form-control has-inset-icon--right">
                <i class="ma-icon ma-icon-down inset-icon--right"></i>
                <select class="live-input ma-input live-point-density">
                    <option value="100">100%</option>
                    <option value="50">50%</option>
                </select>
            </div>
        </div>
        <div class="ma-form-control-wrap" style="margin-top: 28px;">
            <div style="text-align: center;">
                <button class="actionbutton  ma-button ma-button--blue device-history-button live-button" data-action="Track History">Track History</button>
                <button class="actionbutton  ma-button ma-button--blue device-history-button live-button" data-action="Remove History">Remove History</button>
            </div>
        </div>
    </div>

    <div class="dynamicFilterPopup template">
        <div class="pad-16-16-32">
            <p class="lead">This marker layer is filtered by a field value. Please enter a value for the field below and continue.</p>
            <div class='form-stretch filter-wrapper'></div>
        </div>
    </div>

    <div class="queryFilter template">
        <div class="filter-row ma-form-control-wrap" data-parentfield="::parentfield::" data-fieldapiname="::fieldapiname::" data-fieldlabel="::fieldlabel::" data-operator="::operator::">
            <label class="ma-input-label"><strong>Field:</strong> ::FIELD::</label>
            <input class="ma-input fieldInput ::RowUID::" id="accountPlotDynamicField" placeholder="Field value..." type="text"/>
            <div class="slds-p-top--xx-small filter-item-pills" style=""></div>
        </div>
    </div>

    <div class="legendShortTemplate">
        <div class="ma-listview-item listViewRow" data-qid="::QID::" data-id="::RecordId::" data-savedqueryid="::QueryId::">
            <div class="ma-listview-checkbox-wrap">
                <label class="ma-checkbox">
                    <input class="listRowCheckbox" checked="::isChecked::" onclick="MAListView.mobile.updateSelections(this);" name="checkbox" type="checkbox"/>
                    <div class="ma-checkbox-faux"></div>
                    <span class="ma-checkbox-label"></span>
                </label>
            </div>
            <div onclick="MAListView.mobile.rowClick(this);" class="ma-listview-content-wrap">
                <div class="ma-listview-content-wrap-inner">
                    <div class="ma-listview-item-icon">
                        <div class="ma-icon map-marker"><img style="max-height: 30px;" src="::markerURL::" /></div>
                    </div>
                    <div class="ma-listview-item-text">
                        ::RecordName::
                        <div class="ma-listview-item-subtext">::Address::</div>
                        <div class="ma-listview-item-markerlayer"><span class="ma-icon ma-icon-checkin"></span> ::QueryName::</div>
                    </div>
                    <div class="ma-listview-item-meta">
                        <div class="ma-listview-distance">
                            <span class="ma-listview-distance-value"><span class="ma-icon ma-icon-chevronright"></span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="searh-row template">
        <li class="search-result-item template flex-horizontal search-item-layers ui-menu-item" data-lat="::lat::" data-lng="::lng::" data-qid="::QID::" data-id="::ID::" onclick="MALayers.searchClick(this,'::TYPE::')">
            <div class="search-result-icon">
                <div class="::ICON::"></div>
            </div>
            <div class="search-result-content flex-grow-1">
                <div class="search-result-text">::NAME::</div>
            </div>
        </li>
    </div>

    <div class='listview-pane' data-pane='tabs'>
                <div id='listview-tabs'>
                    <ul>
                    </ul>
                </div>
            </div>

    <!-- Current Location Weather Template -->
    <div id="CurrentLocationWeatherTemplate">

        <b style="font-size:18px;">{!$Label.MA_Current_Forecast}</b>

        <table border="0" style="width:400px; margin-bottom:20px;">
            <tr>
                <td style="font-weight:bold; font-size: 14px;" colspan="3">::weather::</td>
            </tr>
            <tr>
                <td style="width:120px; vertical-align:middle;">
                    ::icon::
                </td>
                <td style="text-align:center; vertical-align:middle;">
                    <span style="font-weight:bold; font-size: 20px;">::avgTempF::&deg;F</span>
                    <br />{!$Label.MA_Feels_Like} ::feelslikeF::&deg;F
                </td>
                <td>
                    <table border="0" cellpadding="3" cellspacing="0">
                        <tr>
                            <td><b>{!$Label.MA_High}</b></td>
                            <td>::maxTempF::&deg;F (::maxTempC::&deg;C)</td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MA_Low}</b></td>
                            <td>::minTempF::&deg;F (::minTempC::&deg;C)</td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MA_Precipitation}</b></td>
                            <td>::pop::%</td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MAWeather_Humidity}</b></td>
                            <td>::humidity::%</td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MAWeather_Winds}</b></td>
                            <td>::windDir:: at ::windSpeedMPH:: mph</td>
                        </tr>

                    </table>
                </td>


            </tr>

        </table>

        <b style="font-size:18px;">{!$Label.MA_Future_Forecast}</b>
    </div>

    <!-- Location Weather Template -->
    <div id="LocationWeatherTemplate">
        <table border="0" style="border-bottom: 1px solid black; width:400px;">
            <tr>
                <td style="width:120px; vertical-align:middle;">::icon::</td>
                <td>
                    <table border="0" cellpadding="3" cellspacing="0">
                        <tr>
                            <td colspan="4" style="font-weight:bold; font-size: 14px;">
                                ::date::
                            </td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                ::weather::
                            </td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MA_High}</b></td>
                            <td>::maxTempF::&deg;F (::maxTempC::&deg;C)</td>
                            <td style="padding-left:10px;"><b>{!$Label.MA_Precipitation}</b></td>
                            <td>::pop::%</td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MA_Low}</b></td>
                            <td>::minTempF::&deg;F (::minTempC::&deg;C)</td>
                            <td style="padding-left:10px;"><b>{!$Label.MAWeather_Humidity}</b></td>
                            <td>::humidity::%</td>
                        </tr>
                        <tr>
                            <td><b>{!$Label.MAWeather_Winds}</b></td>
                            <td colspan="3">::windDir:: at ::windSpeedMPH:: mph</td>
                        </tr>

                    </table>

                </td>


            </tr>

        </table>

    </div>


    <!-- Mobile V2 Map Type item custom tile template -->
    <div class="ma-list-item has-icon-left MapViewTitle customTile template" tileId="::tileid::" data-basemaptype="::basemaptype::" onclick="MA.Map.updateCustomType(this, '::url::', '::tilename::'); MALayers.hideModal();">
        <div class="ma-list-icon-left">
            <div class="ma-list-icon-md">
                <img src="::tileimage::" style="width: 60px;" />
            </div>
        </div>
        <div>
            <div class="ma-list-item-name">::tilename::</div>
        </div>
    </div>
</div>



<!-- Terr Templates -->
<div id='TerritoryBuilder-Templates' style='display: none;'>

    <!-- Search Wrapper -->
    <div class='search-wrapper'>
        <input type='text' class='search-input' />
        <img class='search-loading' src="{!URLFOR($Resource.MapAnything, 'images/chatter-loader.gif')}" style='display:none' />
        <img class='search-button' src="{!URLFOR($Resource.MapAnything, 'images/ui-icons/search-icon.png')}" />
        <div class='search-menu' style='display:none;'></div>
    </div>

    <!-- Results div when selecting area -->
    <div class='autocomplete-selection'>
        <span class='result-text'></span>
        <span class='result-remove'>x</span>
    </div>

    <!-- Return templates for each area -->
    <div class='boundary-cell' data-adminlevel=''>
        <div class='icon'><img class="territory-selector-img" /></div>
        <div class='info'><div class='title'></div><div class='subtitle'></div></div>
        <div class='checkbox'></div>
    </div>

    <!-- SVG Shape Icon -->
    <svg class='svg-shape-icon' width="20" height="20" preserveAspectRatio="xMidYMid meet">
        <g>
            <path id="svg_10" d="m2.75,17.25c0,0 10,0 10,0c0,0 4.75,-8 4.75,-8c0,0 -3.5,-5 -3.5,-5c0,0 -6.75,-2 -6.75,-2c0,0 -4.5,4.25 -4.5,4.25c0,0 0,10.75 0,10.75z" opacity="0.55" stroke-width="2" stroke="__BorderColor__" fill="__FillColor__"/>
            <ellipse fill="__BorderColor__" stroke="__BorderColor__" stroke-width="0" cx="3" cy="17.25" id="svg_1" rx="2" ry="2"/>
            <ellipse fill="__BorderColor__" stroke="__BorderColor__" stroke-width="0" cx="2.75" cy="6.75" rx="2" ry="2" id="svg_3"/>
            <ellipse fill="__BorderColor__" stroke="__BorderColor__" stroke-width="0" cx="7.25" cy="2.25" rx="2" ry="2" id="svg_4"/>
            <ellipse fill="__BorderColor__" stroke="__BorderColor__" stroke-width="0" cx="14" cy="4" rx="2" ry="2" id="svg_5"/>
            <ellipse fill="__BorderColor__" stroke="__BorderColor__" stroke-width="0" cx="17.75" cy="9.5" rx="2" ry="2" id="svg_6"/>
            <ellipse fill="__BorderColor__" stroke="__BorderColor__" stroke-width="0" cx="13" cy="17.25" rx="2" ry="2" id="svg_7"/>
        </g>
    </svg>

</div>



<script>
    //https://success.salesforce.com/issues_view?id=a1p30000000T5l1AAC
    window.onkeydown=function(){window.focus();}
</script>

<script type='text/javascript' src="{!URLFOR($Resource.MAPhone, '/s1Mobile/js/vendor/jquery-2.2.1.min.js')}"></script>
<script type='text/javascript' src="{!URLFOR($Resource.MAPhone, '/s1Mobile/js/vendor/jquery-ui-1.11.4.min.js')}"></script>
<script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'js/select2/select2.full.min.js')}"></script>
<c:MA />
<script src="{!URLFOR($Resource.MapAnything, 'js/moment.js')}" type="text/javascript"></script>
<script type="text/javascript" src="{!URLFOR($Resource.MapAnything, 'toastr/toastr.min.js')}"></script>
<link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.MapAnything, 'toastr/toastr.min.css')}"></link>
<!-- <script type='text/javascript' src="{!URLFOR($Resource.MapAnythingJS, 'JSHelperFunctions.js')}"></script> -->
<script src="{!staticResourceLocators['MapAnythingJS'].path}/JSHelperFunctions.js"></script>
<script src="{!staticResourceLocators['MapAnythingJS'].path}/JSActionFramework.js"></script>
<script src="{!staticResourceLocators['MapAnythingJS'].path}/MACheckIn.js"></script>
<script src="{!staticResourceLocators['MapAnythingJS'].path}/MATabletJS.js"></script>

<script type='text/javascript' src="{!URLFOR($Resource.MAPhone, '/s1Mobile/js/ma-desktop.js')}"></script>
<script type='text/javascript' src="{!URLFOR($Resource.MAPhone, '/s1Mobile/js/vendor/fastclick.min.js')}"></script>
<!-- jsColor -->
<script type='text/javascript' src="{!URLFOR($Resource.MapAnything, 'jscolor/jscolor.js')}"></script>
<script>
    //lazy load our javascript files
    function asyncLoadScript(url) {
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = url;
        var x = document.getElementsByTagName('head')[0];
        x.appendChild(s);
    }

    asyncLoadScript("{!URLFOR($Resource.QueryEditor, 'js/date.js')}");
    asyncLoadScript("{!URLFOR($Resource.MapAnything, 'jquery/jquery.ui.touch-punch.min.js')}");
    asyncLoadScript("{!URLFOR($Resource.MAPhone, '/s1Mobile/js/vendor/tooltip.bootstrap.min.js')}");
    asyncLoadScript("{!URLFOR($Resource.MapAnythingJS, 'siteJS.js')}");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MADemographicLayer.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MADemographicsJS.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MARecordProcessJS.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MAMarkerBuilder.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MapAnythingPlottingJS.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MAListView.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MATerritoryBuilder.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MAFavoriteLocation.js");
    asyncLoadScript("{!staticResourceLocators['MapAnythingJS'].path}/MARoutes.js");
    asyncLoadScript("{!URLFOR($Resource.MapAnything, 'js/moment_tz.js')}");
    asyncLoadScript("{!URLFOR($Resource.MapAnything, 'toastr/toastr.min.js')}");
</script>


<apex:stylesheet value="{!URLFOR($Resource.sma__MapAnything, 'css/MapAnything.css')}"/>

<!-- Dynamic Component Overrides -->
<apex:repeat value="{!overrideComponentStrings}" var="c">
    <apex:outputText escape="false" value="{!c}" />
</apex:repeat>

</body>
<style>
.ma-icon-account:before {
  content: "\61";
}

.ma-icon-add:before {
  content: "\62";
}
.ma-icon-add-contact:before {
  content: "\63";
}
.ma-icon-adduser:before {
  content: "\64";
}
.ma-icon-announcement:before {
  content: "\65";
}
.ma-icon-answer:before {
  content: "\66";
}
.ma-icon-answer-best:before {
  content: "\67";
}
.ma-icon-answer-private:before {
  content: "\68";
}
.ma-icon-answer-public:before {
  content: "\69";
}
.ma-icon-apex:before {
  content: "\6a";
}
.ma-icon-approval:before {
  content: "\6b";
}
.ma-icon-apps:before {
  content: "\6c";
}
.ma-icon-apps-admin:before {
  content: "\6d";
}
.ma-icon-arrowdown:before {
  content: "\6e";
}
.ma-icon-arrowup:before {
  content: "\6f";
}
.ma-icon-article:before {
  content: "\70";
}
.ma-icon-attach:before {
  content: "\71";
}
.ma-icon-avatar:before {
  content: "\72";
}
.ma-icon-avatar-loading:before {
  content: "\73";
}
.ma-icon-back:before {
  content: "\74";
}
.ma-icon-ban:before {
  content: "\75";
}
.ma-icon-bold:before {
  content: "\76";
}
.ma-icon-bookmark:before {
  content: "\77";
}
.ma-icon-brush:before {
  content: "\78";
}
.ma-icon-bucket:before {
  content: "\79";
}
.ma-icon-builder:before {
  content: "\7a";
}
.ma-icon-calibration:before {
  content: "\41";
}
.ma-icon-call:before {
  content: "\42";
}
.ma-icon-call-history:before {
  content: "\43";
}
.ma-icon-campaign:before {
  content: "\44";
}
.ma-icon-campaign-members:before {
  content: "\45";
}
.ma-icon-canvas:before {
  content: "\46";
}
.ma-icon-capslock:before {
  content: "\47";
}
.ma-icon-case:before {
  content: "\48";
}
.ma-icon-case-change-status:before {
  content: "\49";
}
.ma-icon-case-comment:before {
  content: "\4a";
}
.ma-icon-case-email:before {
  content: "\4b";
}
.ma-icon-case-log-a-call:before {
  content: "\4c";
}
.ma-icon-case-transcript:before {
  content: "\4d";
}
.ma-icon-cases:before {
  content: "\4e";
}
.ma-icon-center-align-text:before {
  content: "\4f";
}
.ma-icon-change-owner:before {
  content: "\50";
}
.ma-icon-change-record-type:before {
  content: "\51";
}
.ma-icon-chart:before {
  content: "\52";
}
.ma-icon-chat:before {
  content: "\53";
}
.ma-icon-check:before {
  content: "\54";
}
.ma-icon-chevrondown:before {
  content: "\56";
}
.ma-icon-chevronleft:before {
  content: "\57";
}
.ma-icon-chevronright:before {
  content: "\58";
}
.ma-icon-chevronup:before {
  content: "\59";
}
.ma-icon-clear:before {
  content: "\5a";
}
.ma-icon-client:before {
  content: "\30";
}
.ma-icon-clock:before {
  content: "\31";
}
.ma-icon-clone:before {
  content: "\32";
}
.ma-icon-close:before {
  content: "\33";
}
.ma-icon-coaching:before {
  content: "\34";
}
.ma-icon-comments:before {
  content: "\35";
}
.ma-icon-company:before {
  content: "\36";
}
.ma-icon-connected-apps:before {
  content: "\37";
}
.ma-icon-contact:before {
  content: "\38";
}
.ma-icon-contract:before {
  content: "\39";
}
.ma-icon-contract-alt:before {
  content: "\21";
}
.ma-icon-copy:before {
  content: "\22";
}
.ma-icon-crossfilter:before {
  content: "\23";
}
.ma-icon-custom:before {
  content: "\24";
}
.ma-icon-custom1:before {
  content: "\25";
}
.ma-icon-custom2:before {
  content: "\26";
}
.ma-icon-custom3:before {
  content: "\27";
}
.ma-icon-custom4:before {
  content: "\28";
}
.ma-icon-custom5:before {
  content: "\29";
}
.ma-icon-custom6:before {
  content: "\2a";
}
.ma-icon-custom7:before {
  content: "\2b";
}
.ma-icon-custom8:before {
  content: "\2c";
}
.ma-icon-custom9:before {
  content: "\2d";
}
.ma-icon-custom10:before {
  content: "\2e";
}
.ma-icon-custom11:before {
  content: "\2f";
}
.ma-icon-custom12:before {
  content: "\3a";
}
.ma-icon-custom13:before {
  content: "\3b";
}
.ma-icon-custom14:before {
  content: "\3c";
}
.ma-icon-custom15:before {
  content: "\3d";
}
.ma-icon-custom16:before {
  content: "\3e";
}
.ma-icon-custom17:before {
  content: "\3f";
}
.ma-icon-custom18:before {
  content: "\40";
}
.ma-icon-custom19:before {
  content: "\5b";
}
.ma-icon-custom20:before {
  content: "\5d";
}
.ma-icon-custom21:before {
  content: "\5e";
}
.ma-icon-custom22:before {
  content: "\5f";
}
.ma-icon-custom23:before {
  content: "\60";
}
.ma-icon-custom24:before {
  content: "\7b";
}
.ma-icon-custom25:before {
  content: "\7c";
}
.ma-icon-custom27:before {
  content: "\7e";
}
.ma-icon-custom28:before {
  content: "\5c";
}
.ma-icon-custom29:before {
  content: "\e000";
}
.ma-icon-custom30:before {
  content: "\e001";
}
.ma-icon-custom32:before {
  content: "\e003";
}
.ma-icon-custom33:before {
  content: "\e004";
}
.ma-icon-custom34:before {
  content: "\e005";
}
.ma-icon-custom35:before {
  content: "\e006";
}
.ma-icon-custom36:before {
  content: "\e007";
}
.ma-icon-custom37:before {
  content: "\e008";
}
.ma-icon-custom38:before {
  content: "\e009";
}
.ma-icon-custom39:before {
  content: "\e00a";
}
.ma-icon-custom40:before {
  content: "\e00b";
}
.ma-icon-custom41:before {
  content: "\e00c";
}
.ma-icon-custom42:before {
  content: "\e00d";
}
.ma-icon-custom43:before {
  content: "\e00e";
}
.ma-icon-custom44:before {
  content: "\e00f";
}
.ma-icon-custom45:before {
  content: "\e010";
}
.ma-icon-custom46:before {
  content: "\e011";
}
.ma-icon-custom47:before {
  content: "\e012";
}
.ma-icon-custom48:before {
  content: "\e013";
}
.ma-icon-custom49:before {
  content: "\e014";
}
.ma-icon-custom50:before {
  content: "\e015";
}
.ma-icon-custom51:before {
  content: "\e016";
}
.ma-icon-custom52:before {
  content: "\e017";
}
.ma-icon-custom53:before {
  content: "\e018";
}
.ma-icon-custom54:before {
  content: "\e019";
}
.ma-icon-custom55:before {
  content: "\e01a";
}
.ma-icon-custom56:before {
  content: "\e01b";
}
.ma-icon-custom57:before {
  content: "\e01c";
}
.ma-icon-custom58:before {
  content: "\e01d";
}
.ma-icon-custom59:before {
  content: "\e01e";
}
.ma-icon-custom60:before {
  content: "\e01f";
}
.ma-icon-custom61:before {
  content: "\e020";
}
.ma-icon-custom62:before {
  content: "\e021";
}
.ma-icon-custom63:before {
  content: "\e022";
}
.ma-icon-custom64:before {
  content: "\e023";
}
.ma-icon-custom65:before {
  content: "\e024";
}
.ma-icon-custom66:before {
  content: "\e025";
}
.ma-icon-custom67:before {
  content: "\e026";
}
.ma-icon-custom68:before {
  content: "\e027";
}
.ma-icon-custom69:before {
  content: "\e028";
}
.ma-icon-custom70:before {
  content: "\e029";
}
.ma-icon-custom71:before {
  content: "\e02a";
}
.ma-icon-custom72:before {
  content: "\e02b";
}
.ma-icon-custom73:before {
  content: "\e02c";
}
.ma-icon-custom74:before {
  content: "\e02d";
}
.ma-icon-custom75:before {
  content: "\e02e";
}
.ma-icon-custom76:before {
  content: "\e02f";
}
.ma-icon-custom77:before {
  content: "\e030";
}
.ma-icon-custom78:before {
  content: "\e031";
}
.ma-icon-custom79:before {
  content: "\e032";
}
.ma-icon-custom80:before {
  content: "\e033";
}
.ma-icon-custom81:before {
  content: "\e034";
}
.ma-icon-custom82:before {
  content: "\e035";
}
.ma-icon-custom83:before {
  content: "\e036";
}
.ma-icon-custom84:before {
  content: "\e037";
}
.ma-icon-custom85:before {
  content: "\e038";
}
.ma-icon-custom86:before {
  content: "\e039";
}
.ma-icon-custom87:before {
  content: "\e03a";
}
.ma-icon-custom88:before {
  content: "\e03b";
}
.ma-icon-custom89:before {
  content: "\e03c";
}
.ma-icon-custom90:before {
  content: "\e03d";
}
.ma-icon-custom91:before {
  content: "\e03e";
}
.ma-icon-custom92:before {
  content: "\e03f";
}
.ma-icon-custom93:before {
  content: "\e040";
}
.ma-icon-custom94:before {
  content: "\e041";
}
.ma-icon-custom96:before {
  content: "\e043";
}
.ma-icon-custom97:before {
  content: "\e044";
}
.ma-icon-custom98:before {
  content: "\e045";
}
.ma-icon-custom99:before {
  content: "\e046";
}
.ma-icon-custom100:before {
  content: "\e047";
}
.ma-icon-custom-apps:before {
  content: "\e048";
}
.ma-icon-cut:before {
  content: "\e049";
}
.ma-icon-dash:before {
  content: "\e04a";
}
.ma-icon-dashboard:before {
  content: "\e04b";
}
.ma-icon-datadotcom:before {
  content: "\e04c";
}
.ma-icon-dayview:before {
  content: "\e04d";
}
.ma-icon-default:before {
  content: "\e04e";
}
.ma-icon-defer:before {
  content: "\e04f";
}
.ma-icon-delete:before {
  content: "\e050";
}
.ma-icon-deprecate:before {
  content: "\e051";
}
.ma-icon-description:before {
  content: "\e052";
}
.ma-icon-desktop:before {
  content: "\e053";
}
.ma-icon-dial-in:before {
  content: "\e054";
}
.ma-icon-document:before {
  content: "\e055";
}
.ma-icon-down:before {
  content: "\e056";
}
.ma-icon-download:before {
  content: "\e057";
}
.ma-icon-drafts:before {
  content: "\e058";
}
.ma-icon-edit:before {
  content: "\e059";
}
.ma-icon-edit-form:before {
  content: "\e05a";
}
.ma-icon-edit-groups:before {
  content: "\e05b";
}
.ma-icon-edit-relationship:before {
  content: "\e05c";
}
.ma-icon-email:before {
  content: "\e05d";
}
.ma-icon-email-chatter:before {
  content: "\e05e";
}
.ma-icon-email-iq:before {
  content: "\e05f";
}
.ma-icon-empty:before {
  content: "\e060";
}
.ma-icon-end-call:before {
  content: "\e061";
}
.ma-icon-endorsement:before {
  content: "\e062";
}
.ma-icon-environment-hub:before {
  content: "\e063";
}
.ma-icon-erect-window:before {
  content: "\e064";
}
.ma-icon-error:before {
  content: "\e065";
}
.ma-icon-event:before {
  content: "\e066";
}
.ma-icon-expand:before {
  content: "\e067";
}
.ma-icon-expand-alt:before {
  content: "\e068";
}
.ma-icon-fallback:before {
  content: "\e069";
}
.ma-icon-favorite:before {
  content: "\e06a";
}
.ma-icon-feed:before {
  content: "\e06b";
}
.ma-icon-feedback:before {
  content: "\e06c";
}
.ma-icon-file:before {
  content: "\e06d";
}
.ma-icon-filter:before {
  content: "\e06e";
}
.ma-icon-filterlist:before {
  content: "\e06f";
}
.ma-icon-flow:before {
  content: "\e070";
}
.ma-icon-follow:before {
  content: "\e072";
}
.ma-icon-following:before {
  content: "\e073";
}
.ma-icon-forward:before {
  content: "\e074";
}
.ma-icon-freeze-user:before {
  content: "\e075";
}
.ma-icon-frozen:before {
  content: "\e076";
}
.ma-icon-generic-loading:before {
  content: "\e077";
}
.ma-icon-goal:before {
  content: "\e078";
}
.ma-icon-goals:before {
  content: "\e079";
}
.ma-icon-google-news:before {
  content: "\e07a";
}
.ma-icon-group-loading:before {
  content: "\e07b";
}
.ma-icon-groups:before {
  content: "\e07c";
}
.ma-icon-help:before {
  content: "\e07d";
}
.ma-icon-hierarchy:before {
  content: "\e07e";
}
.ma-icon-home:before {
  content: "\e07f";
}
.ma-icon-household:before {
  content: "\e080";
}
.ma-icon-identity:before {
  content: "\e081";
}
.ma-icon-image:before {
  content: "\e082";
}
.ma-icon-inbox:before {
  content: "\e083";
}
.ma-icon-info:before {
  content: "\e084";
}
.ma-icon-insert-tag-field:before {
  content: "\e085";
}
.ma-icon-insert-template:before {
  content: "\e086";
}
.ma-icon-insights:before {
  content: "\e087";
}
.ma-icon-investment-account:before {
  content: "\e088";
}
.ma-icon-italic:before {
  content: "\e089";
}
.ma-icon-join-group:before {
  content: "\e08a";
}
.ma-icon-justify-text:before {
  content: "\e08b";
}
.ma-icon-kanban:before {
  content: "\e08c";
}
.ma-icon-knowledge-base:before {
  content: "\e08d";
}
.ma-icon-layers:before {
  content: "\e08e";
}
.ma-icon-layout:before {
  content: "\e08f";
}
.ma-icon-lead:before {
  content: "\e090";
}
.ma-icon-lead-convert:before {
  content: "\e091";
}
.ma-icon-leave-group:before {
  content: "\e092";
}
.ma-icon-left:before {
  content: "\e093";
}
.ma-icon-left-align-text:before {
  content: "\e094";
}
.ma-icon-like:before {
  content: "\e095";
}
.ma-icon-link:before {
  content: "\e096";
}
.ma-icon-list:before {
  content: "\e097";
}
.ma-icon-location:before {
  content: "\e098";
}
.ma-icon-lock:before {
  content: "\e099";
}
.ma-icon-log-a-call:before {
  content: "\e09a";
}
.ma-icon-log-event:before {
  content: "\e09b";
}
.ma-icon-logout:before {
  content: "\e09c";
}
.ma-icon-magicwand:before {
  content: "\e09d";
}
.ma-icon-manage-perm-sets:before {
  content: "\e09e";
}
.ma-icon-map:before {
  content: "\e09f";
}
.ma-icon-marketing-actions:before {
  content: "\e0a0";
}
.ma-icon-matrix:before {
  content: "\e0a1";
}
.ma-icon-metrics:before {
  content: "\e0a2";
}
.ma-icon-minimize-window:before {
  content: "\e0a3";
}
.ma-icon-moneybag:before {
  content: "\e0a4";
}
.ma-icon-monthlyview:before {
  content: "\e0a5";
}
.ma-icon-more:before {
  content: "\e0a6";
}
.ma-icon-move:before {
  content: "\e0a7";
}
.ma-icon-muted:before {
  content: "\e0a8";
}
.ma-icon-my-location:before {
  content: "\e0a9";
}
.ma-icon-new:before {
  content: "\e0aa";
}
.ma-icon-new-account:before {
  content: "\e0ab";
}
.ma-icon-new-campaign:before {
  content: "\e0ac";
}
.ma-icon-new-case:before {
  content: "\e0ad";
}
.ma-icon-new-child-case:before {
  content: "\e0ae";
}
.ma-icon-new-contact:before {
  content: "\e0af";
}
.ma-icon-new-custom1:before {
  content: "\e0b0";
}
.ma-icon-new-custom2:before {
  content: "\e0b1";
}
.ma-icon-new-custom3:before {
  content: "\e0b2";
}
.ma-icon-new-custom4:before {
  content: "\e0b3";
}
.ma-icon-new-custom5:before {
  content: "\e0b4";
}
.ma-icon-new-custom6:before {
  content: "\e0b5";
}
.ma-icon-new-custom7:before {
  content: "\e0b6";
}
.ma-icon-new-custom8:before {
  content: "\e0b7";
}
.ma-icon-new-custom9:before {
  content: "\e0b8";
}
.ma-icon-new-custom10:before {
  content: "\e0b9";
}
.ma-icon-new-custom11:before {
  content: "\e0ba";
}
.ma-icon-new-custom12:before {
  content: "\e0bb";
}
.ma-icon-new-custom13:before {
  content: "\e0bc";
}
.ma-icon-new-custom14:before {
  content: "\e0bd";
}
.ma-icon-new-custom15:before {
  content: "\e0be";
}
.ma-icon-new-custom16:before {
  content: "\e0bf";
}
.ma-icon-new-custom17:before {
  content: "\e0c0";
}
.ma-icon-new-custom18:before {
  content: "\e0c1";
}
.ma-icon-new-custom19:before {
  content: "\e0c2";
}
.ma-icon-new-custom20:before {
  content: "\e0c3";
}
.ma-icon-new-custom21:before {
  content: "\e0c4";
}
.ma-icon-new-custom22:before {
  content: "\e0c5";
}
.ma-icon-new-custom23:before {
  content: "\e0c6";
}
.ma-icon-new-custom24:before {
  content: "\e0c7";
}
.ma-icon-new-custom25:before {
  content: "\e0c8";
}
.ma-icon-custom26-1:before {
  content: "\e0c9";
}
.ma-icon-new-custom27:before {
  content: "\e0ca";
}
.ma-icon-new-custom28:before {
  content: "\e0cb";
}
.ma-icon-new-custom29:before {
  content: "\e0cc";
}
.ma-icon-new-custom30:before {
  content: "\e0cd";
}
.ma-icon-new-custom31:before {
  content: "\e0ce";
}
.ma-icon-new-custom32:before {
  content: "\e0cf";
}
.ma-icon-new-custom33:before {
  content: "\e0d0";
}
.ma-icon-new-custom34:before {
  content: "\e0d1";
}
.ma-icon-new-custom35:before {
  content: "\e0d2";
}
.ma-icon-new-custom36:before {
  content: "\e0d3";
}
.ma-icon-new-custom37:before {
  content: "\e0d4";
}
.ma-icon-new-custom38:before {
  content: "\e0d5";
}
.ma-icon-new-custom39:before {
  content: "\e0d6";
}
.ma-icon-new-custom40:before {
  content: "\e0d7";
}
.ma-icon-new-custom41:before {
  content: "\e0d8";
}
.ma-icon-new-custom42:before {
  content: "\e0d9";
}
.ma-icon-new-custom43:before {
  content: "\e0da";
}
.ma-icon-new-custom44:before {
  content: "\e0db";
}
.ma-icon-new-custom45:before {
  content: "\e0dc";
}
.ma-icon-new-custom46:before {
  content: "\e0dd";
}
.ma-icon-new-custom47:before {
  content: "\e0de";
}
.ma-icon-new-custom48:before {
  content: "\e0df";
}
.ma-icon-new-custom49:before {
  content: "\e0e0";
}
.ma-icon-new-custom50:before {
  content: "\e0e1";
}
.ma-icon-new-custom51:before {
  content: "\e0e2";
}
.ma-icon-new-custom52:before {
  content: "\e0e3";
}
.ma-icon-new-custom53:before {
  content: "\e0e4";
}
.ma-icon-new-custom54:before {
  content: "\e0e5";
}
.ma-icon-new-custom55:before {
  content: "\e0e6";
}
.ma-icon-new-custom56:before {
  content: "\e0e7";
}
.ma-icon-new-custom57:before {
  content: "\e0e8";
}
.ma-icon-new-custom58:before {
  content: "\e0e9";
}
.ma-icon-new-custom59:before {
  content: "\e0ea";
}
.ma-icon-new-custom60:before {
  content: "\e0eb";
}
.ma-icon-new-custom61:before {
  content: "\e0ec";
}
.ma-icon-new-custom62:before {
  content: "\e0ed";
}
.ma-icon-new-custom63:before {
  content: "\e0ee";
}
.ma-icon-new-custom64:before {
  content: "\e0ef";
}
.ma-icon-new-custom65:before {
  content: "\e0f0";
}
.ma-icon-new-custom66:before {
  content: "\e0f1";
}
.ma-icon-new-custom67:before {
  content: "\e0f2";
}
.ma-icon-new-custom68:before {
  content: "\e0f3";
}
.ma-icon-new-custom69:before {
  content: "\e0f4";
}
.ma-icon-new-custom70:before {
  content: "\e0f5";
}
.ma-icon-new-custom71:before {
  content: "\e0f6";
}
.ma-icon-new-custom72:before {
  content: "\e0f7";
}
.ma-icon-new-custom73:before {
  content: "\e0f8";
}
.ma-icon-new-custom74:before {
  content: "\e0f9";
}
.ma-icon-new-custom75:before {
  content: "\e0fa";
}
.ma-icon-new-custom76:before {
  content: "\e0fb";
}
.ma-icon-new-custom77:before {
  content: "\e0fc";
}
.ma-icon-new-custom78:before {
  content: "\e0fd";
}
.ma-icon-new-custom79:before {
  content: "\e0fe";
}
.ma-icon-new-custom80:before {
  content: "\e0ff";
}
.ma-icon-new-custom81:before {
  content: "\e100";
}
.ma-icon-new-custom82:before {
  content: "\e101";
}
.ma-icon-new-custom83:before {
  content: "\e102";
}
.ma-icon-new-custom84:before {
  content: "\e103";
}
.ma-icon-new-custom85:before {
  content: "\e104";
}
.ma-icon-new-custom86:before {
  content: "\e105";
}
.ma-icon-new-custom87:before {
  content: "\e106";
}
.ma-icon-new-custom88:before {
  content: "\e107";
}
.ma-icon-new-custom89:before {
  content: "\e108";
}
.ma-icon-new-custom90:before {
  content: "\e109";
}
.ma-icon-new-custom91:before {
  content: "\e10a";
}
.ma-icon-new-custom92:before {
  content: "\e10b";
}
.ma-icon-new-custom93:before {
  content: "\e10c";
}
.ma-icon-new-custom94:before {
  content: "\e10d";
}
.ma-icon-custom95-1:before {
  content: "\e10e";
}
.ma-icon-new-custom96:before {
  content: "\e10f";
}
.ma-icon-new-custom97:before {
  content: "\e110";
}
.ma-icon-new-custom98:before {
  content: "\e111";
}
.ma-icon-new-custom99:before {
  content: "\e112";
}
.ma-icon-new-custom100:before {
  content: "\e113";
}
.ma-icon-new-event:before {
  content: "\e114";
}
.ma-icon-new-group:before {
  content: "\e115";
}
.ma-icon-new-lead:before {
  content: "\e116";
}
.ma-icon-new-note:before {
  content: "\e117";
}
.ma-icon-new-notebook:before {
  content: "\e118";
}
.ma-icon-new-opportunity:before {
  content: "\e119";
}
.ma-icon-new-person-account:before {
  content: "\e11a";
}
.ma-icon-new-task:before {
  content: "\e11b";
}
.ma-icon-new-window:before {
  content: "\e11c";
}
.ma-icon-news:before {
  content: "\e11d";
}
.ma-icon-note:before {
  content: "\e11e";
}
.ma-icon-notebook:before {
  content: "\e11f";
}
.ma-icon-notification:before {
  content: "\e120";
}
.ma-icon-office365:before {
  content: "\e121";
}
.ma-icon-offline:before {
  content: "\e122";
}
.ma-icon-open:before {
  content: "\e123";
}
.ma-icon-open-folder:before {
  content: "\e124";
}
.ma-icon-opened-folder:before {
  content: "\e125";
}
.ma-icon-opportunity:before {
  content: "\e126";
}
.ma-icon-orders:before {
  content: "\e127";
}
.ma-icon-overflow:before {
  content: "\e128";
}
.ma-icon-package:before {
  content: "\e129";
}
.ma-icon-package-org:before {
  content: "\e12a";
}
.ma-icon-package-org-beta:before {
  content: "\e12b";
}
.ma-icon-page:before {
  content: "\e12c";
}
.ma-icon-palette:before {
  content: "\e12d";
}
.ma-icon-password-unlock:before {
  content: "\e12e";
}
.ma-icon-paste:before {
  content: "\e12f";
}
.ma-icon-people:before {
  content: "\e130";
}
.ma-icon-performance:before {
  content: "\e131";
}
.ma-icon-person-account:before {
  content: "\e132";
}
.ma-icon-phone-landscape:before {
  content: "\e133";
}
.ma-icon-phone-portrait:before {
  content: "\e134";
}
.ma-icon-photo:before {
  content: "\e135";
}
.ma-icon-picklist:before {
  content: "\e136";
}
.ma-icon-poll:before {
  content: "\e137";
}
.ma-icon-portal:before {
  content: "\e138";
}
.ma-icon-post:before {
  content: "\e139";
}
.ma-icon-power:before {
  content: "\e13a";
}
.ma-icon-preview:before {
  content: "\e13b";
}
.ma-icon-pricebook:before {
  content: "\e13c";
}
.ma-icon-priority:before {
  content: "\e13d";
}
.ma-icon-process:before {
  content: "\e13e";
}
.ma-icon-product:before {
  content: "\e13f";
}
.ma-icon-push:before {
  content: "\e140";
}
.ma-icon-puzzle:before {
  content: "\e141";
}
.ma-icon-question:before {
  content: "\e142";
}
.ma-icon-question-best:before {
  content: "\e143";
}
.ma-icon-question-feed:before {
  content: "\e144";
}
.ma-icon-question-post-action:before {
  content: "\e145";
}
.ma-icon-questions-and-answers:before {
  content: "\e146";
}
.ma-icon-quote:before {
  content: "\e147";
}
.ma-icon-quotes:before {
  content: "\e148";
}
.ma-icon-recent:before {
  content: "\e149";
}
.ma-icon-record:before {
  content: "\e14a";
}
.ma-icon-redo:before {
  content: "\e14b";
}
.ma-icon-refresh:before {
  content: "\e14c";
}
.ma-icon-reject:before {
  content: "\e14d";
}
.ma-icon-relate:before {
  content: "\e14e";
}
.ma-icon-related-list:before {
  content: "\e14f";
}
.ma-icon-remove:before {
  content: "\e150";
}
.ma-icon-remove-formatting:before {
  content: "\e151";
}
.ma-icon-remove-link:before {
  content: "\e152";
}
.ma-icon-replace:before {
  content: "\e153";
}
.ma-icon-reply:before {
  content: "\e154";
}
.ma-icon-report:before {
  content: "\e155";
}
.ma-icon-reset-password:before {
  content: "\e156";
}
.ma-icon-retweet:before {
  content: "\e157";
}
.ma-icon-reward:before {
  content: "\e158";
}
.ma-icon-richtextbulletedlist:before {
  content: "\e159";
}
.ma-icon-richtextindent:before {
  content: "\e15a";
}
.ma-icon-richtextnumberedlist:before {
  content: "\e15b";
}
.ma-icon-richtextoutdent:before {
  content: "\e15c";
}
.ma-icon-right:before {
  content: "\e15d";
}
.ma-icon-right-align-text:before {
  content: "\e15e";
}
.ma-icon-rotate:before {
  content: "\e15f";
}
.ma-icon-rows:before {
  content: "\e160";
}
.ma-icon-salesforce1:before {
  content: "\e161";
}
.ma-icon-scan-card:before {
  content: "\e162";
}
.ma-icon-search:before {
  content: "\e163";
}
.ma-icon-settings:before {
  content: "\e164";
}
.ma-icon-setup:before {
  content: "\e165";
}
.ma-icon-setup-assistant-guide:before {
  content: "\e166";
}
.ma-icon-share:before {
  content: "\e167";
}
.ma-icon-share-file:before {
  content: "\e168";
}
.ma-icon-share-link:before {
  content: "\e169";
}
.ma-icon-share-poll:before {
  content: "\e16a";
}
.ma-icon-share-post:before {
  content: "\e16b";
}
.ma-icon-share-thanks:before {
  content: "\e16c";
}
.ma-icon-shield:before {
  content: "\e16d";
}
.ma-icon-side-list:before {
  content: "\e16e";
}
.ma-icon-signpost:before {
  content: "\e16f";
}
.ma-icon-skill-entity:before {
  content: "\e170";
}
.ma-icon-sms:before {
  content: "\e171";
}
.ma-icon-snippet:before {
  content: "\e172";
}
.ma-icon-social:before {
  content: "\e173";
}
.ma-icon-socialshare:before {
  content: "\e174";
}
.ma-icon-solution:before {
  content: "\e175";
}
.ma-icon-sort:before {
  content: "\e176";
}
.ma-icon-sossession:before {
  content: "\e177";
}
.ma-icon-spinner:before {
  content: "\e178";
}
.ma-icon-standard-objects:before {
  content: "\e179";
}
.ma-icon-stop:before {
  content: "\e17a";
}
.ma-icon-strikethrough:before {
  content: "\e17b";
}
.ma-icon-submit-for-approval:before {
  content: "\e17c";
}
.ma-icon-success:before {
  content: "\e17d";
}
.ma-icon-summary:before {
  content: "\e17e";
}
.ma-icon-summarydetail:before {
  content: "\e17f";
}
.ma-icon-switch:before {
  content: "\e180";
}
.ma-icon-table:before {
  content: "\e181";
}
.ma-icon-tablet-landscape:before {
  content: "\e182";
}
.ma-icon-tablet-portrait:before {
  content: "\e183";
}
.ma-icon-tabset:before {
  content: "\e184";
}
.ma-icon-task:before {
  content: "\e185";
}
.ma-icon-task2:before {
  content: "\e186";
}
.ma-icon-team-member:before {
  content: "\e187";
}
.ma-icon-text-background-color:before {
  content: "\e188";
}
.ma-icon-text-color:before {
  content: "\e189";
}
.ma-icon-thanks:before {
  content: "\e18a";
}
.ma-icon-thanks-loading:before {
  content: "\e18b";
}
.ma-icon-threedots:before {
  content: "\e18c";
}
.ma-icon-tile-card-list:before {
  content: "\e18d";
}
.ma-icon-today:before {
  content: "\e18e";
}
.ma-icon-topic:before {
  content: "\e18f";
}
.ma-icon-touch-action:before {
  content: "\e190";
}
.ma-icon-trail:before {
  content: "\e191";
}
.ma-icon-undelete:before {
  content: "\e192";
}
.ma-icon-undeprecate:before {
  content: "\e193";
}
.ma-icon-underline:before {
  content: "\e194";
}
.ma-icon-undo:before {
  content: "\e195";
}
.ma-icon-unlock:before {
  content: "\e196";
}
.ma-icon-unmatched:before {
  content: "\e197";
}
.ma-icon-unmuted:before {
  content: "\e198";
}
.ma-icon-up:before {
  content: "\e199";
}
.ma-icon-update:before {
  content: "\e19a";
}
.ma-icon-update-status:before {
  content: "\e19b";
}
.ma-icon-upload:before {
  content: "\e19c";
}
.ma-icon-user:before {
  content: "\e19d";
}
.ma-icon-user-activation:before {
  content: "\e19e";
}
.ma-icon-user-role:before {
  content: "\e19f";
}
.ma-icon-volume-high:before {
  content: "\e1a0";
}
.ma-icon-volume-low:before {
  content: "\e1a1";
}
.ma-icon-volume-off:before {
  content: "\e1a2";
}
.ma-icon-warning:before {
  content: "\e1a3";
}
.ma-icon-web-link:before {
  content: "\e1a4";
}
.ma-icon-weeklyview:before {
  content: "\e1a5";
}
.ma-icon-work-order:before {
  content: "\e1a6";
}
.ma-icon-work-order-item:before {
  content: "\e1a7";
}
.ma-icon-world:before {
  content: "\e1a8";
}
.ma-icon-zoomin:before {
  content: "\e1a9";
}
.ma-icon-zoomout:before {
  content: "\e1aa";
}
.ma-icon-shape-layer:before {
  content: "\e1ab";
}
.ma-icon-checkin:before {
  content: "\55";
}
.ma-icon-data-layer:before {
  content: "\e071";
}
.ma-icon-folder:before {
  content: "\e1ac";
}
.ma-icon-navigate-arrow:before {
  content: "\e1ae";
}
.ma-icon-custom95:before {
  content: "\e042";
}
.ma-icon-custom26:before {
  content: "\7d";
}
.ma-icon-custom31:before {
  content: "\e002";
}
.ma-icon-refresh-markers:before {
  content: "\e1ad";
}
.ma-icon-door:before {
  content: "\e1af";
}
.ma-icon-route:before {
  content: "\e1b0";
}
.ma-icon-routes:before {
  content: "\e1b1";
}
.ma-icon-event-blank:before {
  content: "\e1b2";
}
.ma-icon-traffic:before {
  content: "\e1b3";
}
.ma-icon-zoom-to-fit:before {
  content: "\e1b4";
}
.ma-icon-threedots-vertical:before {
    content: "\e1be";
}

</style>

<script>
//potential fixes for Android keyboard and fixed bottom elements
// $( "input" ).focus(function() {
//   $('#bottomBarWrap').hide();
// });

// $( "input" ).blur(function() {
//   $('#bottomBarWrap').show();
// });

function showChatterTabFullScreen() {
    $('#markerTooltipWrap').addClass('full-tooltip-body-in');
    $('#chatterFullScreenItems').show();
}

function hideChatterTabFullScreen() {
    $('#markerTooltipWrap').removeClass('full-tooltip-body-in');
    $('#chatterFullScreenItems').hide();
}

    // close currently open slds modal
    $(document).on('click', '.js-close-this-slds-modal', function() {
        //$('#sldsModalBackDrop').removeClass('slds-backdrop--open');
        //$(this).closest('.slds-modal').removeClass('slds-fade-in-open');
        closeThisSLDSModal(this);
    });

    function closeThisSLDSModal(theModal){
         $('.slds-backdrop').removeClass('slds-backdrop_open');
         $(theModal).closest('.slds-modal').removeClass('slds-fade-in-open');
    }

</script>

</apex:page>